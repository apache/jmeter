<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at
 
       http://www.apache.org/licenses/LICENSE-2.0
 
   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->

<!-- Content Stylesheet for Site -->

	 
<!-- start the processing -->
	 <!-- ====================================================================== -->
	 <!-- Main Page Section -->
	 <!-- ====================================================================== -->
	 <html>
		  <head>
				<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

				
								
				<title>JMeter - User's Manual: Building a Web Test Plan</title>
		  </head>

		  <body bgcolor="#ffffff" text="#000000" link="#525D76">
				<table border="0" cellspacing="0">
					 <!-- TOP IMAGE -->
					 <tr>
						  <td align="left">
<a href="http://jakarta.apache.org"><img width="505" height="48" src="../images/jakarta-logo.gif" border="0"/></a>
</td>
<td align="right">
<a href="http://jakarta.apache.org/jmeter/"><img width="221" height="102" src="../images/logo.jpg" alt="JMeter" title="JMeter" border="0"/></a>
</td>
					 </tr>
				</table>
				<table border="0" width="100%" cellspacing="4">
					 <tr><td colspan="2">
						  <hr noshade size="1"/>
					 </td></tr>

					 <tr>
						  <!-- LEFT SIDE NAVIGATION -->
						  <td width="20%" valign="top" nowrap="true">
						  	 		  <p><strong>About</strong></p>
		  <ul>
		  				<li>	 <a href="../index.html">Overview</a>
</li>
		  				<li>	 <a href="../changes.html">Changes</a>
</li>
		  				<li>	 <a href="../known_bugs.html">Known Bugs</a>
</li>
		  				<li>	 <a href="../license.html">License</a>
</li>
		  				<li>	 <a href="http://wiki.apache.org/jakarta-jmeter/JMeterCommitters">Contributors</a>
</li>
		  		  </ul>
	 		  <p><strong>Download</strong></p>
		  <ul>
		  				<li>	 <a href="http://jakarta.apache.org/site/binindex.cgi#jmeter_binaries">Download Binary</a>
</li>
		  				<li>	 <a href="http://jakarta.apache.org/site/sourceindex.cgi#jmeter_sources">Download Source</a>
</li>
		  				<li>	 <a href="../nightly.html">Developer (Nightly) Builds</a>
</li>
		  		  </ul>
	 		  <p><strong>Documentation</strong></p>
		  <ul>
		  				<li>	 <a href="../usermanual/index.html">User Manual</a>
</li>
		  				<li>	 <a href="../api/index.html">Javadocs</a>
</li>
		  				<li>	 <a href="../localising/index.html">Localisation (Translator's Guide)</a>
</li>
		  				<li>	 <a href="../building.html">Building JMeter and Add-Ons</a>
</li>
		  				<li>	 <a href="http://wiki.apache.org/jakarta-jmeter">JMeter Wiki</a>
</li>
		  				<li>	 <a href="http://wiki.apache.org/jakarta-jmeter/JMeterFAQ">FAQ (Wiki)</a>
</li>
		  		  </ul>
	 		  <p><strong>Tutorials (PDF format)</strong></p>
		  <ul>
		  				<li>	 <a href="../usermanual/jmeter_distributed_testing_step_by_step.pdf">Distributed Testing</a>
</li>
		  				<li>	 <a href="../usermanual/jmeter_proxy_step_by_step.pdf">Recording Tests</a>
</li>
		  				<li>	 <a href="../usermanual/junitsampler_tutorial.pdf">JUnit Sampler</a>
</li>
		  				<li>	 <a href="../usermanual/jmeter_accesslog_sampler_step_by_step.pdf">Access Log Sampler</a>
</li>
		  				<li>	 <a href="../extending/jmeter_tutorial.pdf">Extending JMeter</a>
</li>
		  		  </ul>
	 		  <p><strong>Community</strong></p>
		  <ul>
		  				<li>	 <a href="http://jakarta.apache.org/site/getinvolved.html">Get Involved</a>
</li>
		  				<li>	 <a href="http://jakarta.apache.org/site/mail.html">Mailing Lists</a>
</li>
		  				<li>	 <a href="http://jakarta.apache.org/site/cvsindex.html">SVN Repositories</a>
</li>
		  		  </ul>
	 						  </td>
						  <td width="80%" align="left" valign="top">
						    		<table>
		<tr>
		<td bgcolor="#525D76">
        <div align="right"><a href="index.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Index</font></a></div>
        </td>
				<td bgcolor="#525D76">
        <div align="right"><a href="build-adv-web-test-plan.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Next</font></a></div>
        </td>
        				<td bgcolor="#525D76">
        <div align="right"><a href="test_plan.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Prev</font></a></div>
        </td>
                </tr>
         </table>
      						  <br>
						  						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="building"><strong>5. Building a Web Test Plan</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								In this section, you will learn how to create a basic

												<a	 href="build-test-plan.html">
								Test Plan
						</a>
									 to test a Web site.  You will
create five users that send requests to two pages on the Jakarta Web site.
Also, you will tell the users to run their tests twice. So, the total number of
requests is (5 users) x (2 requests) x (repeat 2 times) = 20 HTTP requests. To
construct the Test Plan, you will use the following elements:

												<a	 href="test_plan.html#thread_group">
								Thread Group
						</a>
									,

												<a href="../usermanual/component_reference.html#HTTP_Request">HTTP Request</a>
									,

												<a href="../usermanual/component_reference.html#HTTP_Request_Defaults">HTTP Request Defaults</a>
									, and

												<a href="../usermanual/component_reference.html#Graph_Results">Graph Results</a>
									.
						</p>
							  									 				<p	>
								For a more advanced Test Plan, see

												<a	 href="build-adv-web-test-plan.html">
								Building an Advanced Web Test Plan
						</a>
									.
						</p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="adding_users"><strong>5.1 Adding Users</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								The first step you want to do with every JMeter Test Plan is to add a

												<a	 href="test_plan.html#thread_group">
								Thread Group
						</a>
									 element.  The Thread Group tells
JMeter the number of users you want to simulate, how often the users should send
requests, and the how many requests they should send.
						</p>
							  									 				<p	>
								Go ahead and add the ThreadGroup element by first selecting the Test Plan,
clicking your right mouse button to get the Add menu, and then select
Add --> ThreadGroup.
						</p>
							  									 				<p	>
								You should now see the Thread Group element under Test Plan.  If you do not
see the element, then "expand" the Test Plan tree by clicking on the
Test Plan element.
						</p>
							  									 				<p	>
								Next, you need to modify the default properties.  Select the Thread Group element
in the tree, if you have not already selected it. You should now see the Thread
Group Control Panel in the right section of the JMeter window (see Figure 5.1
below)
						</p>
							  									 				<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/screenshots/webtest/threadgroup.png"><br>
	<font size="-1">						
Figure 5.1. Thread Group with Default Values
			</font></td></tr></table></p>
							  									 				<p	>
								Start by providing a more descriptive name for our Thread Group. In the name
field, enter Jakarta Users.
						</p>
							  									 				<p	>
								Next, increase the number of users (called threads) to 5.
						</p>
							  									 				<p	>
								In the next field, the Ramp-Up Period, leave the the default value of 0
seconds.  This property tells JMeter how long to delay between starting each
user. For example, if you enter a Ramp-Up Period of 5 seconds, JMeter will
finish starting all of your users by the end of the 5 seconds.  So, if we have
5 users and a 5 second Ramp-Up Period, then the delay between starting users
would be 1 second (5 users / 5 seconds = 1 user per second).  If you set the
value to 0, then JMeter will immediately start all of your users.
						</p>
							  									 				<p	>
								Finally enter a value of 2 in
the Loop Count field.  This property tells JMeter how many times to repeat your
test. If you enter a loop count value of 1, then JMeter will run your test only
once. To have JMeter repeatedly run your Test Plan, select the Forever
checkbox.
						</p>
							  									 				<p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
		<tr><td>						In most applications, you have to manually accept
changes you make in a Control Panel.  However, in JMeter, the Control Panel
automatically accepts your changes as you make them.  If you change the
name of an element, the tree will be updated with the new text after you
leave the Control Panel (for example, when selecting another tree element).
			</td></tr>
	</table></p>
							  									 				<p	>
								See Figure 5.2 for the completed Jakarta Users Thread Group.
						</p>
							  									 				<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/screenshots/webtest/threadgroup2.png"><br>
	<font size="-1">						
Figure 5.2. Jakarta Users Thread Group
			</font></td></tr></table></p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="adding_defaults"><strong>5.2 Adding Default HTTP Request Properties</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								Now that we have defined our users, it is time to define the tasks that they
will be performing.  In this section, you will specify the default settings
for your HTTP requests.  And then, in section 5.3, you will add HTTP Request
elements which use some of the default settings you specified here.
						</p>
							  									 				<p	>
								Begin by selecting the Jakarta Users (Thread Group) element. Click your right mouse button
to get the Add menu, and then select Add --> Config Element --> HTTP Request
Defaults. Then, select this new element to view its Control Panel (see Figure 5.3).

						</p>
							  									 				<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/screenshots/webtest/http-defaults1.png"><br>
	<font size="-1">						
Figure 5.3. HTTP Request Defaults
			</font></td></tr></table></p>
							  									 				<p	>
								
Like most JMeter elements, the 
												<a href="../usermanual/component_reference.html#HTTP_Request_Defaults">HTTP Request Defaults</a>
									 Control
Panel has a name field that you can modify.  In this example, leave this field with
the default value.
						</p>
							  									 				<p	>
								Skip to the next field, which is the Web Server's Server Name/IP. For the
Test Plan that you are building, all HTTP requests will be sent to the same
Web server, jakarta.apache.org.  Enter this domain name into the field.
This is the only field that we will specify a default, so leave the remaining
fields with their default values.
						</p>
							  									 				<p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
		<tr><td>						The HTTP Request Defaults element does not tell JMeter
to send an HTTP request.  It simply defines the default values that the
HTTP Request elements use.
			</td></tr>
	</table></p>
							  									 				<p	>
								See Figure 5.4 for the completed HTTP Request Defaults element
						</p>
							  									 				<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/screenshots/webtest/http-defaults2.png"><br>
	<font size="-1">						
Figure 5.4. HTTP Defaults for our Test Plan
			</font></td></tr></table></p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="adding_cookie_support"><strong>5.3 Adding Cookie Support</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								Nearly all web testing should use cookie support, unless your application
specifically doesn't use cookies.  To add cookie support, simply add an

												<a href="../usermanual/component_reference.html#HTTP_Cookie_Manager">HTTP Cookie Manager</a>
									 to each 
												<a	 href="test_plan.html#thread_group">
								Thread
Group
						</a>
									 in your test plan.  This will ensure that each thread gets its own
cookies, but shared across all 
												<a href="../usermanual/component_reference.html#HTTP_Request">HTTP Request</a>
									 objects.
						</p>
							  									 				<p	>
								To add the 
												<a href="../usermanual/component_reference.html#HTTP_Cookie_Manager">HTTP Cookie Manager</a>
									, simply select the

												<a	 href="test_plan.html#thread_group">
								Thread Group
						</a>
									, and choose Add -->
Config Element --> HTTP
Cookie Manager, either from the Edit Menu, or from the right-click pop-up menu.
						</p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="adding_requests"><strong>5.4 Adding HTTP Requests</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								In our Test Plan, we need to make two HTTP requests. The first one is for the
Jakarta home page (http://jakarta.apache.org/), and the second one is for the
Project Guidelines page (http://jakarta.apache.org/site/guidelines.html).
						</p>
							  									 				<p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
		<tr><td>						JMeter sends requests in the order that they appear in the tree.
			</td></tr>
	</table></p>
							  									 				<p	>
								Start by adding the first 
												<a href="../usermanual/component_reference.html#HTTP_Request">HTTP Request</a>
									
to the Jakarta Users element (Add --> Sampler --> HTTP Request).
Then, select the HTTP Request element in the tree and edit the following properties
(see Figure 5.5):

												<ol	>
								

												<li	>
								Change the Name field to "Home Page".
						</li>
									

												<li	>
								Set the Path field to "/".  Remember that you do not have to set the Server
Name field because you already specified this value in the HTTP Request Defaults
element.
						</li>
									

						</ol>
									

						</p>
							  									 				<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/screenshots/webtest/http-request1.png"><br>
	<font size="-1">						
Figure 5.5. HTTP Request for Jakarta Home Page
			</font></td></tr></table></p>
							  									 				<p	>
								Next, add the second HTTP Request and edit the following properties (see
Figure 5.6:

												<ol	>
								

												<li	>
								Change the Name field to "Project Guidelines".
						</li>
									

												<li	>
								Set the Path field to "/site/guidelines.html".
						</li>
									

						</ol>
									

						</p>
							  									 				<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/screenshots/webtest/http-request2.png"><br>
	<font size="-1">						
Figure 5.6. HTTP Request for Jakarta Project Guidelines Page
			</font></td></tr></table></p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="adding_listener"><strong>5.5 Adding a Listener to View Store the Test Results</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								The final element you need to add to your Test Plan is a
 
												<a	 href="component_reference.html#listeners">
								Listener
						</a>
									. This element is
responsible for storing all of the results of your HTTP requests in a file and presenting
a visual model of the data.
						</p>
							  									 				<p	>
								Select the Jakarta Users element and add a 
												<a href="../usermanual/component_reference.html#Graph_Results">Graph Results</a>
									 listener (Add --> Listener
--> Graph Results).  Next, you need to specify a directory and filename of the
output file.  You can either type it into the filename field, or select the
Browse button and browse to a directory and then enter a filename.
						</p>
							  									 				<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/screenshots/graph_results.png"><br>
	<font size="-1">						
Figure 5.7. Graph Results Listener
			</font></td></tr></table></p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="saving"><strong>5.6 Saving the Test Plan</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								Although it is not required, we recommend that you save the Test Plan to a
file before running it.  To save the Test Plan, select Save Test Plan from the
File menu.
						</p>
							  									 				<p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
		<tr><td>						JMeter allows you to save the entire Test Plan tree or
only a portion of it.  To save only the elements located in a particular "branch"
of the Test Plan tree, select the Test Plan element in the tree from which to start
the "branch", and then click your right mouse button to access the Save As menu item.
Alternatively, select the appropriate Test Plan element  and then select Save As from
the Edit menu.

			</td></tr>
	</table></p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  									 <table border="0" cellspacing="0" cellpadding="2" width="100%">
		<tr><td bgcolor="#525D76">
		  <font color="#ffffff" face="arial,helvetica,sanserif">
			 <a name="running"><strong>5.7 Running the Test Plan</strong></a>
		  </font>
		</td></tr>
		<tr><td>
		  <blockquote>
		  									 				<p	>
								From the Run menu, select Run.
						</p>
							  									 				<p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
		<tr><td>						JMeter lights up a green square in the upper-right-hand corner to indicate if a test is
currently running.  The square is turned gray when all tests stop.  Even after you select "stop",
the green light will stay on until all test threads have exited.
			</td></tr>
	</table></p>
							  									 				<p	>
								The numbers to the left of the green square show the currently active and total number of threads.
						</p>
							  									 				<p	>
								Once JMeter has finished running your Test Plan, the green box will turn to grey.
If you wish to stop the test plan earlier, select Shutdown or Stop from the
Run menu.
						</p>
							  									 				<p	>
								If you selected a file to save the results to in your listener, then you will have a file that can be
opened in any visualizer.  Each visualizer will display the results in its own fashion.
						</p>
							  									 				<p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
		<tr><td>						It is possible to have the same file open in more than one visualizer.  This is not a problem.  JMeter
will ensure during the test run that no sample is recorded to the same file more than once (this only applies to XML format samples).
			</td></tr>
	</table></p>
							  		  </blockquote>
		  </p>
		</td></tr>
		<tr><td><br></td></tr>
	 </table>
						  						    		<table>
		<tr>
		<td bgcolor="#525D76">
        <div align="right"><a href="index.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Index</font></a></div>
        </td>
				<td bgcolor="#525D76">
        <div align="right"><a href="build-adv-web-test-plan.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Next</font></a></div>
        </td>
        				<td bgcolor="#525D76">
        <div align="right"><a href="test_plan.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Prev</font></a></div>
        </td>
                </tr>
         </table>
      						  <br>
						  </td>
					 </tr>

					 <tr><td colspan="2">
						  <hr noshade size="1"/>
					 </td></tr>
					 <tr><td colspan="2">
						  <div align="center"><font color="#525D76" size="-1"><em>
						  Copyright &#169; 1999-2007, Apache Software Foundation
						  </em></font></div>
					 </td></tr>
				</table>
		  </body>
	 </html>
<!-- end the processing -->





























