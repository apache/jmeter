<?xml version="1.0"?>
<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to you under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE document [
  <!ENTITY hellip "&#x02026;">
  <!ENTITY le     "&#x02264;">
  <!ENTITY nbsp   "&#x000A0;">
  <!ENTITY ndash  "&#x02013;">
  <!ENTITY oacute "&#x000F3;">
  <!ENTITY rarr   "&#x02192;">
  <!ENTITY rArr   "&#x021D2;">
  <!ENTITY THORN  "&#x000DE;">
  <!ENTITY vellip "&#x022EE;">
]>
<document>
<properties>
    <author email="dev AT jmeter.apache.org">JMeter developers</author>
    <title>History of Previous Changes</title>
</properties>
<body>
<section name="History of Previous Changes">
<note>
<b>This page details the changes made in previous versions only.</b>
<br></br>
Current changes are detailed in <a href="changes.html">Changes</a>.
</note>
<p><b>Changes sections are chronologically ordered from top (most recent) to bottom
(least recent)</b></p>

<!--  =================== 5.6.2 =================== -->

<h1>Version 5.6.2 </h1>
<p>
Summary
</p>
<ul>
<li><a href="#Bug fixes">Bug fixes</a></li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>General</h3>
<ul>
  <li><pr>6042</pr><issue>6041</issue>Fix compatibility with Maven's pom.xml parser by adding explicit versions for
    <code>com.google.auto.service:auto-service-annotations</code> (regression since 5.6)</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
  <li><issue>6043</issue> <code>Min</code> is always <code>0</code> in <code>Summary Report</code> (fixed in 5.6.3)</li>

<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_14_Release/rhino-engine-1.7.14.jar">rhino-engine-1.7.14.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 (or later) and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.3/nashorn-core-15.3.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.5/asm-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.5/asm-commons-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.5/asm-util-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.5/asm-tree-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.5/asm-analysis-9.5.jar
popd
export JVM_ARGS="--module-path $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>

<!--  =================== 5.6.1 =================== -->

<h1>Version 5.6.1</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><pr>6010</pr>Use UTF-8 as a default encoding in HTTP sampler. It enables sending parameter names, and filenames with unicode characters</li>
  <li><pr>6010</pr>Test Recorder will use UTF-8 encoding by default, so it will infer human-readable arguments rather than percent-encoded ones</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
  <li><pr>6000</pr>Add release-drafter for populating GitHub releases info based on the merged PRs</li>
  <li><pr>5989</pr>Use Gradle toolchains for JDK provisioning, enable building and testing with different JDKs, start testing with Java 21</li>
  <li><pr>5991</pr>Update jackson-core, jackson-databind, jackson-annotations to 2.15.2 (from 2.15.1)</li>
  <li><pr>5993</pr>Update ph-commons to 10.2.5 (from 10.2.4)</li>
  <li><pr>6017</pr>Update kotlin-stdlib to 1.8.22 (from 1.8.21)</li>
  <li><pr>6020</pr>Update error_prone_annotations to 2.20.0 (from 2.19.1)</li>
  <li><pr>6023</pr>Update checker-qual to 3.35.0 (from 3.34.0)</li>
</ul>

<h3>Other Samplers</h3>
<ul>
  <li><pr>6028</pr> Change default value for <code>sampleresult.default.encoding</code> to UTF-8 (it inherits default HTTP encoding which was modified in <pr>6010</pr>)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>Thread Groups</h3>
<ul>
  <li><pr>6011</pr>Regression since 5.6: ThreadGroups are running endlessly in non-gui mode: use default value
    for LoopController.continue_forever rather than initializing it in the constructor</li>
</ul>

<h3>Other Samplers</h3>
<ul>
  <li><pr>6012</pr> Java Request sampler cannot be enabled again after disabling in UI (regression since 5.6)</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
  <li>Alex Schwartz, <a href="https://github.com/alexsch01">@alexsch01</a></li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
  <li>David Getzlaff, <a href="https://github.com/dgetzlaf">@dgetzlaf</a></li>
  <li>LeeBaul, <a href="https://github.com/libaolu">@libaolu</a></li>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
  <li><code>pom.xml</code> misses <code>&lt;version&gt;</code> tags for <code>auto-service-annotations</code>, so Maven can't infer transitive dependencies. The issue is resolved in 5.6.2</li>

  <li><issue>6043</issue> <code>Min</code> is always <code>0</code> in <code>Summary Report</code> (fixed in 5.6.3)</li>

<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_14_Release/rhino-engine-1.7.14.jar">rhino-engine-1.7.14.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 (or later) and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.3/nashorn-core-15.3.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.5/asm-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.5/asm-commons-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.5/asm-util-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.5/asm-tree-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.5/asm-analysis-9.5.jar
popd
export JVM_ARGS="--module-path $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>

<!--  =================== 5.6 =================== -->

<h1>Version 5.6</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<ch_section>Improvements</ch_section>

<h3>Thread Groups</h3>
<ul>
<li><issue>5682</issue><pr>717</pr> Open Model Thread Group: avoid skipping rows from CSV Data Set Config</li>
  <li>Support custom thread group implementations in "Add think time" and "Save as test fragment" actions</li>
  <li>Open Model Thread Group: interrupt pending HTTP requests and other <code>Interruptible</code> test elements on test stop</li>
</ul>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><pr>5911</pr> Use Caffeine for caching HTTP headers instead of commons-collections4 LRUMap</li>
  <li><pr>5947</pr> Fetch resources referenced in <code>&lt;link "rel"="preload"...&gt;</code> elements</li>
  <li><pr>5869</pr> Allow more templates to format sampler names in the recorder: <code>#{url}</code>, <code>#{method}</code>, <code>#{scheme}</code>, <code>#{host}</code>, <code>#{port}</code></li>
</ul>

<h3>Other samplers</h3>
<ul>
  <li><pr>5909</pr> Use Caffeine for caching compiled scripts in JSR223 samplers instead of commons-collections4 LRUMap</li>
</ul>

<h3>General</h3>
<ul>
  <li><pr>5792</pr>Add KeyStroke for start_no_timers (Start no pauses: CRTL+SHIFT+n)</li>
  <li><pr>5899</pr>Speed up CPU-bound tests by skipping <code>recoverRunningVersion</code> for elements that are shared between threads (the ones that implement <code>NoThreadClone</code>)</li>
  <li><pr>5914</pr>Use <code>Locale.ROOT</code> instead of default locale for <code>toUpperCase</code>, and <code>toLowerCase</code> to avoid surprises with dotless I in <code>tr_TR</code> locale</li>
  <li><pr>5885</pr>Use Java's <code>ServiceLoader</code> for loading plugins instead of classpath scanning. It enables faster startup</li>
  <li><pr>5788</pr><code>FunctionProperty</code> no longer caches the value.
    Previously it cached the values based on iteration number only which triggered wrong results on concurrent executions.
    The previous behavior can be temporary restored with <code>function.cache.per.iteration</code> property.
  </li>
  <li><pr>5920</pr>Improve HTTP HeaderManager performance when it contains many headers: skip reinitialization on each iteration</li>
  <li><pr>5920</pr>Use AtomicInteger and AtomicLong instead of synchronized primitives for JMeterContextService#numberOfThreads</li>
  <li><pr>5920</pr>Cache bean properties in <code>TestBeanHelper</code> and avoid synchronization, so test plans with <code>TestBean</code>-based elements is faster</li>
  <li><pr>5920</pr>Improve computation when many threads actively produce samplers by using <code>LongAdder</code> and similar concurrency classes to avoid synchronization in <code>Calculator</code></li>
  <li><pr>5920</pr>Reduce synchronization contention on <code>AbstractTestElement</code> that are shared between threads (the ones that implement <code>NoThreadClone</code>)</li>
  <li><pr>5934</pr>Added caching for date formatters for <code>__time</code> function</li>
  <li><pr>710</pr><issue>5666</issue>Added Shortcut key event for Reset search: <code>ctrl + alt + F</code>, <code>cmd + alt + F</code></li>
  <li><pr>5959</pr><code>TestElement</code> has been migrated to Kotlin, so nullable types are annotated better</li>
  <li><pr>5944</pr>Add PI for declaring <code>TestElement</code> schemas so element properties are easier to access in code (see <code>TestElementSchema</code>, <code>TestElement#getSchema()</code>, <code>TestElement#getProps()</code>)</li>
  <li><pr>5944</pr>Enable usage of <code>${...}</code> expressions for checkbox controls (see context menus for checkboxes, however, the individual components should be adapted individually)</li>
  <li><pr>678</pr>Experimental Kotlin and Java DSL for programmatic test plan generation (see <a href="usermanual/build-programmatic-test-plan.html#treebuilder_kotlin_dsl">Creating a plan with Kotlin DSL</a>)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
  <li><pr>725</pr>Add Chinese Simplified Translation for Open Model Thread Group</li>
  <li><pr>5710</pr>Add GitHub Issue templates</li>
  <li><pr>5910</pr>Use Caffeine for caching customizers in TestBeanGUI instead of commons-collections4 LRUMap</li>
  <li><pr>5713</pr><pr>5931</pr>Update Spock to 2.3-groovy-3.0 (from 2.1-groovy-3.0)</li>
  <li><issue>5718</issue>Update Apache commons-text to 1.10.0 (from 1.9)</li>
  <li><pr>5731</pr>Update docs for <code>changeCase</code> function. <code>UPPER</code> is the default</li>
  <li><pr>5924</pr>Update Apache commons-io to 2.12.0 (from 2.11.0)</li>
  <li><pr>5921</pr>Update Jackson Core to 2.15.1 (from 2.13.3)</li>
  <li><pr>5921</pr>Update Jackson Databind to 2.15.1 (from 2.13.3)</li>
  <li><pr>5725</pr>Update Tika Parser to 1.28.5 (from 1.28.3)</li>
  <li><pr>5725</pr>Update JSoup to 1.16.1 (from 1.15.1)</li>
  <li><pr>5725</pr>Update Apache commons-net to 3.9.0 (from 3.8.0)</li>
  <li><pr>5725</pr>Update XStream to 1.4.20 (from 1.4.19)</li>
  <li><pr>5763</pr><pr>5814</pr>Updated Gradle to 8.1.1 (from 7.2)</li>
  <li><pr>5854</pr>Added Apache Httpclient5 5.1.3</li>
  <li><pr>5833</pr>Update Apache Freemarker to 2.3.32 (from 2.3.31)</li>
  <li><pr>5830</pr>Update Apache Groovy to 3.0.17 (from 3.0.11)</li>
  <li><pr>5862</pr>Update Apache Httpclient to 4.5.14 (from 4.5.13)</li>
  <li><pr>5880</pr>Update Apache Xalan to 2.7.3 (from 2.7.2)</li>
  <li><pr>5854</pr>Update Saxon-HE to 11.5 (from 11.5)</li>
  <li><pr>5840</pr><pr>5930</pr>Update accessors-smart to 2.4.11 (from 2.4.8)</li>
  <li><pr>5837</pr>Update asm to 9.5 (from 9.3)</li>
  <li><pr>5840</pr><pr>5930</pr>Update json-smart to 2.4.11 (from 2.4.8)</li>
  <li><pr>5814</pr>Update kotlin-stdlib to 1.8.21 (from 1.6.21)</li>
  <li><pr>5889</pr><pr>5918</pr><pr>5814</pr>Update kotlinx-coroutines-core to 1.8.21 (from 1.6.21)</li>
  <li><pr>5889</pr><pr>5918</pr><pr>5814</pr>Update kotlinx-coroutines-swing to 1.8.21 (from 1.6.21)</li>
  <li><pr>5907</pr>Update lets-plot-batik to 3.2.0 (from 2.1.1)</li>
  <li><pr>5907</pr>Update lets-plot-jvm to 4.3.0 (from 3.1.1)</li>
  <li><pr>5859</pr>Update log4j-1.2-api to 2.20.0 (from 2.17.2)</li>
  <li><pr>5859</pr>Update log4j-api to 2.20.0 (from 2.17.2)</li>
  <li><pr>5859</pr>Update log4j-core to 2.20.0 (from 2.17.2)</li>
  <li><pr>5859</pr>Update log4j-slf4j-impl to 2.20.0 (from 2.17.2)</li>
  <li><pr>5861</pr>Update neo4j-java-driver to 4.4.11 (from 4.4.6)</li>
  <li><pr>5853</pr>Update org.jetbrains:annotations to 24.0.1 (from 23.0.0)</li>
  <li><pr>5868</pr><pr>5886</pr>Update ph-commons to 10.2.4 (from 10.1.6)</li>
  <li><pr>5861</pr>Update reactive-streams to 1.0.4 (from 1.0.3)</li>
  <li><pr>5847</pr>Update rsyntaxtextarea to 3.3.3 (from 3.2.0)</li>
  <li><pr>5839</pr>Update svgSalamander to 1.1.4 (from 1.1.2.4)</li>
  <li><pr>5852</pr>Update xmlgraphics-commons to 2.8 (from 2.7)</li>
  <li><pr>5854</pr>Update xmlresolver to 4.6.4 (from 4.2.0)</li>
  <li><pr>693</pr>Added randomized test GitHub Actions matrix for better coverage of locales and time zones</li>
  <li><pr>5960</pr>Add OpenJDK JMH for creating microbenchmarks in JMeter code</li>
  <li><issue>5961</issue>Deprecate TestElement.threadName as it is not related to TestElement</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><pr>5901</pr>Fix NumberFormatException when counter is empty or not a digit on Proxy Settings panel</li>
  <li><pr>5987</pr><issue>4546</issue>Encode unicode characters in filenames when sending files in HTTP Sampler</li>
</ul>

<h3>Other Samplers</h3>
<ul>
  <li><pr>5736</pr><issue>5733</issue>Allow <code>SampleResult#setEndTime</code> be set in <code>JSR223Sampler</code></li>
</ul>

<h3>Listeners</h3>
<ul>
  <li><issue>5740</issue><pr>5741</pr>Fix Aggregated Graph component to cope with empty names of samplers</li>
  <li><issue>5807</issue>Fix an <code>ArrayIndexOutOfBoundsException</code> on HTTP parameters line on special case when key and value are empty,
    i.e.: "<code>k1=v1&amp;&#61;&amp;k2=v2</code>"</li>
  <li><issue>5654</issue><pr>5785</pr> Fix <code>InfluxDBRawBackendListenerClient</code> missing data. Allow InfluxDB to insert multiple entries with the
    same <code>timestamp</code> but with different <code>threadName</code>. Contributed by Victor Peralta (vperaltac at github)</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
  <li><pr>5717</pr>Add jsonpath string to JSON Path Assertion error message so the error is easier to understand</li>
  <li><pr>723</pr>Use correct number format on JSON Path Assertion. Contributed by andreaslind01 (andreaslind01 at gmail.com)</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
  <li><bug>66140</bug>Guess the delimiter of the CSV source, when configured one seems wrong.
    This is in line with the behaviour of CSVSaveService.</li>
</ul>

<h3>Documentation</h3>
<ul>
  <li><issue>5694</issue>Document changed formatter for <funclink name="__time()"/>. A warning will be logged,
  if the code <code>u</code> is found in the format string, as the meaning for that code has changed from <em>day-of-week</em>
  to <em>year</em>.</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>66157</bug><pr>719</pr>Correct theme for darklaf on rsyntaxtextarea</li>
  <li><issue>5872</issue><pr>5874</pr>Trim name in Argument objects.</li>
  <li><pr>693</pr>Avoid wrong results when <code>Object.hashCode()</code> happen to collide. Use <code>IdentityHashMap</code> instead of <code>HashMap</code> when key is <code>TestElement</code></li>
  <li>Refresh UI when dragging JMeter window from one monitor to another, so rich syntax text areas are properly editable after window movement</li>
  <li><pr>5984</pr><code>AbstractTestElement#clone</code> might produce non-identical clones if element constructor adds a non-default property value</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
  <li>Alex Schwartz, <a href="https://github.com/alexsch01">@alexsch01</a></li>
  <li>Andreas Lind, <a href="https://github.com/andreaslind01">@andreaslind01</a></li>
  <li>Arnout Engelen, <a href="https://github.com/raboof">@raboof</a></li>
  <li>Clay Johnson, <a href="https://github.com/clayburn">@clayburn</a></li>
  <li>David Getzlaff, <a href="https://github.com/dgetzlaf">@dgetzlaf</a></li>
  <li>Kai Lehmann, <a href="https://github.com/lehmannk">@lehmannk</a></li>
  <li>kaola89, <a href="https://github.com/kaola89">@kaola89</a></li>
  <li>Matt Tansley, <a href="https://github.com/matthewt-assurity">@matthewt-assurity</a></li>
  <li>Mohamed Ibrahim, <a href="https://github.com/rollno748">@rollno748</a></li>
  <li>Ori Marko, <a href="https://github.com/orimarko">@orimarko</a></li>
  <li>PJ Fanning, <a href="https://github.com/pjfanning">@pjfanning</a></li>
  <li>Sandra Thieme, <a href="https://github.com/sandra-thieme">@sandra-thieme</a></li>
  <li>Stefan Seide, <a href="https://github.com/sseide">@sseide</a></li>
  <li>Victor Peralta, <a href="https://github.com/vperaltac">@vperaltac</a></li>
  <li>Vincent DABURON, <a href="https://github.com/vdaburon">@vdaburon</a></li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
  <li><issue>6008</issue> ThreadGroups are running endlessly in non-gui mode (fixed in 5.6.1, see <pr>6011</pr>)</li>

  <li><issue>6043</issue> <code>Min</code> is always <code>0</code> in <code>Summary Report</code> (fixed in 5.6.3)</li>

  <li><pr>5987</pr>HTTP sampler sends filenames with percent-encoded UTF-8, however it is not aligned with the browsers. The workaround is to refrain non-ASCII filenames</li>

  <li><issue>6004</issue>Java Request sampler cannot be enabled again after disabling in UI (fixed in 5.6.1, <pr>6012</pr>)</li>

<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_14_Release/rhino-engine-1.7.14.jar">rhino-engine-1.7.14.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 (or later) and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.3/nashorn-core-15.3.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.5/asm-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.5/asm-commons-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.5/asm-util-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.5/asm-tree-9.5.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.5/asm-analysis-9.5.jar
popd
export JVM_ARGS="--module-path $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>

<!--  =================== 5.5 =================== -->

<h1>Version 5.5</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<p>JMeter now supports Java 17</p>

<p>JMeter 5.5 ships with log4j2 2.17.2</p>

<ch_title>Open Model Thread Group</ch_title>

<p>New component: <code><a href="./usermanual/component_reference.html#Open_Model_Thread_Group">Open Model Thread Group</a></code>
allows creating load profiles with variable load.</p>

<p>For example, if you need to gradually increase load from <code>0/sec</code> to <code>10/sec</code> during <code>minute</code>
you could previously use <code>Thread Group + Timer</code> combinations. However, then you need to compute
the expected number of threads, ensure they are created only when needed, and so on.</p>

<p>With <code>Open Model Thread Group</code> you can configure the same load profile as <code>rate(0/sec) random_arrivals(1&nbsp;minute) rate(10/sec)</code>.
The thread group would spawn threads as needed to drive the configured load.
The load profile can use properties, so you can launch the same script with slightly different load levels,
however, the profile can't be updated while the test is running.
</p>

<p>The new thread group is experimental in JMeter 5.5, so please feel free to submit your feedback.</p>
<figure width="1398" height="1117" image="open_model_thread_group.png">Open Model Thread Group sample</figure>

<ch_title>Preparing the deprecation of Oro Regex usage</ch_title>

<p>Another experimental feature in JMeter 5.5 is the ability to replace the Oro based Regex implementation
  by the built-in Java based one. To choose the Java based one, set the JMeter property <code>jmeter.regex.engine</code>
  to the value <code>java</code>.</p>

<ch_title>Core improvements</ch_title>
<p>Kotlin language is now used in some core classes and tests (e.g. Open Model Thread Group).
    JMeter is compiled with <code>apiTarget=1.5</code>, and it ships with <code>kotlin-stdlib</code> 1.6.
</p>

<p><a href="https://github.com/JetBrains/lets-plot-kotlin">lets-plot-kotlin</a> charting library is added,
    so it will be easier to refine and create new charts in UI in the future.
</p>

<ch_section>Improvements</ch_section>

<h3>Thread Groups</h3>
<ul>
  <li>New component: <code><a href="./usermanual/component_reference.html#Open_Model_Thread_Group">Open Model Thread Group</a></code></li>
</ul>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><bug>65027</bug>Detect mime-type for files automatically when adding files to HTTP Sampler</li>
  <li><bug>65020</bug>HTTP Sampler/Files upload tab &ndash; add missing buttons</li>
  <li><pr>650</pr>HTTP Sampler timestamp fix when exception is caught. Contributed by Konstantin Kalinin (konstantin at kkalinin.pro)</li>
  <li><bug>65328</bug><pr>666</pr>HTTP 308 Permanent Redirect is not supported. Contributed by
    Baptiste Gaillard (baptiste.gaillard at gmail.com)</li>
</ul>

<h3>Other samplers</h3>
<ul>
  <li><bug>65149</bug><pr>644</pr>Encode the personal part of email addresses in SMTP Sampler</li>
  <li><pr>638</pr>Various additions to the Bolt Sampler. Added <code>transaction timeout</code>, <code>database</code>
    option required for Neo4j 4.x (with multi-database support) and <code>access mode</code> option, that allows running
    against a Neo4j Enterprise Causal Cluster. Contributed by David Pecollet (david.pecollet at gmail.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
  <li><pr>665</pr>Increase visible lines of code in <code>IfController</code> and <code>WhileController</code>.
    Based on an idea by David Getzlaff (david.getzlaff at t-systems.com>).</li>
</ul>

<h3>Listeners</h3>
<ul>
  <li><bug>64988</bug>Sort properties and variables in a human expected order for DebugPostProcessor and DebugSampler</li>
  <li><bug>63061</bug>Sort View Results in Table in a human expected order</li>
  <li><pr>706</pr>Try to keep UI responsive when displaying large text results. Can be configured with the new property
      <code>view.results.tree.simple_view_limit</code></li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><pr>638</pr>Bolt Connection Configuration: added <code>ConnectionPoolMaxSize</code> parameter. Contributed by
        David Pecollet (david.pecollet at gmail.com)</li>
    <li><bug>65515</bug>Allow pooling of Prepared Statements in JDBC</li>
    <li><bug>65299</bug>JSONPathAssertion attributes are out of order/Compare JSON objects and
        not their string representations.</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
  <li><bug>65353</bug>Make the estimator used for calculating percentiles on the dashboard configurable</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>61805</bug><pr>663</pr>Add simple HTTP request template. Contributed by Ori Marko (orimarko at gmail.com)</li>
  <li><bug>65611</bug><pr>673</pr>Add support for IPv6 addresses when specifying a remote worker node. Based on a patch by Peter Wong (peter.wong at csexperts.com)</li>
  <li>Reduce memory consumption by the logging panel (disable undo events for it)</li>
  <li><bug>63620</bug><pr>694</pr>Fix GUI freeze when viewing response body with long line breaks</li>
  <li><pr>699</pr>Add documentation for Graphite Backend Listener. Contributed by Ji Hun (jihunkimkw at gmail.com)</li>
  <li><bug>57672</bug><pr>700</pr>Add a switch (<code>jmeter.regex.engine</code>) to replace Oro Regex implementation by the built-in Java one.</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
  <li>Added Kotlin 1.6.21 for JMeter engine implementation (apiVersion=1.5). The set of JSR 223 languages is intact.</li>
  <li><bug>65128</bug><pr>643</pr>Add missing documentation about <code>Same user on each iteration</code> for Thread Groups. Contributed by njkuzas.</li>
  <li><pr>648</pr>Updated xmlgraphics-commons to 2.6 (from 2.3). Contributed by Stefan Seide (stefan at trilobyte-se.de)</li>
  <li><pr>655</pr><pr>667</pr><pr>675</pr><pr>698</pr>Updated x-stream to 1.4.19 (from 1.4.15). Contributed by Stefan Seide (stefan at trilobyte-se.de)</li>
  <li><pr>656</pr><pr>668</pr>Updated json-smart to 2.4.8 (from 2.3), accessors-smart to 2.4.8 (from 1.2) and asm 9.3 (from 9.0). Contributed by Stefan Seide (stefan at trilobyte-se.de)</li>
  <li><bug>64831</bug>Log truststore entries in debug level for logger <code>org.apache.jmeter.util.keystore.JmeterKeyStore</code></li>
  <li><bug>65232</bug>Hide splash screen when an error is displayed because the test plan could not be parsed.</li>
  <li>Updated Groovy to 3.0.11 (from 3.0.7).</li>
  <li>Updated Darklaf to 2.7.3 (from 2.5.4).</li>
  <li>Updated Apache ActiveMQ to 15.6.4 (from 15.6.0).</li>
  <li>Updated Asm to 9.2 (from 9.1).</li>
  <li>Updated Bouncycastle to 1.70 (from 1.67).</li>
  <li>Updated Caffeine to 2.9.3 (from 2.8.8).</li>
  <li>Updated Apache commons-dbcp2 to 2.9.0 (from 2.8.0).</li>
  <li>Updated Apache commons-io to 2.11.0 (from 2.8.0).</li>
  <li>Updated Apache commons-lang3 to 3.12.0 (from 3.11).</li>
  <li>Updated Apache commons-net to 3.8.0 (from 3.7.2).</li>
  <li>Updated Apache commons-pool2 to 2.11.1 (from 2.9.0).</li>
  <li>Updated equalsverifier to 3.10 (from 3.4.2).</li>
  <li>Updated Apache Freemarker to 2.3.31 (from 2.3.30).</li>
  <li>Updated hsqldb to 2.5.2 (from 2.5.0).</li>
  <li>Updated Apache HttpClient to 4.5.13 (from 4.5.12).</li>
  <li>Updated Apache HttpCore to 4.4.15 (from 4.4.13).</li>
  <li>Updated jacoco to 0.8.7 (from 0.8.5).</li>
  <li>Updated json-path to 2.7.0 (from 2.4.0).</li>
  <li>Updated jsoup to 1.15.1 (from 1.13.1).</li>
  <li>Updated JUnit to 4.13.2 and 5.8.2 (from 4.13.1 and 5.7.0).</li>
  <li>Updated Apache log4j2 to 2.17.2 (from 2.13.3).</li>
  <li>Updated Miglayout to 5.3 (from 5.2).</li>
  <li>Updated Neo4j Java driver to 4.4.6 (from 4.2.0).</li>
  <li>Updated Objenesis to 3.2 (from 2.6).</li>
  <li>Updated ktlint to 0.40.0</li>
  <li>Updated PH CSS and PH commons to 6.5.4 and 10.1.6 (from 6.2.3 and 9.5.1).</li>
  <li>Updated RSyntaxTextArea to 3.2.0 (from 3.1.1).</li>
  <li>Updated SLF4J to 1.7.36 (from 1.7.30).</li>
  <li>Updated SvgSalamander to 1.1.2.4 (from 1.1.2.1).</li>
  <li><pr>698</pr>Updated Apache Tika to 1.28.3 (from 1.26).</li>
  <li>Updated WireMock-JRE8 to 2.30.0 (from 2.24.1).</li>
  <li>Updated com.github.vlsi.vlsi-release-plugins 1.76 (from 1.74).</li>
  <li>Updated jackson to 2.13.3 (from 2.10.5)</li>
  <li>Updated jmespath to 0.5.1</li>
  <li>Updated Saxon-HE to 11.2 (from 9.9.1-8)</li>
  <li>Updated Apache xmlgraphics commons to 2.7 (from 2.6)</li>
  <li><pr>671</pr>Move example definition of property <code>jmeter.reportgenerator.statistic_window</code>
     to <code>user.properties</code>, as it is read from that place.
     Contributed by Rithvik Patibandla (rithvikp98 at gmail.com)</li>
  <li><bug>65456</bug>Updated commons-jexl 3 to 3.2.1 (from 3.1). Contributed by Ori Marko (orimarko at gmail.com>)</li>
  <li><pr>654</pr>Try do give better feedback while loading keystores</li>
  <li><pr>672</pr>Add more details to documentation for timeShift function. Contributed by Mariusz (mawasak at gmail.com)</li>
  <li>Updated Gradle to 7.3 (from 7.2)</li>
  <li><pr>689</pr>Code clean up in StringFromFile. Contributed by Sampath Kumar Krishnasamy (sampathkumar.krishnasamykuppusamy at aexp.com)</li>
  <li><pr>690</pr>Refactor a few unit tests. Contributed by Sampath Kumar Krishnasamy (sampathkumar.krishnasamykuppusamy at aexp.com)</li>
  <li><pr>692></pr>Fix a few deprecation warnings for Gradle. Contributed by Sampath Kumar Krishnasamy (sampathkumar.krishnasamykuppusamy at aexp.com)</li>
  <li><pr>697></pr>Junit 5 tests to use asserts from Junit 5 API. Contributed by Sampath Kumar Krishnasamy (sampathkumar.krishnasamykuppusamy at aexp.com)</li>
  <li><bug>65983</bug><pr>707</pr>Use current screenshot for save-to-file listener in documentation. Based on patch by NaveenKumar Namachivayam (catch.nkn at gmail.com)</li>
  <li><pr>708</pr>Make errorprone happier. Based on patch by Wilson Kurniawan (wilson at visenze.com)></li>
  <li>Updated Rhino JavaScript to 1.7.14 (from 1.7.13)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><bug>65310</bug>Don't let users override <code>multipart/form-data</code> <code>content-type</code>
    header in HC4 sampler.</li>
  <li><bug>65363</bug><code>NullPointerException</code> in <code>HTTPHC4Impl$ManagedCredentialsProvider.getAuthorizationForAuthScope</code> when <code>401</code> response from remote and <code>httpclient4.auth.preemptive=false</code></li>
  <li><bug>65692</bug>HTTP(s) Test Script Recorder: Enable setting enabled cipher suite and enabled protocols on SSLContext/ Align SSL properties between Java and HC4 implementation</li>
  <li><bug>65108</bug>Support JMeter variables in <a href="./usermanual/component_reference.html#HTTP_Request">GraphQL HTTP Request</a></li>
  <li><bug>65864</bug>Catch <code>NullPointerException</code> from JSoup when recording a test plan</li>
</ul>

<h3>Other Samplers</h3>
<ul>
  <li><bug>65152</bug>OS Process Sampler &ndash; Cannot <code>Add from Clipboard</code> Command parameters</li>
  <li><pr>638</pr>Bolt Sampler: fixed error displaying results when "Record Query Results" is enabled. Contributed by
        David Pecollet (david.pecollet at gmail.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
  <li><bug>64962</bug>Save CSV sub-results recursively from View Results Tree</li>
  <li><bug>65784</bug>No Graphs displayed in Aggregate Report/Response Time Graph</li>
  <li><bug>65884</bug>GUI doesn't display response for multipart request <em>manually</em> encoded</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
  <li><bug>65257</bug>JMESPathExtractor writes error log entries if JMESPath filter returns empty result</li>
  <li><bug>65259</bug>JMESPathExtractor Attribute <code>Match No.</code> Required</li>
  <li><bug>65269</bug>JSON Extractor and JSON JMESPath Extractor ignore sub-samples</li>
  <li><bug>65352</bug>Warning logged when Boundary Extractor doesn't find any match</li>
  <li><bug>65681</bug>Use default values for <code>null</code> values when extracting with JSONPostProcessor</li>
  <li>Allow setters in ConstantThroughputTimer to update the values during run time</li>
  <li><bug>65782</bug>Use correct message format for MessageFormat in HTMLAssertion</li>
  <li><bug>65794</bug>JSON Assertion always successful with indefinite paths</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
</ul>

<h3>Documentation</h3>
<ul>
  <li><pr>658</pr>Improve javadoc. Contributed by Ori Marko (orimarko at gmail.com)</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>64318</bug>DNS Cache Manager &ndash; custom DNS resolver does not use system resolver by default</li>
  <li><pr>641</pr><pr>698</pr>Updated xercesImpl to 2.12.2 (from 2.12.0). Based on patch by Stefan Seide (stefan at trilobyte-se.de).</li>
  <li><pr>645</pr>Add escaping for new lines in <code>AbstractInfluxdbMetricsSender</code>. Contributed by David Getzlaff (david.getzlaff at t-systems.com>)</li>
  <li><bug>65198</bug>Can't copy generated function from FunctionHelper</li>
  <li><pr>661</pr>Fix wording in doc. Contributed by BugKing (wangzhen at fit2cloud.com)</li>
  <li><pr>664</pr>Allow whitespace in path. Contributed by Till Neunast (github.com/tilln)</li>
  <li><bug>65270</bug>POST <code>application/x-www-form-urlencoded</code> cURL code generated from Postman is not imported correctly</li>
  <li>Silence warnings of missing font Arial on startup under Linux</li>
  <li><bug>65300</bug><code>IllegalAccessError</code> when opening file dialog with Java 16</li>
  <li><bug>65336</bug>Blank labels when different elements had the same name</li>
  <li><bug>65522</bug>Restart doesn't work, when parameters contain spaces</li>
  <li><bug>63914</bug>Simplify <code>:src:dist:clean</code> configuration, ensure <code>/lib/junit/test.jar</code> is removed on clean</li>
  <li><pr>696</pr>Keep JSyntaxTextArea text value for use in headless mode. Contributed by Peter Paul Bakker (peter.paul.bakker at stokpop.nl)</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
  <li>Stefan Seide (stefan at trilobyte-se.de)</li>
  <li>njzukas (github.com/njzukas)</li>
  <li>David Getzlaff (david.getzlaff at t-systems.com>)</li>
  <li>Konstantin Kalinin (konstantin at kkalinin.pro)</li>
  <li>David Pecollet (david.pecollet at gmail.com)</li>
  <li>Ori Marko (orimarko at gmail.com)</li>
  <li>BugKing (wangzhen at fit2cloud.com)</li>
  <li>Till Neunast (github.com/tilln)</li>
  <li>Baptiste Gaillard (baptiste.gaillard at gmail.com)</li>
  <li>Rithvik Patibandla (rithvikp98 at gmail.com)</li>
  <li>Mariusz (mawasak at gmail.com)</li>
  <li>peter.wong@csexperts.com</li>
  <li>Woonsan Ko (woonsan.ko at bloomreach.com)</li>
  <li>Chromico Rek (atech5122 at gmail.com)</li>
  <li>Magnus Spångdal (magnus.spangdal as avanza.se)</li>
  <li>Piotr Smietana (piotrsmietana1998 at gmail.com)</li>
  <li>Sampath Kumar Krishnasamy (sampathkumar.krishnasamykuppusamy at aexp.com)</li>
  <li>Ji Hun (jihunkimkw at gmail.com)</li>
  <li>Peter Paul Bakker (peter.paul.bakker at stokpop.nl)</li>
  <li>NaveenKumar Namachivayam (catch.nkn at gmail.com)</li>
  <li>Wilson Kurniawan (wilson at visenze.com)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
  <li>Nikola Aleksic (nalexic at gmail.com)</li>
  <li>Vladimir Rosu (rosuvladimir at gmail.com)</li>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_14_Release/rhino-engine-1.7.14.jar">rhino-engine-1.7.14.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 (or later) and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.3/nashorn-core-15.3.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.2/asm-9.2.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.2/asm-util-9.2.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar
popd
export JVM_ARGS="--module-path $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>

<!--  =================== 5.4.3 =================== -->

<h1>Version 5.4.3</h1>
<p>
Summary
</p>
<p>This version is a fix release against the vulnerability CVE-2021-45105: Apache Log4j2 versions 2.0-alpha1 through 2.16.0 (excluding 2.12.3) did not protect from uncontrolled recursion from self-referential lookups. This allows an attacker with control over Thread Context Map data to cause a denial of service when a crafted string is interpreted.
</p>
<ul>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>

</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Updated Apache log4j2 to 2.17.0 (from 2.16.0).</li>
</ul>

 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_13_Release/rhino-engine-1.7.13.jar">rhino-engine-1.7.13.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.0/nashorn-core-15.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.0/asm-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.0/asm-commons-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.0/asm-util-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.0/asm-tree-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.0/asm-analysis-9.0.jar
popd
export JVM_ARGS="--modulepath $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>

<!--  =================== 5.4.2 =================== -->

<h1>Version 5.4.2</h1>
<p>
Summary
</p>
<p>This version is a fix release against the vulnerability CVE-2021-44228: Apache Log4j2 JNDI features do not protect against attacker controlled LDAP and other JNDI related endpoints.
</p>
<ul>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>

</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Updated Apache log4j2 to 2.16.0 (from 2.13.3).</li>
</ul>

 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_13_Release/rhino-engine-1.7.13.jar">rhino-engine-1.7.13.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.0/nashorn-core-15.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.0/asm-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.0/asm-commons-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.0/asm-util-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.0/asm-tree-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.0/asm-analysis-9.0.jar
popd
export JVM_ARGS="--modulepath $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>

<!--  =================== 5.4.1 =================== -->

<h1>Version 5.4.1</h1>
<p>
Summary
</p>
<ul>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>Incompatible changes</ch_section>
<ul>
    <li>Restart after LAF change has been reinstated, it had been removed in JMeter 5.3</li>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>General</h3>
<ul>
  <li><bug>65028</bug>Add documentation for the property <code>client.rmi.localport</code></li>
  <li><bug>65012</bug>Better handling of displaying long comments in the GUI</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Updated SaxonHE to 9.9.1-8 (from 9.9.1-7)</li>
    <li>Updated asm to 9.0 (from 7.3.1)</li>
    <li>Updated bouncycastle to 1.67 (from 1.66)</li>
    <li>Updated caffeine to 2.8.8 (from 2.8.0)</li>
    <li>Updated commons-codec to 1.15 (from 1.14)</li>
    <li>Updated commons-io to 2.8.0 (from 2.7)</li>
    <li>Updated commons-net to 3.7.2 (from 3.7)</li>
    <li>Updated jackson to 2.10.5 (from 2.10.3)</li>
    <li>Updated junit to 4.13.1 (from 4.13)</li>
    <li>Updated ph-commons to 9.5.1 (from 9.4.1)</li>
    <li>Updated ph-css to 6.2.3 (from 6.2.1)</li>
    <li>Updated groovy to 3.0.7 (from 3.0.5)</li>
    <li>Updated xstream to 1.4.15 (from 1.4.14)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><bug>64955</bug>Keystore password not reset on reload</li>
  <li><bug>65002</bug>HTTP(S) Test Script recorder creates an invalid Basic authentication URL. Contributed by Ubik Load Pack (https://ubikloadpack.com)</li>
  <li><bug>65004</bug>HTTP(S) Test Script recorder computes wrong HTTP Request breaking the application. Contributed by Ubik Load Pack (https://ubikloadpack.com)</li>
  <li><bug>64543</bug>On MacOSX, Darklaf- IntelliJ Theme throws NPE in javax.swing.ToolTipManager.initiateToolTip</li>
  <li><bug>65024</bug>Sending mime type with parameter throws IllegalArgumentException</li>
  <li><bug>65029</bug>Try harder to correctly guess the URL for applets, when download embedded URLs is enabled</li>
</ul>

<h3>Other Samplers</h3>
<ul>
  <li><bug>65034</bug>Ignore <code>SocketTimeoutException</code> on <code>BinaryTCPClientImpl</code>, when no EOM Byte is set. Regression
     introduced by commit c190641e4f0474a34a366a72364b0a8dd25bfc81 which fixed <bug>52104</bug>. That bug was bout handling
     the case of waiting for an EOM.</li>
</ul>

<h3>Listeners</h3>
<ul>
  <li><bug>64821</bug>When importing XML formatted jtl files, sub samplers will get renamed</li>
  <li><bug>65052</bug>XPath2 Tester and JSON JMESPath Tester are missing in <code>view.results.tree.renderers_order</code> property</li>
</ul>

<h3>Documentation</h3>
<ul>
  <li><bug>64960</bug>Change scheduler reference in Thread Group documentation. Contributed by Ori Marko</li>
  <li><bug>65006</bug>Illustration for completed HTTP Request Defaults element (Figure 4.4) contains misleading info</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>64957</bug>When importing example test plan JMeter displays an NullPointerException</li>
  <li><bug>64961</bug>Darklaf: On Windows 7, NPE in BasicEditorPaneUI.cleanDisplayProperties with Darklaf Intellij</li>
  <li><bug>64963</bug>Blank comment tooltip is visible</li>
  <li><bug>64969</bug>RemoteJMeterEngineImpl#rexit doesn't unexport RemoteJMeterEngineImpl on exit. Contributed by luo_isaiah at qq.com</li>
  <li><bug>64984</bug>Darklaf LAF: Selecting a Test element does not work under certain screen resolutions on Windows. With the help of Jannis Weis</li>
  <li><bug>65008</bug>SampleResult.setIgnore() called from PostProcessor is not considered</li>
  <li><bug>64993</bug>Daklaf LAF: Menu navigation not working with keyboard shortcuts. With the help of Jannis Weis</li>
  <li><bug>65013</bug>POST multipart/form-data cURL code with quoted arguments is not imported correctly</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
  <li>Ori Marko (orimarko at gmail.com)</li>
  <li>罗寅卓 (luo_isaiah at qq.com)</li>
  <li><a href="https://ubikloadpack.com" >Ubik Load Pack</a></li>
  <li><a href="https://github.com/weisJ/darklaf">Jannis Weis</a></li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_13_Release/rhino-engine-1.7.13.jar">rhino-engine-1.7.13.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.0/nashorn-core-15.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.0/asm-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.0/asm-commons-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.0/asm-util-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.0/asm-tree-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.0/asm-analysis-9.0.jar
popd
export JVM_ARGS="--modulepath $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>
<!--  =================== 5.4 =================== -->

<h1>Version 5.4</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<!--
<ch_title>Core improvements</ch_title>
<ch_title>Test Plan</ch_title>
<ch_title>Scripting / Debugging enhancements</ch_title>
<ch_title>Functions</ch_title>
-->
<ch_title>UX improvements</ch_title>

<p><bug>62179</bug><bug>64658</bug>The splash screen is now application-modal rather than system-modal, so it does not block other
applications when JMeter is starting up.</p>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
    <li>Remove LogKit logger functionality from some classes. This was intended to completely remove
      <code>LoggingManager</code> class (it has been deprecated since JMeter 3.2), but as jmeter-plugins
      depended on it, <code>LoggingManager</code> and our <code>LogKit</code>-adapter will remain for
      this version (but is still deprecated).</li>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>53848</bug><bug>63527</bug>Implement a new setting to allow the exclusion of embedded URLs</li>
    <li><bug>64696</bug><pr>571</pr><pr>595</pr>Freestyle format for names in (Default)SamplerCreater. Based on a patch by Vincent Daburon (vdaburon at gmail.com)</li>
    <li><bug>64752</bug>Add GraphQL/HTTP Request Sampler. Contributed by woonsan.</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>64555</bug>Set JMSType header field through JMSProperties. Contributed by Daniel van den Ouden</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
    <li><pr>544</pr>Add BackendListener that sends "raw" results to InfluxDB. Contributed by Graham Russell
      (graham at ham1.co.uk)</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
  <li><bug>64824</bug>Dashboard/HTML Report: Rename <code>KO</code> to <code>FAIL</code></li>
  <li><bug>64936</bug>Increase generate_report_ui.generation_timeout to 5 minutes to handle large performance test</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>64446</bug>Better parse curl commands with backslash at line endings and support <code>PUT</code> method with data arguments</li>
  <li><pr>599</pr>Ensure all buttons added to the toolbar behave/look consistently. Contributed by Jannis Weis</li>
  <li><bug>64581</bug>Allow <code>SampleResult#setIgnore</code> to influence behaviour on Sampler Error</li>
  <li><bug>64680</bug>Fall back to <code>JMETER_HOME</code> on startup to detect JMeter's installation directory</li>
  <li><bug>64787</bug><pr>630</pr>Add Korean translation. Contributed by Woonsan Ko (woonsan at apache.org)</li>
  <li><bug>64776</bug>Add the ability to install additional SecurityProvider. Contributed by Timo (ASF.Software.Timo at Leefers.eu)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Build system upgraded from Gradle to 6.7 (from 6.6)</li>
    <li><pr>594</pr>Updated neo4j-java-driver to 4.2.0 (from 1.7.5)</li>
    <li><bug>64454</bug>More precise error message, when no datasource value can be found in JDBC sampler</li>
    <li><bug>64440</bug>Log exeptions reported via <code>JMeterUtils#reportToUser</code> even when in GUI mode</li>
    <li><pr>591</pr>Remove deprecated sudo flag from travis file. Deng Liming (liming.d.pro at gmail.com)</li>
    <li>Updated Darklaf to 2.4.10 (from 2.1.1)</li>
    <li>Updated Groovy to 3.0.5 (from 3.0.3)</li>
    <li><pr>596</pr>Use neutral words in documentation</li>
    <li><bug>63809</bug><pr>557</pr>Updated commons-collections to 4.4 (from 3.2.2) while keeping the jars for the old commons-collections 3.x for compatibility</li>
    <li><pr>598</pr>Add another option for creating diffs to the building page. Contributed by jmetertea (github.com/jmetertea)</li>
    <li><pr>609</pr>Make use of newer API for darklaf installation. Jannis Weis</li>
    <li><pr>612</pr>Correct typos in <code>README.md</code>. Based on patches by Pooja Chandak (poojachandak002 at gmail.com)</li>
    <li><pr>613</pr>Add documentation for Darklaf properties. Jannis Weis</li>
    <li>Update SpotBugs to 4.1.2 (from 4.1.1), upgrade spotbugs-gradle-plugin to 4.5.0 (from 2.0.0)</li>
    <li>Update org.sonarqube Gradle plugin to 3.0 (from 2.7.1)</li>
    <li>Update Apache ActiveMQ to 5.16.0 (from 5.15.11)</li>
    <li>Update Bouncycastle to 1.66 (from 1.64)</li>
    <li>Update Apache commons-io to 2.7 (from 2.6)</li>
    <li>Update Apache commons-lang3 to 3.11 (from 3.10)</li>
    <li>Update Apache commons-net to 3.7 (from 3.6)</li>
    <li>Update Apache commons-pool2 to 2.9.0 (from 2.8.0)</li>
    <li>Update Apache commons-text to 1.9 (from 1.8)</li>
    <li>Update equalsverifier to 3.4.2 (from 3.1.13)</li>
    <li>Update junit5 to 5.6.2 (from 5.6.0)</li>
    <li>Update Apache log4j2 to 2.13.3 (from 2.13.1)</li>
    <li>Update rsyntaxtextarea to 3.1.1 (from 3.1.0)</li>
    <li>Update JUnit5 to 5.7.0 (from 5.6.2)</li>
    <li>Update Rhino to 1.7.13 (from 1.7.12)</li>
    <li>Update XStream to 1.4.14 (from 1.4.14.1)</li>
    <li>Update Apache commons-dbcp2 to 2.8.0 (from 2.7.0)</li>
    <li><pr>635</pr>Correct some image ratios in the documentation. Patch provided
      by Vincent Daburon (vdaburon at gmail.com)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><bug>64479</bug>Regression: HTTP(s) Script Recorder prevents proper shutdown in non-GUI mode</li>
  <li><bug>64653</bug>Exclude Javascript and JSON from parsing for charsets from forms by proxy</li>
</ul>

<h3>Other Samplers</h3>
<ul>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>64795</bug>Generate summary report may not output a summary line in the configured interval (<code>summariser.interval</code>): Clarify documentation</li>
</ul>

<h3>Listeners</h3>
<ul>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>64638</bug>JSON JMESPath Assertion / JSON Assertion: Opening GUI shows a horizontal scrollbar that keeps sliding</li>
    <li><bug>64915</bug>JMeter Cache Manager misbehaving when "Use Cache-Control/Expires header" is checked</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>64547</bug>Report/Dashboard: Ensure graphs Response codes per second is not broken by empty response code in SampleResult. Contributed by Ubik Load Pack (https://ubikloadpack.com)</li>
    <li><bug>64617</bug>HTML report: In graph Response Time Percentiles Over Time 90,95,99th percentile correspond in reality to 0.90, 0.95 and 0.99 percentiles</li>
    <li><bug>64553</bug>When using Transaction Controller, send Bytes and Received Bytes are displayed as 0 in the influxdb(BackendListener)</li>
    <li><bug>64624</bug>Use less aggressive escaping for JSON Strings in reports error messages</li>
</ul>

<h3>Documentation</h3>
<ul>
    <li><pr>571</pr>Correct documented name of generated CA when using proxy script recorder. Part of a bigger PR. Vincent Daburon (vdaburon at gmail.com)</li>
    <li>Change documentation of the special header functionality of the mirror server to reflect the implementation.</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>64448</bug>User Defined Variable Duplication in Right Click Context Menu</li>
    <li><bug>64499</bug>Exiting JMeter when <code>jmeterengine.stopfail.system.exit=true</code> takes too much time if threads are not stopped</li>
    <li><bug>64510</bug>Darklaf- IntelliJ Theme throws NPE in DarkTreeUI on MacOS</li>
    <li><bug>64594</bug>Unable to enter variable values instead of numeric values in components using PowerTableModel (Impacts 3rd party plugins like Throughput Shaping Timer)</li>
    <li><bug>64475</bug>Menu Generate HTML Report: When report generation fails due to timeout, error message is not explicit. Contributed by Ubik Load Pack (https://ubikloadpack.com)</li>
    <li><bug>64627</bug>Programmatic manipulation of the control flow via API methods of JMeterContext is not working as it used to before 5.0. Contributed by Till Neunast</li>
    <li><bug>64647</bug>groovy-dateutil is missing in distribution</li>
    <li><bug>64640</bug>Darklaf: NPE at com.github.weisj.darklaf.ui.DarkPopupFactory.getPopupType(DarkPopupFactory.java:96)</li>
    <li><bug>64641</bug>Darklaf: NPE at com.github.weisj.darklaf.ui.tree.DarkTreeUI.isChildOfSelectionPath(DarkTreeUI.java:603) ~[darklaf-core-2.4.2-SNAPSHOT.jar:2.4.2-SNAPSHOT]</li>
    <li><bug>64453</bug>Darklaf: Save Test Plan as New Folder failure</li>
    <li><bug>64625</bug>Darklaf: trying to select a folder in Browse leads to an error popup and stacktrace</li>
    <li><bug>64711</bug>Textarea Colors are not good in dark modes. Contributed by Jannis Weis</li>
    <li><bug>64935</bug>A broken plugin class should not prevent JMeter from starting</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
  <li>Michael Weidmann (https://github.com/michaelweidmann)</li>
  <li>Deng Liming (liming.d.pro at gmail.com)</li>
  <li>jmetertea (https://github.com/jmetertea)</li>
  <li><a href="https://ubikloadpack.com" >Ubik Load Pack</a></li>
  <li><a href="https://github.com/weisJ/darklaf">Jannis Weis</a></li>
  <li><a href="https://github.com/topicus-pw-dvdouden">Daniel van den Ouden</a></li>
  <li>Till Neunast (https://github.com/tilln)</li>
  <li>Pooja Chandak (poojachandak002 at gmail.com)</li>
  <li>Vincent Daburon (vdaburon at gmail.com)</li>
  <li>Woonsan Ko (woonsan at apache.org)</li>
  <li>Timo (ASF.Software.Timo at Leefers.eu)</li>
  <li>Graham Russell (graham at ham1.co.uk)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
  <li>Hiroyoshi Mitsumori (mitsumori at mis.dev)</li>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>

<li>
With Java 15 the JavaScript implementation <a href="https://openjdk.java.net/jeps/372">Nashorn has been removed</a>. To add back a JSR-223 compatible JavaScript engine you have two options:
  <dl>
    <dt>Use Mozilla Rhino</dt>
    <dd>Copy <a href="https://github.com/mozilla/rhino/releases/download/Rhino1_7_13_Release/rhino-engine-1.7.13.jar">rhino-engine-1.7.13.jar</a> into <code>$JMETER_HOME/lib/ext</code>.</dd>
    <dt>Use OpenJDK Nashorn</dt>
    <dd>
      The OpenJDK Nashorn implementation comes as a module. To use it, you will have to download it and add it to the module path. A hacky way to download the version 15.0 and its dependencies and set the module path is outlined below:
      <source>
mkdir lib/modules
pushd lib/modules
wget https://repo1.maven.org/maven2/org/openjdk/nashorn/nashorn-core/15.0/nashorn-core-15.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm/9.0/asm-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-commons/9.0/asm-commons-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-util/9.0/asm-util-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-tree/9.0/asm-tree-9.0.jar
wget https://repo1.maven.org/maven2/org/ow2/asm/asm-analysis/9.0/asm-analysis-9.0.jar
popd
export JVM_ARGS="--modulepath $PWD/lib/modules"
./bin/jmeter
      </source>
    </dd>
  </dl>
</li>

</ul>

<!--  =================== 5.3 =================== -->

<h1>Version 5.3</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<!--
<ch_title>Core improvements</ch_title>
<ch_title>Test Plan</ch_title>
<ch_title>Scripting / Debugging enhancements</ch_title>
-->
<ch_title>UX improvements</ch_title>
Added <a href="https://github.com/weisJ/darklaf">Darklaf</a> look and feel that improves several components.

<p>Tree indentation level is easier to follow:</p>
<figure width="224" height="247" image="changes/5.3/tree_theme_darcula.png">JMeter tree with Darklaf Darcula theme</figure>
<figure width="223" height="246" image="changes/5.3/tree_theme_intellij.png">JMeter tree with Darklaf IntelliJ theme</figure>

<p>New look and feel themes. Light: IntellJ, Solarized Light, HighContrast Light.
    Dark: OneDark, Solarized Dark, HighContrast Dark.
</p>

<p>When an element in tree is disabled, all its descendants are shown in gray.
For instance, <code>While Contoller</code> is disabled in the following tree, so its children
are gray. It is purely a UI change, and the behavior is not altered.
</p>
<figure width="223" height="256" image="changes/5.3/disabled_subtree.png">While controller is disabled, so its children are gray</figure>

<p>Tree context menu is shown even in case the node selection is changed. Previously
    the popup did disappear and it was required to select a node first and only then launch popup.</p>

<p>Look and feel can now be updated without a restart</p>

<p>Use <keycombo><keysym>CTRL</keysym><keysym>ALT</keysym><keysym>wheel</keysym></keycombo> for zooming
    fonts. Previous shortcut was <keycombo><keysym>CTRL</keysym><keysym>SHIFT</keysym><keysym>wheel</keysym></keycombo>,
    however, it conflicted with horizontal scrolling.</p>

<p>In-app zoom is more consistent (e.g. sometimes not all the labels or even panels were scaled).
For instance: log viewer, JSR223 code editor were not previously scaled with zoom-in/out feature</p>

<p>Tree context menu is shown for the full row, not for the label only</p>

<p>Undo and redo support for editable fields. Keystrokes are <keycombo><keysym>CTRL</keysym><keysym>Z</keysym></keycombo> /
    <keycombo><keysym>CTRL</keysym><keysym>SHIFT</keysym><keysym>Z</keysym></keycombo>, or
    <keycombo><keysym>CMD</keysym><keysym>Z</keysym></keycombo>/
    <keycombo><keysym>CMD</keysym><keysym>SHIFT</keysym><keysym>Z</keysym></keycombo> depending on the operating system.
Undo is implemented on a field level basis (each fields has its own history), and the history is
invalidated when tree selection changes.</p>

<p>Mark the currently selected language in the options menu.</p>

<p>Mark the currently selected log level in the options menu.</p>

<p>Rework of many Test Element UI (JUnit Request, ForEach Controller, If Controller, Throughput Controller, WhileController,
Counter Config, XPath2 Extractor, Function Helper Dialog, Search popup, JMS Elements)</p>
<!--
<ch_title>Functions</ch_title>
-->
<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
    <li>Default value of <code>httpclient4.time_to_live</code> has been modified from <code>2000</code> to <code>60000</code>,
    this means HTTP connections will live longer than before. This
    has impact on connection creation and SSL handshake, see <bugzilla>64289</bugzilla></li>
    <li>The update to Groovy 3 (<pr>590</pr>) might break some old Groovy code of your tests. Have a look
    at <a href="https://groovy-lang.org/releasenotes/groovy-3.0.html">the update notes for Groovy 3</a></li>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>64160</bug>Test HTTP/S Test Script Recorder: Name transaction controller/ simple controller using prefix without "<code>-XXXX</code>" suffix</li>
    <li><bug>64289</bug>Make <code>httpclient4.time_to_live</code> to <code>60000</code> to be closer to typical browser behavior</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>64288</bug>JUnit Request: Improve UX</li>
    <li><bug>64407</bug>Improve JMS Publisher UX. Contributed by Ubik Load Pack (https://ubikloadpack.com)</li>
    <li><bug>64408</bug>Improve JMS Subscriber UX. Contributed by Ubik Load Pack (https://ubikloadpack.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>64277</bug>ForEach Controller: Improve UX</li>
    <li><bug>64280</bug>If Controller: Improve UX</li>
    <li><bug>64282</bug>Throughput Controller: Improve UX</li>
    <li><bug>64287</bug>WhileController: Improve UX</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>64150</bug>View Results Tree: Allow editing of response data in testers</li>
    <li><bug>63822</bug>View Results Tree: Keep position of split pane while switching renderer mode</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>64091</bug>Precise Throughput Timer schedule generation is improved significantly (e.g. 2 seconds for 10M samples)</li>
    <li><bug>64281</bug>Counter Config: Improve UX</li>
    <li><bug>64283</bug>XPath2 Extractor: Improve UX</li>
</ul>

<h3>Functions</h3>
<ul>
  <li><bug>64070</bug><code>_timeshift</code> function does not work with offset formatters</li>
  <li><bug>64275</bug>Function Helper Dialog: Improve UX</li>
</ul>

<h3>I18N</h3>
<ul>
  <li><bug>64102</bug>Add Chinese translation for Tools menu. Contributed by Liu XP (liu_xp2003 at sina.com)</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
  <li><bug>64380</bug>Add a '<code>Median</code>' field to the dashboard and make the response time percentile fields support floating-point numbers. Contributed by Keith Mo(https://github.com/keithmork)</li>
  <li><bug>64378</bug>HTML report generation should not fail if a plugin has registered a graph and is not more present in classpath, issue a warning instead</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>63458</bug><pr>551</pr>Add new template "Functional Testing Test Plan [01]". Contributed by Sebastian Boga (sebastian.boga at endava.com)</li>
  <li><bug>64119</bug>Use first renderer from <code>view.results.tree.renderers_order</code> property as default in View Results Tree</li>
  <li><bug>64148</bug>Use gray icons for disabled elements in the tree, display subtree as gray</li>
  <li><bug>64198</bug>Allow spaces in <code>${...}</code> expressions around functions.</li>
  <li><bug>64276</bug>Search popup: Improve UX</li>
  <li><pr>573</pr>Improve the startup time: skip test plan UI initialization</li>
  <li><pr>585</pr>Added JEXL3 as a syntax alias for JSyntaxTextArea. Contributed by drivera-armedia (https://github.com/drivera-armedia)</li>
  <li><pr>590</pr>Update Groovy to 3.0.3.</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Build system upgraded from Gradle to 6.3 (from 6.1), Java 14 can be used now for the build</li>
    <li><bug>63963</bug><pr>546</pr>Updated jackson to 2.10.3 (from 2.9.10)</li>
    <li><bug>64120</bug>Updated jsoup to 1.13.1 (from 1.12.1)</li>
    <li><bug>63809</bug>Updated commons-dbcp2 to 2.7.0 (from 2.5.0)</li>
    <li>Updated Apache ActiveMQ to 5.15.11 (from 5.15.8)</li>
    <li>Updated bouncycastle to 1.64 (from 1.60)</li>
    <li>Updated asm to 7.3.1 (from 7.1)</li>
    <li>Updated Apache commons-codec to 1.14 (from 1.13)</li>
    <li>Updated Apache commons-pool to 2.8.0 (from 2.7.0)</li>
    <li>Updated equalsverifier to 3.1.9 (from 3.1.12)</li>
    <li>Updated Apache Groovy to 2.4.18 (from 2.4.16)</li>
    <li>Updated hsqldb to 2.5.0 (from 2.4.1)</li>
    <li>Updated hamcrest to 2.2 (from 2.1)</li>
    <li>Updated Apache httpclient and httpmime to 4.5.12 (from 4.5.10)</li>
    <li>Updated Apache httpcore and httpcore-nio to 4.4.13 (from 4.4.12)</li>
    <li>Updated Apache Tika to 1.24.1 (from 1.22)</li>
    <li>Updated jmespath to 0.5.0 (from 0.3.0)</li>
    <li>Updated Apache log4j to 2.13.1 (from 2.12.1)</li>
    <li>Updated junit4 to 4.13 (from 4.12)</li>
    <li>Updated junit5 to 5.6.0 (from 5.5.1)</li>
    <li>Updated slf4j to 1.7.30 (from 1.7.28)</li>
    <li>Updated ph-commons to 9.4.1 (from 9.3.7)</li>
    <li>Updated ph-css to 6.2.2 (from 6.2.0)</li>
    <li>Updated rsyntaxtextarea to 3.1.0 (from 3.0.4)</li>
    <li>Updated rhino to 1.7.12 (from 1.7.11)</li>
    <li>Updated SaxonHE to 9.9.1-7 (from 9.9.1-5)</li>
    <li>Updated cglib to 3.2.12 (from 3.2.9)</li>
    <li>Updated commons-lang3 to 3.10 (from 3.9)</li>
    <li>Updated freemarker to 2.3.30 (from 2.3.29)</li>
    <li>Updated hamcrest-date to 2.0.7 (from 2.0.4)</li>
    <li>Updated equalsverifier to 3.1.13 (from 3.1.12)</li>
    <li>Updated xstream to 1.4.11.1 (from 1.4.11)</li>
    <li><pr>559</pr>Add a note to the source of TrustAllSSLSocketFactory, that it is not secure to trust everyone. Based on a PR from YYTVicky (yytvicky at github)</li>
    <li><pr>588</pr>Add documentation on usage of InfluxDB v2 for real-time results. Based on PR from Jakub Bednář (jakub.bednar at gmail.com)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>64400</bug>Make sorting recorded samples into transaction controllers more predictable</li>
    <li><bug>64267</bug>When preemptive auth is disabled HTTP Sampler does not automatically respond to Basic Auth challenge</li>
</ul>

<h3>Other Samplers</h3>
<ul>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>64091</bug>Precise Throughput Timer might produce less samples when low test duration is used</li>
    <li><bug>64142</bug>Presence of DebugPostProcessor in Test plan breaks ActiveThread Over time in report due to missing information</li>
    <li><bug>64196</bug>Recurse into sub samplers more deeply when checking assertions</li>
    <li><bug>64196</bug>Recurse into sampleResults for <code>AbstractScopedTestElement#getSampleList</code></li>
    <li><bug>64381</bug>PreciseThroughputTimer: On termination, log message contains negative value</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>64059</bug>Response Time Percentiles Over Time, unable to change the percentiles</li>
</ul>

<h3>Documentation</h3>
<ul>
  <li><pr>547</pr>Correct Log level documentation. Contributed by jmetertea</li>
  <li><pr>548</pr>Correct typos in documentation. Contributed by jmetertea</li>
  <li><bug>64022</bug>Correct Chinese translation for "Ignore Sub-Controller blocks". Provided by yangxiaofei77 (yangxiaofei77 at gmail.com)</li>
  <li><pr>552</pr>Fix <code>client.rmi.localport</code> port allocation description. Contributed by anant-93</li>
  <li><pr>543</pr>Clarify documentation of <code>__StringToFile</code> function regarding default value of <code>Append to file?</code> parameter. Contributed by Ori Marko</li>
  <li><bug>64302</bug>Correct links to JMeter API in printable docs and BeanShell best practices and to JavaFX implementation website in all docs.
     Reported by 2477441814 (2477441814 at qq.com)</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>63945</bug>NPE when opening a file after file system change</li>
  <li><bug>64034</bug>Shell scripts fail if space in <code>JAVA_HOME</code> path. Contributed by ray7219 (ray7219 at hotmail.com)</li>
  <li><bug>63856</bug>Set <code>connectTime</code> on parent samples when using a transaction controller</li>
  <li><bug>64227</bug>Error when loading Templates on Windows</li>
  <li>TestPlan UI: skip adding the entry to the classpath if the user clicks cancel</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
  <li><a href="https://github.com/weisJ/darklaf">Jannis Weis</a></li>
  <li>Stefan Seide (stefan at trilobyte-se.de)</li>
  <li>jmetertea</li>
  <li>ray7219</li>
  <li>Sebastian Boga (sebastian.boga at endava.com)</li>
  <li>Liu XP (liu_xp2003 at sina.com)</li>
  <li>anant-93 (https://github.com/anant-93)</li>
  <li>Ori Marko (orimarko at gmail.com)</li>
  <li>Keith Mo(https://github.com/keithmork)</li>
  <li>drivera-armedia (https://github.com/drivera-armedia)</li>
  <li><a href="https://ubikloadpack.com" >Ubik Load Pack</a></li>
  <li>Jakub Bednář (jakub.bednar at gmail.com)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
  <li>Michael McDermott (mcdermott.michaelj at gmail.com)</li>
  <li>yangxiaofei77 (yangxiaofei77 at gmail.com)</li>
  <li>Markus Wolf (wolfm at t-systems.com)</li>
  <li>Pierre Astruc (pierre.astruc at evertest.com)</li>
  <li>YYTVicky (yytvicky at github)</li>
  <li>2477441814 at qq.com</li>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>
</ul>

<!--  =================== 5.2.1 =================== -->

<h1>Version 5.2.1</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<p>
This release is a minor bugfix release. Please see the <a href="changes_history.html">Changes history page</a>
to view the last release notes of version 5.2.
</p>
<!--
<ch_title>Core improvements</ch_title>
<ch_title>UX improvements</ch_title>
<ch_title>Test Plan</ch_title>
<ch_title>Scripting / Debugging enhancements</ch_title>
-->
<!--
<ch_title>Functions</ch_title>
-->
<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>63926</bug>JDBC Connection Configuration: Add ability to set connection properties</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
</ul>

<h3>Other Samplers</h3>
<ul>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>63906</bug>NPE for InfluxDB backend listener during failover testing</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
</ul>

<h3>Documentation</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
    <li><bug>63910</bug>Broken maven poms in released 5.2 version </li>
    <li><bug>63911</bug>ApacheJMeter_config.jar content has changed (bin moved to run and missing files)</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
    <li><a href="https://github.com/vincentclee">Vincent Lee</a></li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>
</ul>

<!--  =================== 5.2 =================== -->

<h1>Version 5.2</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<p>
This release is a major release. Please see the <a href="changes_history.html">Changes history page</a>
to view the last release notes of version 5.1.1.
</p>
<!--
<ch_title>Core improvements</ch_title>
<ch_title>UX improvements</ch_title>
<ch_title>Test Plan</ch_title>
<ch_title>Scripting / Debugging enhancements</ch_title>
-->
<!--
<ch_title>Functions</ch_title>
-->
<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
    <li>HTTP(S) Test Script Recorder now appends number at end of names, while previously it added it at beginning. See <bugzilla>63450</bugzilla></li>
    <li>When using XPath Assertion with an XPath expression returning a boolean, <code>True if nothing matches</code> had no effect and always returned true, see <bugzilla>63455</bugzilla></li>
    <li>XML parsing now refuses unsecure XML, this has impacts on the following features:
        <ul>
            <li>XMLAssertion</li>
            <li>XMLSchemAssertion</li>
            <li>XPath function</li>
            <li>XPath 1 &amp; 2 Extractors</li>
            <li>XPath 1 &amp; 2 Assertions</li>
        </ul>

     </li>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>63450</bug>HTTP(S) Test Script Recorder: Put number at end instead of beginning</li>
    <li><bug>63790</bug>Embedded Resources download: Optimize CSS parsing by removing source location</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>63406</bug>JDBC connection configuration: new option for pre-initialize to initialize the connection pool. Contributed by Franz Schwab (franz.schwab at exasol.com)</li>
    <li><bug>63561</bug>JDBC Request: Allow to only fetch a certain number of rows. Contributed by Franz Schwab (franz.schwab at exasol.com)</li>
    <li><bug>63801</bug>Add Bolt protocol support for Neo4j database. Contributed by GraphAware (www.graphaware.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>63565</bug>If Controller: GC issue with JMeter during the endurance run when using with "Interpret Condition as Variable Expression?" unchecked => Improve documentation</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>63720</bug>BackendListener: InfluxDBBackendListenerClient Add support for InfluxDB 2. Contributed by Jakub Bednář (https://github.com/bednar)</li>
    <li><bug>63770</bug>View Results Tree: Add JMESPath Tester. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
  <li><bug>62863</bug>Enable PKCS11 keystores for usage with KeyStore Manager. Based on patch by Clifford Harms (clifford.harms at gmail.com).</li>
  <li><pr>457</pr>Slight performance improvement in PoissonRandomTimer by using ThreadLocalRandom. Based on a patch by Xia Li.</li>
  <li><bug>62787</bug>New <code>XPath2 Assertion</code> supporting XPath2 with better performances than <code>XPath Assertion</code>. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><bug>63643</bug>Skip BOM on files opened through <code>FileServer</code> and use the BOM to detect the character encoding,
      if none is given explicitly. Reported by Havlicek Honza (havlicek.honza at gmail.com)</li>
  <li><bug>63727</bug>New <code>JMESPath Extractor</code> element to ease extraction from JSON using <a href="http://jmespath.org">JMESPath</a> technology. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><bug>63763</bug>New <code>JMESPath Assertion</code> element to ease assertion on JSON using <a href="http://jmespath.org">JMESPath</a> technology. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><bug>63775</bug>Allow Boundary Extractor to accept empty boundaries</li>
</ul>

<h3>Functions</h3>
<ul>
  <li><bug>63219</bug>New function <code>__StringToFile</code> to save/append a string into a file. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li>Use <code>AtomicInteger</code> for <code>__counter</code> instead of synchronization on our own</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
  <li><bug>63471</bug><code>StringConverter</code>s used for report generation should ignore white space around numbers.</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>63396</bug>JSR223 Test Elements: Description of Parameters is misleading, same for Script</li>
    <li><bug>63480</bug>XPathAssertion and XPathAssertion2: Improve test coverage for input coming from variable. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63452</bug>Tools / Import from cURL: Complete coverage of all command line options that are valid in JMeter use case. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63419</bug>Tools / Import from cURL: Add ability to import a set of cURL commands from a file. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63760</bug>JOrphanUtils: add random alphanumeric password generator</li>
    <li><bug>63355</bug>View Results Tree: Browser view option is not Available since Java 11, document how to make it available, see <a href="./usermanual/hints_and_tips.html#browser_renderer_view_results_tree">this</a></li>
    <li><bug>62861</bug>Thread Group: Provide ability to configure whether a new iteration is a new user or same user (Would be applied on Cookie Manager, Cache Manager and httpclient.reset_state_on_thread_group_iteration). Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63616</bug>Fix Javadoc: <source>JMeterContext#getThreadNum()</source> starts at 0 and not 1. Contributed by Ori Marko (orimarko at gmail.com)</li>
    <li>Updated to httpclient/httpmime 4.5.10 (from 4.5.7)</li>
    <li>Updated to dnsjava 2.1.9 (from 2.1.8)</li>
    <li>Updated to jsoup 1.12.1 (from 1.11.3)</li>
    <li>Updated to rsyntaxtextarea 3.0.4 (from 3.0.2)</li>
    <li>Updated to caffeine 2.8.0 (from 2.6.2)</li>
    <li>Updated to commons-codec 1.13 (from 1.11)</li>
    <li>Updated to commons-lang3 3.9 (from 3.8.1)</li>
    <li>Updated to commons-pool 2.7 (from 2.6)</li>
    <li>Updated to commons-text 1.8 (from 1.6)</li>
    <li>Updated to freemarker 2.3.29 (from 2.3.28)</li>
    <li>Updated to httpcore/httpcore-nio 4.12 (from 4.11)</li>
    <li>Updated to jodd 5.0.13 (from 5.0.6)</li>
    <li>Updated to log4j 2.12.1 (from 2.11.1)</li>
    <li>Updated to ph-commons 9.3.7 (from 9.2.1)</li>
    <li>Updated to ph-css 6.2.0 (from 6.1.1)</li>
    <li>Updated to Mozilla Rhino 1.7.11 (from 1.7.10)</li>
    <li>Updated to Saxon-HE 9.9.1-5 (from 9.9.1-1)</li>
    <li>Updated to slf4j 1.7.28 (from 1.7.25)</li>
    <li>Updated to tika-core and tika-parsers 1.22 (from 1.21)</li>
    <li>Updated jackson-annotations, jackson-core and jackson-databind to 2.9.10 (from 2.9.8)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Migrated from subversion to <a href="https://github.com/apache/jmeter">Git</a></li>
    <li><bug>63630</bug>Switch build from Apache Ant to Gradle</li>
    <li><bug>63529</bug>Add more unit tests for org.apache.jorphan.util.JOrphanUtils. Contributed by John Bergqvist(John.Bergqvist at diffblue.com)</li>
    <li>Updated to latest checkstyle (version 8.22)</li>
    <li>Clean-up of code in <code>CompareAssertion</code> and other locations. Based on patch by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>491</pr>Increase Graphite metrics coverage. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>520</pr>Replace anonymous classes with lambda expressions. Contributed by Graham Russell (graham at ham1.co.uk).</li>
    <li><pr>524</pr>Migration from JUnit 4 to JUnit 5. Contributed by Graham Russell (graham at ham1.co.uk).</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>63298</bug>HTTP Requests with encoded URLs are being sent in decoded format</li>
    <li><bug>63364</bug>When setting <code>subresults.disable_renaming=true</code>, sub results are still renamed using their parent SampleLabel while they shouldn't. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63129</bug>JMeter can not identify encoding during first time page submission. Based partly on analysis and PR made by Naveen Nandwani (naveen.nandwani at india.nec.com)</li>
    <li><bug>62672</bug>HTTP Request sends double requests when using proxy with authentication. Based on patch by Artem Fedorov (artem.fedorov at blazemeter.com) and contributed by BlazeMeter.</li>
    <li><bug>63574</bug>HTTP Cache Manager does not cache resource if <code>Cache-Control</code> header is missing.</li>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>63442</bug>Reduce scanning for <code>LogParser</code> implementations in AccessLogSamplerBeanInfo.</li>
    <li><bug>63563</bug>LdapExtSampler: When sampler fails with exception differing from NamingException, no SampleResult is generated</li>
    <li><bug>63469</bug>JMSPublisher: Race condition in jms.client.ClientPool#clearClient</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>63319</bug><code>ArrayIndexOutOfBoundsException</code> in Aggregate Graph when selecting 90&nbsp;% or 95&nbsp;% columns</li>
    <li><bug>63423</bug>Selection of table rows in Aggregate Graph gets lost too often</li>
    <li><bug>63347</bug>View result tree: The search field is so small that even a single character is not visible on Windows 7</li>
    <li><bug>63433</bug>ListenerNotifier: Detected problem in Listener NullPointerException if filename is null. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63674</bug>Strip results with subresults deeper in their hierarchy when DataStripping is enabled</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>63455</bug>XPath Assertion: <code>True if nothing matches</code> does not work if XPath expression returns a boolean. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
</ul>

<h3>Documentation</h3>
<ul>
    <li><bug>63513</bug>Add MariaDB examples to JDBC documentation. Contributed by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>63484</bug>Add notes to use Apache Velocity as JSR223 script language. Based on a patch by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>63519</bug><pr>471</pr>Use correct method <code>getLabelResource()</code> in JMeter tutorial. Contributed by Sun Tao (buzzerrookie at hotmail.com>)</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>63394</bug>JMeter should fail with non-zero when test execution fails (due to missing test plan or other reason). Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63464</bug>image/svg+xml is wrongly considered as binary</li>
    <li><bug>63490</bug>At end of scheduler duration lots of Samplers gets executed at the same time</li>
    <li><pr>480</pr><pr>482</pr>Fix a few typos in comments and log messages. Based on patch by Anass Benomar (anassbenomar at gmail.com)</li>
    <li><bug>63751</bug>Correct a typo in Chinese translations. Reported by Jinliang Wang (wjl31802 at 126.com)</li>
    <li><bug>63723</bug>Distributed testing: JMeter controller node ends distributed test though some threads still are active</li>
    <li><bug>63614</bug>Distributed testing: Unable to generate Dashboard report at end of load test</li>
    <li><bug>63862</bug> Search Dialog / Search in View Results Tree: Uncaught exception if regex is checked and regex is invalid</li>
    <li><bug>63793</bug>Fix unsecure XML Parsing</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
  <li>Clifford Harms (clifford.harms at gmail.com)</li>
  <li><a href="https://ubikloadpack.com">Ubik Load Pack</a></li>
  <li>Xia Li</li>
  <li>Naveen Nandwani (naveen.nandwani at india.nec.com)</li>
  <li>Artem Fedorov (artem.fedorov at blazemeter.com)</li>
  <li>Ori Marko (orimarko at gmail.com)</li>
  <li>Sun Tao (buzzerrookie at hotmail.com)</li>
  <li>John Bergqvist (John.Bergqvist at diffblue.com)</li>
  <li>Franz Schwab (franz.schwab at exasol.com)</li>
  <li>Graham Russell (graham at ham1.co.uk)</li>
  <li>Anass Benomar (anassbenomar at gmail.com)</li>
  <li><a href="https://github.com/bednar">Jakub Bednář</a></li>
  <li>Pascal Schumacher (pascalschumacher at apache.org)</li>
  <li><a href="https://graphaware.com/">GraphAware</a></li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
    <li>Sergiy Iampol (sergiy.iampol at playtech.com)</li>
    <li>Brian Tully (brian.tully at acquia.com)</li>
    <li>Amer Ghazal (amerghazal at gmail.com)</li>
    <li>Stefan Seide (stefan at trilobyte-se.de)</li>
    <li>Havlicek Honza (havlicek.honza at gmail.com)</li>
    <li>Pierre Astruc (pierre.astruc at evertest.com)</li>
    <li>Jinliang Wang (wjl31802 at 126.com)</li>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>

<li>
Since Java 11 the JavaScript implementation <a href="https://openjdk.java.net/jeps/335">Nashorn has been deprecated</a>.
Java will emit the following deprecation warnings, if you are using JavaScript based on Nashorn.
<source>
Warning: Nashorn engine is planned to be removed from a future JDK release
</source>
To silence these warnings, add <code>-Dnashorn.args=--no-deprecation-warning</code> to your Java arguments.
That can be achieved by setting the enviroment variable <code>JVM_ARGS</code>
<source>
export JVM_ARGS="-Dnashorn.args=--no-deprecation-warning"
</source>
</li>
</ul>

<!--  =================== 5.1.1 =================== -->

<h1>Version 5.1.1</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<p>
This release is mainly a bugfix release. Please see the <a href="changes_history.html">Changes history page</a>
to view the last major behaviors with the version 5.1.
</p>
<!--
<ch_title>Core improvements</ch_title>
<ch_title>UX improvements</ch_title>
<ch_title>Test Plan</ch_title>
<ch_title>Scripting / Debugging enhancements</ch_title>
-->
<ch_title>Live Reporting and Web Report</ch_title>
<p>A new menu entry has been added to the <b>Tools</b> menu. It's allow to generate
a results report from a previous CSV/JTL file.
<figure width="1209" height="341" image="changes/5.1.1/01_menu_generate_report.png" />
<br/>
<figure width="1624" height="565" image="changes/5.1.1/02_windows_generate_report.png" />
</p>
<!--
<ch_title>Functions</ch_title>
-->
<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>62977</bug>Allow sending HTTP requests without a default User-Agent header</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>63185</bug>LDAP related elements: Add option to implicitly trust SSL/TLS connections/Disable hostname verification. Based on contribution by Brian Wolfe (wolfebrian2120 at gmail.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>63178</bug>CSS Selector Extractor: Improve performance of JODD (JoddExtractor) based implementation</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>59896</bug> Report / Dashboard: Add a menu entry to generate a report on demand from a CSV file. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>General</h3>
<ul>
    <li><pr>444</pr>Update to latest Spock v1.2 (was 1.0). Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>446</pr>Improve Unit tests readability and use of Spock. Contributed by Graham Russell (graham at ham1.co.uk)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li><bug>63203</bug>Unit Tests: Replace use of <code>@Deprecated</code> by <code>@VisibleForTesting</code> for methods/constructors/classes made public for Unit Testing only</li>
    <li><pr>449</pr>Refactor and Test ResponseTimePercentilesOverTimeGraphConsumer. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>450</pr>Abstract graph consumer improvements. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>451</pr>Improve a few unit tests and classes. Contributed by Graham Russell (graham at ham1.co.uk)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>63202</bug>JMS Publisher: ObjectMessageRenderer creates XStream instance with uninitialized security</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>63204</bug><code>RenderAsJSON#prettyJSON</code>: <code>JSONParser#parse</code> cannot return JSONValue</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>62446</bug>Counter documentation is wrong in required fieds. Contributed by orimarko at gmail.com</li>
    <li><bug>62327</bug>TestPlan: In library table if path is modified and plan saved, the modification is lost on file reload</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>63241</bug><code>__threadGroupName</code> causes a NullPointerException if called from non Test threads</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>63198</bug>Response Time Vs Request and Latency Vs Request graphs don't line up with throughput. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Documentation</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
    <li><bug>63201</bug>SearchTreeDialog disappears behind master JFrame. Contributed by Benoit Vatan (benoit.vatan at gmail.com)</li>
    <li><bug>63220</bug><code>Function Helper Dialog</code>, <code>Export transactions for report</code> and <code>Import from cURL</code> disappear being master JFrame. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63207</bug>java.lang.NullPointerException: null when run JMeter 5.1 with proxy options</li>
    <li><bug>58183</bug>Rampup may not be respected if thread take time to start leading to threads continuing to start post ramp up time</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
    <li><a href="https://ubikloadpack.com">Ubik Load Pack</a></li>
    <li>Benoit Vatan (benoit.vatan at gmail.com)</li>
    <li>Graham Russell (graham at ham1.co.uk)</li>
    <li>Brian Wolfe (wolfebrian2120 at gmail.com)</li>
    <li>orimarko at gmail.com</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 5.1 =================== -->

<h1>Version 5.1</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<ch_title>Core improvements</ch_title>
<p>JDBC testing has been improved with ability to set init SQL statements and add
compatibility with JDBC drivers that do not support QueryTimeout
<figure width="1122" height="727" image="changes/5.1/jdbc-connection-config-init-request.png" />
</p>
<ul>
<li>Various bug fixes have been implemented, like gathering the correct headers when recording requests through the HTTP(S) Test Script Recorder using HTTPS</li>
<li>In version 5.0, JMeter was changed to rename Sub results using a custom Naming Policy (<bugzilla>62550</bugzilla>). This change could be annoying for Functional Testing, a new property
<code>subresults.disable_renaming=true</code> has been introduced to revert if needed to previous behaviour. An alternative is to check <code>Functional Test Mode</code> in Test Plan, see <bugzilla>63055</bugzilla></li>
</ul>
<ch_title>UX improvements</ch_title>
<p>Templates can provide parameters that are filled in on test plan generation,
<code>Recording</code> template uses this feature
<figure width="726" height="453" image="changes/5.1/templates-parametes.png" />
</p>
<p>A new <code>Tools</code> menu has been introduced to collect those entries,
that are used for general usage around JMeter, like:
<ul>
    <li><code>Function Helper Dialog</code></li>
    <li><code>Export transactions for report</code></li>
    <li><code>Generate Schematic View</code> which provides an overview as HTML of the Test plan</li>
    <li><code>Import from cURL</code> which allows you to create or update your test plan by importing a cURL command</li>
    <li><code>Compile JSR223 Test Elements</code></li>
    <li><code>Create a heap dump</code></li>
    <li><code>Create a thread dump</code></li>
</ul>
<figure width="268" height="237" image="changes/5.1/jmeter-new-menu-tools.png" />
</p>
<ch_title>Test Plan</ch_title>
<p>Ability to create a Test plan from a cURL command.
<figure width="1026" height="439" image="changes/5.1/http-request-from-curl-request.png" />
</p>
<ch_title>Scripting / Debugging enhancements</ch_title>
<ul>
<li>A menu item to compile all JSR223 Elements is now available in <code>Tools</code> menu</li>
</ul>
<ch_title>Live Reporting and Web Report</ch_title>
<ul>
<li>A JSON file containing summary of a load test statistics is now generated when using <code>-e</code> or <code>-g</code> options.</li>
<li>Percentiles computing graphed over time algorithm has been modified to restart for  each time slot</li>
<li>More user-friendly behaviour when reporting folder does not exist or is not empty through <code>-f</code> command line option</li>
</ul>
<!--
<ch_title>Functions</ch_title>
-->
<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
<li>In <code>Response Time Percentiles Over Time (successful responses)</code> graph of the HTML report, before this version, percentile computation of each time slot used the percentile data
of previous time slot as a base. Starting with this version, each time slot is independant. See <bugzilla>62883</bugzilla></li>
<li><code>ClientJMeterEngine#rsetProperties</code> signature has been changed to use <code>HashMap&lt;String,String&gt;</code> instead of Properties, see <bugzilla>63034</bugzilla></li>
<li>A new Menu item <code>Tools</code> has been introduced, some menu items that were in <code>Help</code> menu are now under this new menu item. See <bugzilla>63094</bugzilla>
</li>
<li><code>slf4j-ext</code> has been removed from libraries (lib folder) and JMeter pom. It was not used by default and due to CVE-2018-8088 and unavailability of a stable version
containing a fix to this issue, we decided to remove it. If you still needed, you can add it in lib folder.</li>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>62840</bug>HTTP Request: Add option <code>httpclient4.gzip_relax_mode</code> to avoid error when unzipping what seems to be invalid streams</li>
    <li><bug>63025</bug>Enhance Search &amp; Replace functionality for HTTP Request to include port and protocol field. Initial code fix by Mohamed Ibrahim (rollno748 at gmail.com)</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>62934</bug>Add compatibility for JDBC drivers that do not support QueryTimeout </li>
    <li><bug>62935</bug>Pass custom <code>mail.*</code> properties to Mail Reader Sampler. Implemented by Artem Fedorov (artem.fedorov at blazemeter.com) and contributed by BlazeMeter.</li>
    <li><bug>63055</bug>Don't rename SampleResult Label when test is running in Functional mode or property <code>subresults.disable_renaming=true</code>. Implemented by Artem Fedorov (artem.fedorov at blazemeter.com) and contributed by BlazeMeter.</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
  <li><bug>62822</bug><pr>407</pr>Render uninitialized min and max values in Summary Report as <code>#N/A</code></li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>62766</bug>Keystore Config: We should load all aliases by default. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62832</bug>JDBC Connection Configuration: Be able to set init SQL statements. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Functions</h3>
<ul>
  <li><bug>63037</bug>When using <code>CSVRead</code> search the script base path for files, too.</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>62883</bug>Report / Dashboard: Change the way percentiles are computed for Response Time Percentiles Over Time (successful responses) graph</li>
    <li><bug>63060</bug>Report Generator: A generator should only check for folder/files it generates and only delete those ones</li>
    <li><bug>63059</bug>Create a new JsonExporter that exports as JSON the content of data computed for HTML Dashboard Statistics table. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63081</bug>Command line Option <code>-f</code> does not delete report folder when using generation only through command line option <code>-g</code>. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>62959</bug>Ability to create a Test plan from a cURL command. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><pr>394</pr>Allow <code>null</code> values in <code>FieldStringEditor</code>. Based on patch by Mingun (alexander_sergey at mail.ru)</li>
    <li><bug>62826</bug>When changing LAF, make JMeter restart if user clicks yes to popup</li>
    <li><bug>62257</bug><pr>401</pr>Expand/Collapse short key <keysym>-</keysym> (minus sign) on numpad doesn't work. Contributed by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>62752</bug>Add to Documentation: <code>ctx.getThreadNum()</code> is zero-based while <code>${__threadNum}</code> is one-based</li>
    <li><pr>411</pr>Use <code>SHA-1</code> instead of <code>SHA1</code> in <code>org.apache.jmeter.save.SaveService</code>. Contributed by Paco (paco.xu at daocloud.io)</li>
    <li><bug>62914</bug>Add a hint in Thread Group UI about duration of test</li>
    <li><bug>62925</bug>Add support for ThreadDump to the JMeter non-GUI</li>
    <li><bug>62870</bug>Templates: Add ability to provide parameters. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62829</bug>Allow specifying Proxy server scheme for HTTP request sampler, Advanced tab and command line option. Contributed by Hitesh Patel (hitesh.h.patel at gmail.com)</li>
    <li><bug>59633</bug>Menus <code>Save Test Plan as</code>, <code>Save as Test Fragment</code> and <code>Save Selection as ...</code> should use a new file name in File Dialog</li>
    <li><bug>61486</bug>Make jmeter-server and non GUI mode run headless</li>
    <li><bug>63093</bug>Add <code>Compile JSR223 Test Elements</code> menu item. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63094</bug>Introduce a new Tools menu</li>
    <li><bug>63101</bug>Propose a menu item to generate readable overview of Test Plan</li>
    <li><bug>63144</bug>View listener tree take a long time to open response that has huge text. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li><pr>408</pr>Log an informational message instead of an stack trace, when JavaFX is not found for the <code>RenderInBrowser</code> component.</li>
    <li><pr>412</pr>Update Chinese translation. Contributed by 刘士 (liushilive at outlook.com).</li>
    <li><pr>406</pr>Add a short paragraph on how to use a security manager with JMeter.</li>
    <li><bug>62893</bug>Use StringEscapeUtils from commons-text (version 1.6) instead of the deprecated ones from commons-lang3.</li>
    <li><bug>62972</bug><pr>435</pr>Replace calls to deprecated method <code>Class#newInstance</code>.</li>
    <li><bug>63034</bug>ClientJMeterEngine: Make rsetProperties use <code>HashMap&lt;String,String&gt;</code> instead of Properties</li>
    <li>Updated to httpclient/httpmime 4.5.7 (from 4.5.6)</li>
    <li>Updated to httpcore 4.4.11 (from 4.4.10)</li>
    <li>Updated to httpcore-nio 4.4.11 (from 4.4.10)</li>
    <li>Updated to tika-core and tika-parsers 1.20 (from 1.18)</li>
    <li>Updated to commons-dbcp2-2.5.0 (from commons-dbcp2-2.4.0)</li>
    <li>Updated to commons-lang3-3.8.1 (from commons-lang3-3.8)</li>
    <li>Updated to groovy-all-2.4.16 (from groovy-all-2.4.15)</li>
    <li>Updated to httpasyncclient-4.1.4.jar (from 4.1.3)</li>
    <li>Updated to jsoup-1.11.3 (from 1.11.2)</li>
    <li>Updated to cglib-nodep-3.2.9 (from cglib-nodep-3.2.7)</li>
    <li>Updated to ph-commons-9.2.1 (from ph-commons-9.1.2)</li>
    <li>Updated to log4j-2.11.1 (from log4j-2.11.0)</li>
    <li>Updated to xmlgraphics-commons 2.3 (from 2.2)</li>
    <li><bug>63033</bug>Updated to Saxon-HE 9.9.1-1 (from 9.8.0-12). Thanks at Saxonica</li>
    <li>Updated to xstream 1.4.11 (from 1.4.10)</li>
    <li>Updated to jodd 5.0.6 (from 4.1.4)</li>
    <li>Updated to asm-7.0 (from 6.1)</li>
    <li>Update to ActiveMQ 5.15.8 (from 5.5.16)</li>
    <li>Updated to rsyntaxtextarea-3.0.2 (from 2.6.1)</li>
    <li>Updated to apache-rat-0.13 (from 0.12)</li>
    <li>Updated to jacocoant-0.8.3 (from 0.8.2)</li>
    <li>Updated to hsqldb-2.4.1 (from 2.4.0)</li>
    <li>Updated to mina-core-2.0.19 (from 2.0.16)</li>
    <li><bug>62818</bug>Updated to xercesImpl to 2.12.0 (from 2.11.0). Reported by Stefan Seide (stefan at trilobyte-se.de)</li>
    <li><bug>62744</bug>Upgrade jquery to version 3.3.1, jquery-ui to 1.12.1, bootstrap to 3.3.7</li>
    <li><bug>62821</bug><pr>405</pr>Use SHA-512 checksums instead of MD5 to verify jar downloads</li>
    <li><bug>63053</bug>Remove referrals to never implemented internals from user documentation. Reported by U. Poblotzki (u.poblotzki at thalia.de)</li>
    <li><bug>63082</bug><pr>437</pr>Use utf-8 for properties files in source</li>
    <li><bug>63177</bug>Rename NON GUI mode into CLI Mode in documentation</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>62785</bug><pr>400</pr>Incomplete search path applied to the filenames used in the upload functionality of the HTTP sampler. Implemented by Artem Fedorov (artem.fedorov at blazemeter.com) and contributed by BlazeMeter.</li>
    <li><bug>62842</bug>HTTP(S) Test Script Recorder: Brotli compression is not supported leading to "<code>Content Encoding Error</code>"</li>
    <li><bug>60424</bug>Hessian Burlap application: JMeter inserts <code>0x0D</code> before <code>0x0A</code> automatically (http binary post data)</li>
    <li><bug>62940</bug>Use different <code>cn</code> and type of SAN extension when we are generating certificates based on IP addresses.</li>
    <li><bug>62916</bug>HTTP Test Script Recorder fails with UnsupportedOperationException if recording is started after a distributed test has been run</li>
    <li><bug>62987</bug>A TestBean element under HTTP(S) Test Script recorder does not work. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63015</bug>Abnormal NoHttpResponseException when running request through proxy HTTP(S) Test Script Recorder after a first failing request. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62852</bug>HTTP Request Header missing information when using a proxy. Thanks to Oleg Kalnichevski (olegk at apache.org)</li>
    <li><bug>63048</bug>JMeter does not retrieve link resources of type "shortcut icon" or "icon". Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>62775</bug>If many jars are in a folder referenced by <code>user.classpath</code>, startup can be extremely slow due to JUnit</li>
    <li><bug>63031</bug>Incorrect JDBC driver class: <code>org.firebirdsql.jdbc.FBDrivery</code>. Contributed by Sonali (arora.sonali99 at gmail.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>62806</bug>ModuleController cloning by Run behaves differently whether in GUI or Non GUI mode. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62847</bug>If Controller cannot use variable for index exposed by LoopController/WhileController/ForEachController</li>
    <li><bug>63064</bug>Ignore spaces at the end and beginning of expressions used in IfController</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>62770</bug>Aggregate Graph throws <code>ArrayIndexOutOfBoundsException</code></li>
    <li><bug>63069</bug>ResultCollector does not write end of XML file if user exits while a Recording or a test is running. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>63138</bug>InfluxDB BackendListenerClient: In case of error, log is in debug, it should be in error</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>62774</bug>XPath2Extractor: Scope variable is broken. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62860</bug>JSON Extractor: Avoid NPE and noisy error message "<code>Error processing JSON content in</code>" when variable is not found</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>62777</bug>Web Report / Dashboard: Hide All in <code>Response Time Percentiles Over Time (successful responses)</code> fails.</li>
    <li><bug>62780</bug>Web Report / Dashboard: Display All in <code>Response Time Vs Request</code> fails.</li>
    <li><bug>62781</bug>Web Report / Dashboard: Display All in <code>Response Time Overview</code> fails.</li>
    <li><bug>62782</bug>Web Report / Dashboard: Remove duplicate/unused dependencies</li>
    <li><bug>62894</bug>Report / Dashboard: Throughput is in wrong column which is confusing as unit is millisecond</li>
    <li><bug>63016</bug>Empty HTML report if source csv contains labels with quotes. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Documentation</h3>
<ul>
    <li>Change <code>Test Action</code> (old name) to <code>Flow Control Action</code> in Component Reference documentation. Contributed by Ori Marko (orimarko at gmail.com)</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>62745</bug>Fix undefined disabled icon. Contributed by Till Neunast (https://github.com/tilln)</li>
    <li><bug>62743</bug>Client auth must be enabled on distributed testing</li>
    <li><bug>62767</bug>NPE when searching under certain conditions. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62790</bug><code>ArrayIndexOutOfBoundsException</code> when calling replace without selecting the first match</li>
    <li><bug>62795</bug>JMeter controller node sometimes ends distributed test even though some of the worker nodes have not finished</li>
    <li><bug>62336</bug><pr>396</pr>Some shortcuts are not working correctly on windows. Contributed by Michael Pavlov (michael.paulau at gmail.com)</li>
    <li><bug>62889</bug>Format JSON Arrays when displayed with JSON Path Tester.</li>
    <li><bug>62900</bug>ObjectProperty#getStringValue() can throw NullPointerException</li>
    <li><bug>63099</bug>Escape commata in function helper dialog only outside of variable replacement structures.</li>
    <li><bug>63105</bug>Export Transactions for Report: fix 2 bugs</li>
    <li><bug>63106</bug>Apply naming policy does not refresh UI</li>
    <li><bug>63180</bug>Apply Naming Policy allows multi selection but only considers first node</li>
    <li><bug>63090</bug>Remove slf4j-ext due to CVE-2018-8088</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
    <li>Oleg Kalnichevski (olegk at apache.org)</li>
    <li>Till Neunast (https://github.com/tilln)</li>
    <li>Mingun (alexander_sergey at mail.ru)</li>
    <li><a href="https://ubikloadpack.com">Ubik Load Pack</a></li>
    <li>Artem Fedorov (artem.fedorov at blazemeter.com)</li>
    <li>Stefan Seide (stefan at trilobyte-se.de)</li>
    <li>刘士 (liushilive at outlook.com)</li>
    <li>Michael Pavlov (michael.paulau at gmail.com)</li>
    <li>Ori Marko (orimarko at gmail.com)</li>
    <li>Paco (paco.xu at daocloud.io)</li>
    <li>Hitesh Patel (hitesh.h.patel at gmail.com)</li>
    <li>Sonali (arora.sonali99 at gmail.com)</li>
    <li>Mohamed Ibrahim (rollno748 at gmail.com)</li>
    <li>U. Poblotzki (u.poblotzki at thalia.de)</li>
    <li><a href="https://www.saxonica.com">Saxonica</a></li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<ul>
</ul>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 5.0 =================== -->

<h1>Version 5.0</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<ch_title>Core improvements</ch_title>
<p>Rest support has been improved in many fields
<ul>
    <li>Multipart/form-data requests now work for <code>PUT</code>, <code>DELETE</code> &hellip;</li>
    <li>It is now also possible to send a JSON Body with attached file</li>
    <li>Parameters entered in Parameters Tab are now used in body instead of being ignored</li>
</ul>
<figure width="1216" height="340" image="changes/5.0/jmeter_5_rest1.png" />
<figure width="1223" height="314" image="changes/5.0/jmeter_5_rest2.png" />
</p>
<p>In distributed testing, JMeter now automatically prefixes thread names with engine host and port, this makes the counting of threads correct in the HTML report without any other configuration as it was required before
<figure width="1156" height="543" image="changes/5.0/jmeter_5_distributed.png" />
</p>
<p>XPath 2.0 is supported in a new element called <code>XPath2 extractor</code> providing easier XML namespaces handling, up to date XPath syntax and better performances
<figure width="879" height="340" image="changes/5.0/jmeter_5_xpath2_extractor.png" />
<figure width="1213" height="730" image="changes/5.0/jmeter_5_xpath2_tester.png" />
</p>
<p>Upgrade to HTTP Components 4.6 last APIs has been completed and JMeter does not rely anymore on deprecated APIs of this library</p>
<p>It is now possible to control in an easier way Loop breaking and Loop switching to next iteration. This is available in <code>Flow Control Action</code> and <code>Result Status Action Handler</code> elements
<figure width="772" height="270" image="changes/5.0/jmeter_5_flow_control_action.png" />
<figure width="615" height="212" image="changes/5.0/jmeter_5_result_status_handler.png" />

</p>
<p>While Controller now exports a variable containing its current index named <code>__jm__&lt;Name of your element&gt;__idx</code>. So for
example, if your While Controller is named WC, then you can access the looping index through <code>${__jm__WC__idx}</code></p>

<ch_title>Scripting / Debugging enhancements</ch_title>
<p>Search feature has been improved to allow you to iterate in the tree over search results and do necessary replacements through <code>Next</code>/<code>Previous</code>/<code>Replace</code>/<code>Replace/Find</code> buttons
<figure width="829" height="524" image="changes/5.0/jmeter_5_search_feature.png" />
</p>
<p>In View Results Tree, the request and response headers/body are clearly separated to allow you to better inspect requests and responses. You can also search in all those tabs for a particular value
<figure width="737" height="366" image="changes/5.0/jmeter_5_vrt_request_body.png" />
<figure width="771" height="552" image="changes/5.0/jmeter_5_vrt_response_body.png" />
</p>
<p>Recording feature has been improved to provide a popup that is always on top when you navigate in browser allowing you to name transactions while you navigate in your application.
<figure width="1425" height="796" image="changes/5.0/jmeter_5_recording.png" />
</p>
<p>You can now restart JMeter from menu <menuchoice><guimenuitem>File</guimenuitem><guimenuitem>Restart</guimenuitem></menuchoice>
<figure width="199" height="318" image="changes/5.0/jmeter_5_restart.png" />
</p>

<ch_title>Live Reporting and Web Report</ch_title>
Reporting feature has been enhanced
<p>A new Graph Total Transactions per second has been added to the HTML Web Report
<figure width="1156" height="536" image="changes/5.0/jmeter_5_total_trans_per_sec.png" />
</p>
<p>It is now possible to graph over time custom metrics available as JMeter Variables through <code>sample_variables</code>. Those custom metrics graphs will be
available in the HTML Report in <code>Custom Graphs section</code>
<figure width="1426" height="755" image="changes/5.0/jmeter_5_custom_graphs.png" />
</p>
<p>Hits per second graph now takes into account the embedded resources
<figure width="1153" height="537" image="changes/5.0/jmeter_5_hits_per_sec.png" />
</p>

<p>In Live reporting, the sent and received bytes are now sent to Backends (InfluxDB or Graphite)</p>

<ch_title>Functions</ch_title>
<p>A New function <code><funclink name="__threadGroupName"/></code> has been introduced to obtain ThreadGroup name.</p>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
<li>Since JMeter 5.0, when using default HC4 Implementation, JMeter will reset HTTP state (SSL State + Connections) on each thread group iteration. If you don't want
this behaviour, set <code>httpclient.reset_state_on_thread_group_iteration=false</code></li>
<li>Since JMeter 5.0, in relation to above remark, <code>https.use.cached.ssl.context</code> is deprecated and not used anymore.</li>
<li>Since JMeter 5.0, when using CSV output, sub results will now be also output to CSV file. To revert to previous behaviour set <code>jmeter.save.saveservice.subresults=false</code>, see <bugzilla>62470</bugzilla>, <bugzilla>60917</bugzilla>, <bugzilla>62550</bugzilla>.</li>
<li>Since JMeter 5.0, <code>CSS/JQuery Extractor</code> has been renamed to <code>CSS Selector Extractor</code></li>
<li>Since JMeter 5.0, <code>Test Action</code> has been renamed to <code>Flow Control Action</code></li>
<li>Since JMeter 5.0, JMeter renames subResults to <code>parentName-N</code> where N is a number to ensure that Hits Per Second graph includes resources downloads, see <bugzilla>62550</bugzilla>, <bugzilla>62470</bugzilla> and <bugzilla>60917</bugzilla></li>

</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>62260</bug>Improve Rest support. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>58757</bug>HTTP Request : Updated deprecated methods of HttpComponents to last APIs of httpclient-4.5.X. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62212</bug>Recorder : Improve UX by providing a popup above all windows to be able to change Transaction names and pauses while using Browser. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62248</bug>HTTP Request : Parameters entered in Parameters Tab should be used in body instead of being ignored. Partly based on a patch by Artem Fedorov contributed by Blazemeter.</li>
    <li><bug>60015</bug>Multipart/form-data works only for <code>POST</code> using HTTPClient4 while it should for <code>PUT</code>, <code>DELETE</code>, &hellip; Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62317</bug>HTTP(S) Test Script Recorder: allow to add ResultSaver to created sampler</li>
</ul>

<h3>Other samplers</h3>
<ul>
  <li><pr>376</pr>JUnitSampler logs exceptions except assertion-failures from test cases as warnings. Contributed by Davide Angelocola (davide.angelocola at fisglobal.com)</li>
  <li><bug>62244</bug>Rename <code>Test Action</code> to <code>Flow Control Action</code></li>
  <li><bug>62302</bug>Move JSR223 Sampler up the menu. Contributed by Ori Marko (orimarko at gmail.com)</li>
  <li><bug>62595</bug>SMTPSampler does not allow configuring the SSL/TLS protocols to be used on handshake. Contributed by Felipe Cuozzo (felipe.cuozzo at gmail.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>62237</bug>While Controller : Export variable containing current index of iteration. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>62195</bug>Save Responses to a file : Improve component and UI. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62209</bug>InfluxBackendListenerClient: First Assertion Failure Message must be sent if error code and response code are empty or OK</li>
    <li><bug>62269</bug>Bug 62269 - View Results Tree : Response and Request Tabs should contains Header and Body tabs. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62270</bug>View Results Tree : Allow searching in Request headers, Response Headers, and Request body. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62276</bug>InfluxDBBackendListenerClient / GraphiteBackendListenerClient : Add sent and received bytes to metrics. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>62320</bug>Counter : Reference Name property is not clear</li>
    <li><bug>60991</bug>XPath Extractor : Implement XPath 2.0. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62593</bug>Rename CSS/JQuery Extractor to CSS Selector Extractor. Contributed by Ori Marko (orimarko at gmail.com)</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>62178</bug>Add default value to <code><funclink name="__V"/></code> function. Contributed by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>62178</bug>Add function <code><funclink name="__threadGroupName"/></code> function to obtain ThreadGroup name. Mainly contributed by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>62533</bug>Allow use epoch time as Date String value in function <code><funclink name="__dateTimeConvert"/></code> </li>
    <li><bug>62541</bug>Allow <code><funclink name="__jexl3"/></code>, <code><funclink name="__jexl2"/></code> functions to support new syntax as <code>var x;</code>. Contributed by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>61834</bug>Function Helper Dialog : Improve tests by showing variables and keeping them available between evaluations</li>
</ul>
<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>62243</bug>Dashboard : make option "<code>--forceDeleteResultFile</code>"/"<code>-f</code>" option delete folder referenced by "<code>-o</code>" option</li>
    <li><bug>62367</bug>HTML Report Generator: Add Graph Total Transactions per Second. Contributed mainly by Martha Laks (laks.martha at gmail.com)</li>
    <li><bug>62166</bug>Report/Dashboard: Provide ability to register custom graphs and metrics in the JMeter Dashboard. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62542</bug>Report/Dashboard : Display more information on filters when graph is empty. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62426</bug>Optimize performance of report generation. Based on feedback by Allen (444104595 at qq.com)</li>
    <li><bug>62550</bug>Modify SubResult Naming Policy</li>
    <li><bug>60917</bug>Load Test with embedded resources download : Hits per seconds does not take into account the downloaded resources</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>62684</bug>Distributed Testing : Add automatically to thread name a prefix to identify engine. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><bug>62155</bug>Search Feature: Make Search text field get focus</li>
  <li><bug>62156</bug>Search Feature : Distinguish between node that matches search and node that contains a child that matches search</li>
  <li><bug>62234</bug>Search/Replace Feature : Enhance UX and add Replace/Next/Previous/Replace &amp; Find features. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><bug>62238</bug>Add ability to Switch to next iteration of Current Loop. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><bug>62239</bug>Add ability to Break Current Loop</li>
  <li><bug>61635</bug>Add a menu to restart JMeter</li>
  <li><bug>62470</bug>CSV Output : Enable logging of sub results when <code>jmeter.save.saveservice.subresults=true</code>. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><bug>62473</bug>Setting "<code>saveservice_properties</code>" has counter intuitive behaviour</li>
  <li><bug>62354</bug>Correct calculation and usage of units for second per user (reported by jffagot05 at gmail.com)</li>
  <li><bug>62700</bug>Introduce <code>jsr223.init.file</code> to allow calling a JSR-223 script on JMeter startup</li>
  <li><bug>62128</bug>Try to guess <code>JMETER_HOME</code> correctly, when <code>jmeter.bat</code> is called from a batch file in another directory. Contributed by logox01 (logox01 at gmx.at)</li>
  <li><pr>386</pr>Add parameter support for RMI keystore creation scripts. Contributed by Logan Mauzaize (t524467 at airfrance.fr)</li>
  <li><bug>62065</bug>Use Maven artifact for JAF Module instead of embedded module</li>
  <li><bug>61714</bug>Update Real-time results documentation</li>
  <li><pr>382</pr>Correct typo in documentation. Reported by Perze Ababa (perze.ababa at gmail.com>)</li>
  <li><pr>392</pr>Correct typo in documentation. Reported by Aaron Levin</li>
  <li><pr>379</pr> Improve chinese translations. Contributed by XmeterNet</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li><pr>358</pr><pr>365</pr><pr>366</pr><pr>375</pr>Updated to latest checkstyle (v8.8). Expanded Checkstyle to files
      in <code>src</code> and <code>test</code>; fixed newly checked files. Based on contribution
      by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>62095</bug>Correct description for right boundary parameter in Boundary Extractor. Contributed by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>62113</bug>Updated to latest Bouncycastle (v1.60). Based on contribution by Olaf Flebbe (oflebbe at apache.org)</li>
    <li><bug>62171</bug>Remove <code>.md5</code> checksums and keep only <code>.sha512</code> checksums for source and binary archives</li>
    <li>Updated to groovy-all-2.4.15 (from groovy-all-2.4.13)</li>
    <li>Updated to asm-6.1 (from 6.0)</li>
    <li>Updated to tika-core and tika-parsers 1.18 (from 1.17)</li>
    <li><bug>62482</bug>Sync documentation to the implementation of the ForEachController. Based on contribution by Ori Marko (orimarko at gmail.com)</li>
    <li><bug>62529</bug>Updated to httpclient-4.5.6 (from httpclient 4.5.5) and updated to freemarker-2.3.28 (from freemarker-2.3.23). Based on patch by Ori Marko (orimarko at gmail.com)</li>
    <li>Updated to httpmime-4.5.6 (from httpmime-4.5.5)</li>
    <li>Updated to caffeine-2.6.2 (from caffeine-2.6.1)</li>
    <li>Updated to cglib-nodep-3.2.7 (from cglib-nodep-3.2.6)</li>
    <li>Updated to commons-dbcp2-2.4.0 (from commons-dbcp2-2.2.0)</li>
    <li>Updated to commons-pool2-2.6.0 (from commons-pool2-2.5.0)</li>
    <li>Updated to httpcore-4.4.10 (from httpcore-4.4.9)</li>
    <li>Updated to httpcore-nio-4.4.10 (from httpcore-nio-4.4.9)</li>
    <li>Updated to log4j-2.11.0 (from log4j-2.10.0)</li>
    <li>Updated to ph-css-6.1.1 (from ph-css-6.0.0)</li>
    <li>Updated to ph-commons-9.1.2 (from ph-commons-9.0.0)</li>
    <li>Updated to rhino-1.7.10 (from +rhino-1.7.7.2)</li>
    <li>Updated to commons-lang3-3.8 (from commons-lang3-3.7)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>62114</bug>HTTP(S) Test Script Recorder : Client certificate authentication uses the first SSLManager created. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61058</bug>HTTP Request : Add option <code>httpclient4.deflate_relax_mode</code> to avoid "Unexpected end of ZLIB input stream" when deflating what seems to be invalid streams. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>43612</bug>HTTP PUT does not honor request parameters. Implemented by Artem Fedorov (artem.fedorov at blazemeter.com) and contributed by BlazeMeter Ltd.</li>
    <li><bug>60190</bug>Content-Type is added for <code>POST</code> unconditionally. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62462</bug><pr>387</pr>Make delegation of credentials in SPNEGO possible again.</li>
    <li><bug>58807</bug><code>Reset SSL State on Thread Group iteration only (was https.use.cached.ssl.context=false</code> is broken)</li>
    <li><bug>62716</bug>When Recording, JMeter removes Authorization from generated Header Manager when using Bearer Token</li>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>62235</bug>Java 9 - illegal reflective access by org.apache.jmeter.util.HostNameSetter</li>
    <li><bug>62464</bug>Set start- and end-time on JMS publisher sampler, even if initialization fails.</li>
    <li><bug>62616</bug>FTPSampler: Upload file-size is not counted in sentBytes</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>62265</bug>ModuleController behaves strangely</li>
</ul>

<h3>Listeners</h3>
<ul>
  <li><bug>62097</bug>Update JTable in Aggregate Report only when new data has arrived. That way selections of rows will be kept longer around.</li>
  <li><bug>62203</bug>Influxdb BackendListener client: store user tags to annotation and internal transaction. Contributed by Sergey Batalin (sergey_batalin at mail.ru)</li>
  <li><bug>62251</bug>TextGraphiteMetricsSender does not invalidate lost connections in case of network errors </li>
  <li><bug>60705</bug>Fix headers of Aggregate Reports and friends when columns are moved around.</li>
  <li><bug>62463</bug>Distributed client/server setup: use different RMI ports for the remote objects when using SSL</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>61664</bug>HTTP Authorization Manager : Digest works only with legacy <rfc link="2069" />, <rfc link="2617" /> is not implemented. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62252</bug>HTTP header merging logic does not correspond to the documentation</li>
    <li><bug>62554</bug>BoundaryExtractor : Field to check is not reset</li>
    <li><bug>62553</bug>Random element might return same value even if property "Per thread user (User)" is set to TRUE</li>
    <li><bug>62637</bug>Take scheduler into account when calcuting delay for Synchronizing Timer</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
    <li><bug>62310</bug>French translation of Precise Throughput Timer label</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>62333</bug>Report Dashboard - When one series contains no value, the graph colors logic is wrong. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62283</bug>Report Dashboard - Date is not correctly displayed on chart when granularity is &le;&nbsp;1 day</li>
    <li><bug>62520</bug>The tool-tip text when we hover on the point in 'Latency Vs Request' graph should be 'Median Latency'</li>
</ul>

<h3>Documentation</h3>
<ul>
    <li><bug>62211</bug>Fix HTTP Request Server Documentation. Contributed by Ori Marko (orimarko at gmail.com)</li>
    <li><pr>388</pr>Fix a typo. Contributed by Giancarlo Romeo (giancarloromeo at gmail.com)</li>
</ul>

<h3>General</h3>
<ul>
  <li><bug>62107</bug>JMeter fails to start under Windows when <code>JM_LAUNCH</code> contains spaces</li>
  <li><bug>62110</bug>A broken JUnit class (due to missing dependency) breaks JMeter menus. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
  <li><pr>377</pr>Small fix of the docs. Contributed by Peter Doornbosch (peter.doornbosch at luminis.eu)</li>
  <li><bug>62124</bug>Recording templates : Add more exclusions and use Transaction Name by default</li>
  <li><bug>62127</bug>Store filename as String instead of File in FileEditor. This will prevent conversion of filenames from Unix style path separators to Windows style when used for example in CSV Data Set Config.</li>
  <li><bug>56150</bug>Keep the index right, when scrolling through the menu items.</li>
  <li><bug>62240</bug>If SampleMonitor implementation is a TestBean if will not be initialized correctly</li>
  <li><bug>62295</bug>Correct order of elements when duplicating a selection of multiple elements.</li>
  <li><bug>62397</bug>Don't break lines at commata when using JSON Path Tester</li>
  <li><bug>62281</bug>Prevent NPE in MapProperty. Patch by belugabehr (dam6923 at gmail.com)</li>
  <li><bug>62457</bug>In usermanual, the UUID Function's example is wrong. Contributed by helppass (onegaicimasu at hotmail.com)</li>
  <li><bug>62478</bug>Escape commata in parameters when constructing function strings in the GUI function helper. Reported by blue414 (blue414 at 163.com)</li>
  <li><bug>62463</bug>Fix usage of ports, when <code>client.rmi.localport</code> is set for distributed runs.</li>
  <li><bug>62545</bug>Don't use a colon as part of the "tab" string when indenting JSON in RenderAsJSON.</li>
  <li>Part of <bug>62637</bug> Avoid Integer overrun when dealing with very large values in <code>TimerService#adjustDelay</code></li>
  <li><bug>62683</bug>Error dialog has no text when user opens completely invalid test plan.</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
    <li>Graham Russell (graham at ham1.co.uk)</li>
    <li>Ori Marko (orimarko at gmail.com)</li>
    <li>Davide Angelocola (davide.angelocola at fisglobal.com)</li>
    <li><a href="https://ubikloadpack.com">Ubik Load Pack</a></li>
    <li>Olaf Flebbe (oflebbe at apache.org)</li>
    <li>Peter Doornbosch (peter.doornbosch at luminis.eu)</li>
    <li>logox01 (logox01 at gmx.at)</li>
    <li>Sergey Batalin (sergey_batalin at mail.ru)</li>
    <li><a href="https://www.xmeter.net">XMeter</a></li>
    <li>Imane Ankhila (iankhila at ahlane.net)</li>
    <li>jffagot05 (jffagot05 at gmail.com)</li>
    <li>Perze Ababa (perze.ababa at gmail.com)</li>
    <li>Martha Laks (laks.martha at gmail.com)</li>
    <li>Logan Mauzaize (t524467 at airfrance.fr)</li>
    <li>belugabehr (dam6923 at gmail.com)</li>
    <li>Giancarlo Romeo (giancarloromeo at gmail.com)</li>
    <li>helppass (onegaicimasu at hotmail.com)</li>
    <li>blue414 (blue414 at 163.com)</li>
    <li>Aaron Levin</li>
    <li>Allen (444104595 at qq.com)</li>
    <li>Felipe Cuozzo (felipe.cuozzo at gmail.com)</li>
    <li>bangnab (ambrosetti.nicola at gmail.com)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter.</p>
<p>
Apologies if we have omitted anyone else.
</p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>View Results Tree may freeze rendering large response particularly if this response has no spaces, see <bugzilla>60816</bugzilla>.
This is due to an identified Java Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8172336">UI stuck when calling <code>JEditorPane.setText()</code> or <code>JTextArea.setText()</code> with long text without space</a>.
</li>
</ul>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 4.0 =================== -->

<h1>Version 4.0</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<!-- <ch_category>Sample category</ch_category> -->
<!-- <ch_title>Sample title</ch_title> -->
<!-- <figure width="846" height="613" image="changes/3.0/view_results_tree_search_feature.png"></figure> -->
<ch_title>Core improvements</ch_title>
<p>JMeter now supports JAVA 9.</p>
<p>New <a href="usermanual/component_reference.html#Boundary_Extractor"><code>Boundary Extractor</code></a> element available which provides easy extraction with better performances
<figure width="1078" height="315" image="changes/4.0/boundary_extractor.png"></figure>
</p>
<p>New <a href="usermanual/component_reference.html#JSON_Assertion"><code>JSON Assertion</code></a> element available to assert on JSON responses.
<figure width="1095" height="307" image="changes/4.0/json_assertion.png"></figure></p>
<p>New <a href="usermanual/component_reference.html#Precise_Throughput_Timer"><code>Precise Throughput Timer</code></a> element available which produces Poisson arrivals with given constant throughput.
<figure width="1080" height="381" image="changes/4.0/precise_throughput_timer.png"></figure></p>
<p>JMS Point-to-Point sampler has been enhanced with <code>read</code>, <code>browse</code>, <code>clear</code> options.
<figure width="1080" height="489" image="changes/4.0/jmsptp_communication_styles.png"></figure></p>
<p>Best property values are now selected on many Test Elements to ensure best practices are the defaults:
    <ul>
        <li>Newly added <code>If Controller</code> now uses by default Expression which is the most performing option.
        <figure width="716" height="248" image="changes/4.0/if_controller_condition.png"></figure>
        <figure width="717" height="251" image="changes/4.0/if_controller_expression.png"></figure></li>
        <li>Newly added JSR223 Test Element now cache compiled script by default if language used provides this feature.
        <figure width="346" height="49" image="changes/4.0/jsr223_cache_compilation.png"></figure></li>
    </ul>
</p>
<p><a href="usermanual/component_reference.html#Loop_Controller"><code>Loop controller</code></a> and
 <a href="usermanual/component_reference.html#ForEach_Controller"><code>ForEach Controller</code></a>
 now expose their current iteration as a variable named <code>__jm__&lt;Name of your element&gt;__idx</code> that
 you can use like this for example for a Loop Controller named <code>MyLoopController</code>:
 <source>${__jm__MyLoopController__idx}</source>.
 See <bugzilla>61802</bugzilla></p>
<p>Cookies are now shown in View Results Tree during recording. They were previously always shown as empty.</p>
<p><a href="usermanual/component_reference.html#Response_Assertion"><code>Response Assertion</code></a> now allows you to customize assertion message and assert on Request Data.
<figure width="909" height="617" image="changes/4.0/response_assertion_enhancements.png"></figure></p>
<ch_title>UX improvements</ch_title>
<p>JMeter now uses <a href="https://github.com/bulenkov/Darcula">Darcula LAF</a> by default</p>
<p>Workbench has been dropped from UI, you can now use Non Test Elements as immediate children of Test Plan.
<figure width="282" height="144" image="changes/4.0/goodbye_workbench.png"></figure></p>
<p>Menu UX have been improved to make most used elements available more rapidly.
<figure width="711" height="322" image="changes/4.0/menu_organization.png"></figure></p>
<p>HTTP(S) Test Script Recorder now allows you to name your transactions while recording in a more human readable way.
<figure width="1011" height="502" image="changes/4.0/recorder_naming_samplers.png"></figure></p>
<p></p>
<p>UX improvements made on, among the most notable :</p>
<ul>
    <li>Module Controller informs user at least one Controller is required</li>
    <li>Function Helper Dialog (The wizard that helps using and testing functions) has been improved in many fields.
    <figure width="772" height="315" image="changes/4.0/function_helper_dialog_enhancements.png"></figure></li>
    <li>Switch Controller trims text to avoid issues when a space is introduced before/after name</li>
    <li>Test Plan is now saved before running the test plan</li>
</ul>

<ch_title>Functions</ch_title>
<p>New Function <a href="usermanual/functions.html#__digest"><code>__digest</code></a> provides easy computing of SHA-XXX, MDX hashes:
<source>${__digest(MD5,Apache JMeter 4.0 rocks !,,,)}</source> will return <code>0e16c3ce9b6c9971c69ad685fd875d2b</code></p>
<p>New Function <a href="usermanual/functions.html#__dateTimeConvert"><code>__dateTimeConvert</code></a> provides easy conversion between date formats:
<source>${__dateTimeConvert(01 Jan 2017,dd MMM yyyy,dd/MM/yyyy,)}</source> will return <code>01/01/2017</code></p>
<p>New Function <a href="usermanual/functions.html#__changeCase"><code>__changeCase</code></a> provides ability to switch to Upper / Lower / Capitalized cases
<source>${__changeCase(Avaro omnia desunt\, inopi pauca\, sapienti nihil,UPPER,)}</source> will return <code>AVARO OMNIA DESUNT, INOPI PAUCA, SAPIENTI NIHIL</code></p>
<p>New Functions <a href="usermanual/functions.html#__isVarDefined"><code>__isVarDefined</code></a>
and <a href="usermanual/functions.html#__isPropDefined"><code>__isPropDefined</code></a> provide testing of properties and variables availability
<source>${__isPropDefined(START.HMS)}</source> will return <code>true</code>
<source>${__isVarDefined(JMeterThread.last_sample_ok)}</source> will return <code>true</code>
</p>

<ch_title>Scripting and Plugin Development</ch_title>
<p>You can now call <code>SampleResult#setIgnore()</code> if you don't want your sampler to be visible in results</p>
<p><code>JavaSamplerContext</code> used by <code>AbstractJavaSamplerClient</code> has been enhanced with new methods to easy plugin development.</p>
<p>JMeter now distributes additional Maven sources and javadoc artifacts into <a href="https://repo1.maven.org/maven2/org/apache/jmeter/ApacheJMeter_core/4.0/">Maven repository</a></p>
<p>Plugins can now register listeners to be notified when a Test Plan is opened/closed</p>

<ch_title>Live Reporting and Web Report</ch_title>
<p>InfluxDB backend listener now allows you to add custom tags by adding them with prefix <code>TAG_</code>, see <bugzilla>61794</bugzilla></p>
<p>In Web Report responseTime distribution graph is more precise</p>
<p>Some bugfixes have been made on report generation, see <bugzilla>61900</bugzilla>, <bugzilla>61900</bugzilla>61956, <bugzilla>61899</bugzilla>.
Graphs <i>Latency Vs Request</i> and <i>Response Time Vs Request</i> did not exceed 1000 RPS due to <bugzilla>61962</bugzilla></p>

<ch_title>Configuration of JMeter environment</ch_title>
<p>JVM settings for the JMeter start scripts can be placed in a separate file (<code>bin/setenv.sh</code> on Unix
and <code>bin\setenv.bat</code> on Windows), that gets called on startup. The startup script
itself does not have to be edited anymore.</p>


<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
    <li><code>Start time</code> and <code>End date</code> of Thread Group have been removed, see <bugzilla>61549</bugzilla></li>
    <li>In distributed testing, mode <code>Hold</code> has been removed. Use alternative and more efficient modes</li>
    <li>For 3<sup>rd</sup> party plugins, the following method in <code>org.apache.jmeter.gui.tree.JMeterTreeNode</code> has been dropped for migration to Java 9 (<bugzilla>61529</bugzilla>)
    <source>public Enumeration&lt;JMeterTreeNode&gt; children()</source>
    </li>
    <li><code>tearDown Thread Group</code> will now run on stop and shutdown of a test by default. If you don't want this behaviour,
    uncheck <code>Run tearDown Thread Groups after shutdown of main threads</code> on <code>Test Plan</code> element, see <bugzilla>61656</bugzilla></li>
    <li>Properties <code>sampleresult.getbytes.headers_size</code> and <code>sampleresult.getbytes.body_real_size</code> have been dropped, see <bugzilla>61587</bugzilla></li>
    <li>JMeter will now save your test plan whenever you run it. This behaviour can be controlled by property <code>save_automatically_before_run</code>, see <bugzilla>61731</bugzilla></li>
    <li>Workbench element has been dropped, you now directly add <code>Non Test Element</code> as children of Test Plan. When loading a Test Plan that contains the element
    JMeter will move the <code>Mirror Server</code>, <code>Property Display</code> and HTTP(s) <code>Test Script Recorder</code> elements as direct children of Test Plan. For
    any other element, it will create a <code>Test Fragment</code> element called <code>Workbench Test Fragment and move the elements in it</code>.</li>
    <li>Following classes have been dropped (<code>org.apache.jmeter.functions.util.ArgumentEncoder</code>, <code>org.apache.jmeter.functions.util.ArgumentDecoder</code>), see <pr>335</pr></li>
    <li>In JMS Point-to-Point sampler, setting timeout to 0 will now mean infinite timeout while previously it would be switched to 2000 ms, see <bugzilla>61829</bugzilla></li>
    <li>When Assertions are at different scopes, they are executed starting with the most OUTER one to the most INNER one. See <bugzilla>61846</bugzilla></li>
    <li>JMeter now starts by default using English locale. This change is due to missing translations in many supported languages.
        You can change locale by modifying in jmeter and jmeter.bat (or preferably setenv.sh/setenv.bat) the <code>JVM_ARGS</code> system property values.
        We'd also be very grateful if you can contribute translations in supported languages.
    </li>
    <li>SwitchController now trims by default the content of switch to avoid issue related to unwanted spaces. See <bugzilla>61771</bugzilla></li>
    <li>JMeter JVM heap settings have changed from <code>-Xms512m -Xmx512m</code> to <code>-Xms1g -Xmx1g</code></li>
    <li>Beanshell version has been upgraded to bsh-2.0b6 which introduces breaking changes and more strict parsing rules</li>
</ul>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><pr>316</pr>Warn about empty truststore loading. Contributed by Vincent Herilier (https://github.com/vherilier)</li>
    <li><bug>61639</bug>HTTP(S) Test Script Recorder: In request filtering tab, uncheck by default "Notify Child Listeners of filtered samplers"</li>
    <li><bug>61672</bug>HTTP(S) Test Script Recorder: Have the ability to choose the sampler name while keeping the ability to just add a prefix</li>
    <li><bug>53957</bug>HTTP Request: In Parameters tab, allow pasting of content coming from Firefox and Chrome (unparsed)</li>
    <li><bug>61587</bug>Drop properties <code>sampleresult.getbytes.headers_size</code> and <code>sampleresult.getbytes.body_real_size</code></li>
    <li><bug>61843</bug>HTTP(S) Test Script Recorder: Add SAN to JMeter generated CA Certificate. Contributed by Matthew Buckett</li>
    <li><bug>61901</bug>Support for <code>https.cipherSuites</code> System property. Contributed by Jeremy Arnold (jeremy at arnoldzoo.org)</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>61544</bug>JMS Point-to-Point Sampler: Enhance communication styles with read, browse, clear. Based on a contribution by Benny van Wijngaarden (benny at smaragd-it.nl)</li>
    <li><bug>61829</bug>JMS Point-to-Point: If Receive Queue is empty and a timeout is set, it is not taken into account. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61739</bug>Java Request / JavaSamplerClient: Improve <code>org.apache.jmeter.protocol.java.sampler.JavaSamplerContext</code></li>
    <li><bug>61762</bug>Start Next Thread Loop should be used everywhere</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>61675</bug>If Controller: Use expression by default and add a warning when the other mode is used. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61770</bug>Module Controller: Inform user in UI that he needs to have at least one Controller in his plan. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61771</bug>SwitchController: Switch field should be trimmed by safety</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>57760</bug>View Results Tree: Cookie Header is wrongly shown as empty (no cookies) when viewing a recorder Sample Result. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61769</bug>View Results Tree: Use syntax highlighter in XPath Tester, JSON Path Tester and CSS/JQuery Tester. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61776</bug>View Results Tree: Expansion of <code>Add expand/collapse all</code> menu in render XML view. Contributed by Maxime Chassagneux and Graham Russell</li>
    <li><bug>61852</bug>View Results Tree: Add a Boundary Extractor Tester</li>
    <li><bug>61794</bug>Influxdb backend: Add as many custom tags as wanted by just create new lines and prefix theirs name by "<code>TAG_</code>" on the GUI backend listener</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>60213</bug>New component: Boundary based extractor</li>
    <li><bug>61845</bug>New Component JSON Assertion based on AtlanBH JSON Path Assertion donated to JMeter-Plugins and migrated into JMeter core by Artem Fedorov (artem at blazemeter.com)</li>
    <li><bug>61931</bug>New Component: Precise Throughput Timer, timer that produces Poisson arrivals with given constant throughput. Contributed by Vladimir Sitnikov (sitnikov.vladimir at gmail.com)</li>
    <li><bug>61644</bug>HTTP Cache Manager: "Use Cache-Control/Expires header when processing GET requests" should be checked by default</li>
    <li><bug>61645</bug>Response Assertion: Add ability to assert on Request Data</li>
    <li><bug>51140</bug>Response Assertion: add ability to set a specific error/failure message that is later shown in the Assertion Result. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61534</bug>Convert AssertionError to a failed assertion, allowing users to use assert in their code. Fixing a regression introduced in 3.2</li>
    <li><bug>61756</bug>Extractors: Improve label name "Reference name" to make it clear what it makes</li>
    <li><bug>61758</bug><code>Apply to:</code> field in Extractors, Assertions: When entering a value in <code>JMeter Variable Name</code>, the radio box <code>JMeter Variable Name</code> should be selected by default. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61846</bug>Scoped Assertion should follow same order of evaluation as Post Processors</li>

</ul>

<h3>Functions</h3>
<ul>
    <li><bug>61724</bug>Add <code>__digest</code> function to provide computing of Hashes (SHA-XXX, MDX). Based on a contribution by orimarko at gmail.com</li>
    <li><bug>61735</bug>Add <code>__dateTimeConvert</code> function to provide date formats conversions. Based on a contribution by orimarko at gmail.com</li>
    <li><bug>61760</bug>Add <code>__isPropDefined</code> and <code>__isVarDefined</code> functions to know if property or variable exist. Contributed by orimarko at gmail.com</li>
    <li><bug>61759</bug>Add <code>__changeCase</code> function to change different cases of a string. Based on a contribution by orimarko at gmail.com</li>
    <li><bug>61561</bug>Function helper dialog should display exception in result</li>
    <li><bug>61738</bug>Function Helper Dialog: Add Copy in Generate and clarify labels. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>62027</bug>Help: Introduce property <code>help.local</code> to allow choosing between local (offline) documentation and online documentation</li>
    <li><bug>61593</bug>Remove Detail, Add, Add from Clipboard, Delete buttons in Function Helper GUI</li>
</ul>

<h3>I18N</h3>
<ul>
    <li><bug>61606</bug>Translate button <code>Browse&hellip;</code> in some elements (which use FileEditor class)</li>
    <li><bug>61747</bug>HTTP(S) Test Script Recorder: add the missing doc to "Create transaction after request (ms)"</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>61871</bug>Reduce jmeter.reportgenerator.graph.responseTimeDistribution.property.set_granularity default value from 500ms to 100ms</li>
    <li><bug>61879</bug>Remove useless files in HTML report template</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>61591</bug>Drop Workbench from test tree. Implemented by Artem Fedorov (artem at blazemeter.com) and contributed by BlazeMeter Ltd.</li>
    <li><bug>61549</bug>Thread Group: Remove start and end date</li>
    <li><bug>61529</bug>Migration to Java 9. Partly contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61709</bug>SampleResult: Add a method <code>setIgnore()</code> to make JMeter ignore the SampleResult and not send it to listeners</li>
    <li><bug>61806</bug>Allow to use <code>SampleResult#setIgnore()</code> in post-processors and assertions script (JSR223 elements)</li>
    <li><bug>61607</bug>Add browse button in all BeanShell elements to select BeanShell script</li>
    <li><bug>61627</bug>Don't clear LogView anymore when clicking on Warning/Errors Indicator</li>
    <li><bug>61629</bug>Add Think Times to Children menu should not consider disabled elements</li>
    <li><bug>61655</bug>SampleSender: Drop HoldSampleSender implementation</li>
    <li><bug>61656</bug><code>tearDown Thread Group</code> should run by default at stop or shutdown of test</li>
    <li><bug>61659</bug><code>JMeterVariables#get()</code> should apply <code>toString()</code> on non string objects</li>
    <li><bug>61555</bug>Metaspace should be restricted as default</li>
    <li><bug>61693</bug>JMeter aware of Docker (<code>-XX:+UnlockExperimentalVMOptions</code> <code>-XX:+UseCGroupMemoryLimitForHeap</code>)</li>
    <li><bug>61694</bug>Add <code>-server</code> option in <code>jmeter.bat</code></li>
    <li><bug>61697</bug>Introduce Darcula Look And Feel to make JMeter UI more attractive</li>
    <li><bug>61704</bug>Toolbar: Improve a bit the right part</li>
    <li><bug>61731</bug>Enhance Test plan Backup with option to save before run. Based on a contribution by orimarko at gmail.com</li>
    <li><bug>61640</bug>JSR223 Test Elements: Enable by default caching. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61785</bug>Add <menuchoice><guimenuitem>Help</guimenuitem><guimenuitem>Useful links</guimenuitem></menuchoice> to create issues and download nightly build</li>
    <li><bug>61808</bug>Fix main frame position. Implemented by Artem Fedorov (artem at blazemeter.com) and contributed by BlazeMeter Ltd.</li>
    <li><bug>61802</bug>Loop / ForEach Controller should expose a variable for current iteration. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><pr>349</pr>Add i18n resources(zh_CN). Contributed by Helly Guo (https://github.com/hellyguo)</li>
    <li><pr>351</pr>Fixed about dialog position on first view. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>352</pr>Menu bar - added mnemonics to more menu items. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>353</pr>Re-wrote some existing tests in Spock. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>61919</bug>UX: Reorder Menus. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>61920</bug>Plugins: Add ability to listen to Test Plan loading/closing. Contributed by Peter Doornbosch (https://bitbucket.org/pjtr/)</li>
    <li><bug>61935</bug>Plugins: Let GUI component (dynamically) decide whether it can be added via the menu or not. Contributed by Peter Doornbosch (https://bitbucket.org/pjtr/)</li>
    <li><bug>61969</bug>When changing LAF through GUI, user should be informed that it is better to restart</li>
    <li><bug>61970</bug>JMeter now uses English as default locale to avoid missing translations in some locales make UI look weird</li>
    <li><bug>56368</bug>Create and Deploy source artifacts to Maven central</li>
    <li><bug>61973</bug>Create and Deploy javadoc artifacts to Maven central</li>
    <li><pr>371</pr>Fix example in documentation for <complink name="XPath Assertion"/>. Contributed by Konstantin Kalinin (kkalinin at hotmail.com)</li>
    <li><bug>62039</bug>Distributed testing: Provide ability to use SSL</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Updated to bsh-2.0b6 (from bsh-2.0b5)</li>
    <li>Updated to groovy-all-2.4.13 (from groovy-all-2.4.12)</li>
    <li>Updated to rhino-1.7.7.2 (from rhino-1.7.7.1)</li>
    <li>Updated to tika-core and tika-parsers 1.17 (from 1.16)</li>
    <li>Updated to commons-dbcp2-2.2.0 (from 2.1.1)</li>
    <li>Updated to caffeine 2.6.1 (from 2.5.5)</li>
    <li>Updated to commons-codec-1.11 (from 1.10)</li>
    <li>Updated to commons-io-2.6 (from 2.5)</li>
    <li>Updated to commons-lang3-3.7 (from 3.6)</li>
    <li>Updated to commons-pool2-2.5.0 (from 2.4.2)</li>
    <li>Updated to asm-6.0 (from 5.2)</li>
    <li>Updated to jsoup-1.11.2 (from 1.10.3)</li>
    <li>Updated to cglib-nodep-3.2.6 (from 3.2.5)</li>
    <li>Updated to ph-css 6.0.0 (from 5.0.4)</li>
    <li>Updated to ph-commons 9.0.0 (from 8.6.6)</li>
    <li>Updated to log4j2 2.10.0 (from 2.8.2)</li>
    <li>Updated to httpcore 4.4.9 (from 4.4.7)</li>
    <li>Updated to httpclient 4.5.5 (from 4.5.3)</li>
    <li>Updated to jodd 4.1.4 (from 3.8.6)</li>
    <li><bug>61642</bug>Improve FTP test coverage</li>
    <li><bug>61641</bug>Improve JMS test coverage</li>
    <li><bug>61651</bug>Improve TCP test coverage</li>
    <li><bug>61651</bug>Improve OS test coverage. Partly contributed by Aleksei Balan (abalanonline at gmail.com)</li>
    <li><pr>319</pr>Removed commented out code. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>322</pr>General JavaDoc cleanup. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>323</pr>Extracted method and used streams to improve readability. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>324</pr>Save backup refactor. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>327</pr>Utilising more modern Java, simplifying code and formatting code and comments. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>332</pr>Add the spock framework for groovy unit tests. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>334</pr>Enable running of JUnit tests from within IntelliJ with default config. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>335</pr>Removed <code>functions.util.*</code> as they don't seem to be used (for many years). Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>61867</bug><pr>345</pr>Updated to latest checkstyle (v8.5), Added many more rules to checkstyle, Included checking of test files and more file types. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><pr>350</pr>Parallelised unit tests. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>61966</bug>Setup Test Results Analyzer in jenkins</li>
    <li><pr>343</pr>Reduce the size of some images in the documentation. Contributed by Graham Russell (graham at ham1.co.uk)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>61569</bug>JMS Point-to-Point Test Plan: Synchronization issue when putting reply. Contributed by Igor Panainte (panainte.i at gmail.com)</li>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>61698</bug>Test Action: It stop is selected, samplers following Test Action can run</li>
    <li><bug>61707</bug>Test Action: Target is ignored when pause is selected, so it should be disabled</li>
    <li><bug>61827</bug>JMSPublisher: Don't add new line at the end of the file. Contributed by Graham Russell (graham at ham1.co.uk)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>61556</bug>Clarify in documentation performance impacts of <code>${}</code> var usage in IfController and groovy. Contributed by Justin McCartney (be_strew at yahoo.co.uk)</li>
    <li><bug>61713</bug>Test Fragment has option to Change Controller and Insert Parent. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61965</bug>Module and Include Controller should not allow to add meaningless elements in their context.</li>
    <li><bug>62062</bug>ThroughputController: StackOverFlowError triggered when throughput=0 (Total Executions or Percentage Executions) Partly implemented by Artem Fedorov (artem.fedorov at blazemeter.com) and contributed by BlazeMeter Ltd.</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>61742</bug>BackendListener: fix default value for <code>backend_graphite.send_interval</code></li>
    <li><bug>61878</bug>BackendListener: NPE if BackendListenerClient#getDefaultParameters returns null</li>
    <li><bug>61950</bug>View Results Tree: Content-Type <code>audio/mpegurl</code> is wrongly considered as binary</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>61716</bug>Header Manager: When pasting Headers from Firefox or Chrome spaces are introduced as first character of value</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>61588</bug>Better log message for <funclink name="__RandomDate()"/> function</li>
    <li><bug>61619</bug>In Function Helper Dialog, the 1<sup>st</sup> function doesn't display default parameters</li>
    <li><bug>61628</bug>If split string has empty separator default separator is not used</li>
    <li><bug>61752</bug><code>__RandomDate</code>: Function does not allow missing last parameter used for variable name</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>61807</bug>Web Report: fix error in <code>getTop5ErrorMetrics</code>. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>61900</bug>Report Generator: Report generation fails if separator is a regex reserved char like <code>|</code></li>
    <li><bug>61925</bug>CsvSampleReader does not increment row in nextSample(). Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>61956</bug>Report Generation: <code>-f</code> of <code>-forceDeleteResultFile</code> option does not work. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61899</bug>Report Generation: When <code>jmeter.save.saveservice.print_field_names</code> is false and <code>sample_variables</code> are set report generation fails. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61962</bug>Latency Vs Request and Response Time Vs Request graphs do not exceed 1000 RPS. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>61661</bug>Avoid startup/shutdown problems due to 3<sup>rd</sup> party Thread Listener plugins throwing RuntimeException</li>
    <li><bug>61625</bug>File Editor used in BeanInfo behaves strangely under all LAFs with impact on CSVDataSet, JSR223, BSF, Beanshell Element</li>
    <li><bug>61844</bug>Maven pom.xml: Libraries used in testing should have scope test</li>
    <li><bug>61842</bug>Saving with no changes causes a save and duplicate, identical backup file</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
    <li>Igor Panainte (panainte.i at gmail.com)</li>
    <li>Emilian Bold (emi at apache.org)</li>
    <li><a href="https://ubikloadpack.com">Ubik Load Pack</a></li>
    <li>Justin McCartney (be_strew at yahoo.co.uk)</li>
    <li>Vincent Herilier (https://github.com/vherilier)</li>
    <li>Aleksei Balan (abalanonline at gmail.com)</li>
    <li>Graham Russell (graham at ham1.co.uk)</li>
    <li>orimarko at gmail.com</li>
    <li>Artem Fedorov (artem at blazemeter.com)</li>
    <li><a href="https://www.blazemeter.com">BlazeMeter Ltd</a></li>
    <li>Benny van Wijngaarden (benny at smaragd-it.nl)</li>
    <li>Matthew Buckett (https://github.com/buckett)</li>
    <li>Helly Guo (https://github.com/hellyguo)</li>
    <li>Peter Doornbosch (https://bitbucket.org/pjtr/)</li>
    <li>Jeremy Arnold (jeremy at arnoldzoo.org)</li>
    <li>Vladimir Sitnikov (sitnikov.vladimir at gmail.com)</li>
    <li>Konstantin Kalinin (kkalinin at hotmail.com)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:</p>
<ul>
    <li>user7294900 on Stackoverflow (orimarko at gmail.com)</li>
</ul>
<p>
Apologies if we have omitted anyone else.
 </p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>View Results Tree may freeze rendering large response particularly if this response has no spaces, see <bugzilla>60816</bugzilla>.
This is due to an identified Java Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8172336">UI stuck when calling <code>JEditorPane.setText()</code> or <code>JTextArea.setText()</code> with long text without space</a>.
</li>
</ul>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 3.3 =================== -->

<h1>Version 3.3</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>
<note>JMeter does not yet support JAVA 9, next JMeter version will support it, you can help and follow progress on this item in <bugzilla>61529</bugzilla>.</note>
<note>Using last minor version of JAVA 8 is advised to avoid facing any JDK bug.</note>
<!-- <ch_category>Sample category</ch_category> -->
<!-- <ch_title>Sample title</ch_title> -->
<!-- <figure width="846" height="613" image="changes/3.0/view_results_tree_search_feature.png"></figure> -->
<ch_title>Core improvements</ch_title>
<p>HTTP Sampler now supports Brotli decompression.</p>
<p>CacheManager now completely supports Vary header.</p>
<p>InfluxDB BackendListener now supports sending results to InfluxDB through UDP protocol.
<figure width="825" height="328" image="changes/3.3/influxdb_udp.png"></figure>
It has also been enhanced to send number of errors by response code and message for each transaction</p>
<p>TCP Sampler now computes latency, see <bugzilla>60156</bugzilla></p>
<p>Upgraded dependencies to last available versions bringing performance improvements and bug fixes</p>
<p>Continued to improve the quality of our code and tests coverage. See <a href="https://builds.apache.org/analysis/overview?id=12927" >Quality report</a></p>
<ch_title>UX improvements</ch_title>
<p>More work has been done to better support HiDPI.</p>
<p>Some bugs, that crept in with the work on lowering the memory usage of View Results Tree, were fixed.</p>
<p>The constant <code>DEFAULT_IMPLEMENTATION</code> was removed from CookieManager,
as it lost it purpose with the removal of the alternate HTTP Client implementation in the last release</p>
<p>JDBC Sampler UX has been improved by adding select boxes for drivers and validation queries.
<figure width="821" height="543" image="changes/3.3/jdbc_config_validation_driver_url.png"></figure>
<figure width="820" height="451" image="changes/3.3/jdbc_config_validation_query.png"></figure>
</p>
<p>If Controller and While Controller UX have been improved
<figure width="821" height="348" image="changes/3.3/jmeter_if_controller.png"></figure>
</p>
<ch_title>Report/Dashboard improvements</ch_title>
A new Help menu item has been added to simplify configuration of report generation.
<figure width="491" height="455" image="changes/3.3/jmeter_export_transactions_menu.png"></figure>
<figure width="609" height="188" image="changes/3.3/jmeter_export_transactions_result.png"></figure>
<ch_title>Documentation improvements</ch_title>
Incorporated feedback about unclear documentation.

<ch_title>Functions</ch_title>
<p>Function Helper Dialog: a new field that shows execution result has been added.
<figure width="693" height="344" image="changes/3.3/jmeter_function_result.png"></figure>
</p>
<p>New functions:</p>
<ul>
<li><code><funclink name="__timeShift"/></code> - return a date in various formats with the specified amount of seconds/minutes/hours/days added.
<figure width="757" height="376" image="changes/3.3/jmeter_function_add_time.png"></figure>
</li>
<li><code><funclink name="__RandomDate"/></code> - generate random date within a specific date range.
<figure width="700" height="369" image="changes/3.3/jmeter_function_random_date.png"></figure>
</li>
</ul>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>
<ul>
<li>In InfluxDbBackendListenerClient, <code>statut</code> property has been renamed to <code>status</code></li>
<li>In CookieManager, <code>DEFAULT_POLICY</code> and <code>DEFAULT_IMPLEMENTATION</code> constants are now private.
<note>If you're using <code>ignorecookies</code> with HC3CookieHandler (&lt; JMeter 3.1)  configuration will be reset, ensure you put it back.</note></li>
<li>JMeter will not truncate anymore by default responses exceeding 10 MB. If you want to enable this truncation, see property <code>httpsampler.max_bytes_to_store_per_request</code></li>
<li><code>org.apache.jmeter.protocol.tcp.sampler.TCPClient.read(InputStream)</code> has been deprecated in favor or org.apache.jmeter.protocol.tcp.sampler.TCPClient.read(InputStream, SampleResult),
ensure you update your implementation to be able to compute latency, see <bugzilla>60156</bugzilla></li>
</ul>
<h3>Removed elements or functions</h3>
<ul>
    <li><code>_StringFromFile</code> function has been dropped, use <code><funclink name="__StringFromFile"/></code> instead</li>
</ul>

<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>61056</bug>HTTP : Support brotli decoding</li>
    <li><bug>61135</bug>CookieManager : Drop Implementation select box and cleanup class</li>
    <li><bug>61492</bug>HTTP(S) Test Script Recorder : Add the possibility to change the value of proxy.pause in the GUI</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>61320</bug>Test Action : Set duration to <code>0</code> by default</li>
    <li><bug>61504</bug>JDBC Connection Configuration : Set Max Number of Connections to <code>0</code> by default</li>
    <li><bug>61505</bug>JDBC Connection Configuration : Set "Validation Query" to <code>empty</code> by default to use <code>isValid</code> method of JDBC driver</li>
    <li><bug>61506</bug>JDBC Connection Configuration : Add a list for main databases validation queries for "Validation Query" attribute</li>
    <li><bug>61507</bug>JDBC Connection Configuration : Add a list for main databases JDBC driver class name for "JDBC Driver class" attribute</li>
    <li><bug>61525</bug>OS Process Sampler : Add browser button to Command and Working directory fields</li>
    <li><bug>60156</bug>TCPSampler : Latency is not measured for TCP Sampler. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61039</bug>CSV data set config : Add browser button to Filename field</li>
    <li><bug>61527</bug>CSV data set config : Add a list for main file encoding values for File encoding attribute</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>61131</bug>IfController and WhileController : Improve UX</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>61167</bug>InfluxdbBackendListener : add number of errors by response code and message for each transaction</li>
    <li><bug>61068</bug>Introduce property <code>resultcollector.action_if_file_exists</code> to control the popup "File already exists" when starting a test</li>
    <li><bug>61457</bug>InfluxDB backend listener client : Support sending result to InfluxDB through UDP protocol. Partly based on <pr>302</pr> by Junlong Wu (github id mybreeze77)</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>61176</bug><pr>298</pr> Cache responses that have <code>vary</code> header in the <code>CacheManager</code>.</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>61040</bug>Add a time shifting function</li>
    <li><bug>61126</bug>Function Helper Dialog : Add a field that shows execution result</li>
    <li><bug>61508</bug>Add a random date within a specific date range function</li>
</ul>

<h3>I18N</h3>
<ul>
    <li><bug>61509</bug>Better label/translation/documentation for labels start and max for Counter element</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>61481</bug>Help Menu Item to export transaction for Web report</li>
</ul>

<h3>General</h3>
<ul>
    <li>When looking for classes in <code>ActionRouter</code>, fall back to location of the jar,
       where <code>ActionRouter</code> is loaded from. Provided by Emilian Bold (emi at apache.org)</li>
    <li><bug>61510</bug>Set 'Max Number of Connections' to <code>0</code> into 'JDBC Connection Configuration' for the 'JDBC Load Test template'</li>
    <li><bug>61399</bug>Make some bin and extras scripts Shellcheck compatible. Contributed by Wolfgang Wagner (internetwolf2000 at hotmail.com)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Updated to groovy 2.4.12 (from 2.4.10)</li>
    <li>Updated to caffeine 2.5.5 (from 2.4.0)</li>
    <li>Updated to commons-jexl3 3.1 (from 3.0)</li>
    <li>Updated to ph-css 5.0.4 (from 5.0.3)</li>
    <li>Updated to ph-commons 8.6.6 (from 8.6.0)</li>
    <li>Updated to log4j2 2.8.2 (from 2.8.1)</li>
    <li>Updated to xmlgraphics-commons 2.2 (from 2.1)</li>
    <li>Updated to jodd 3.8.6 (from 3.8.1)</li>
    <li>Updated to xstream 1.4.10 (from 1.4.9)</li>
    <li>Updated to Apache Tika 1.16 (from 1.14)</li>
    <li>Updated to jsoup-1.10.3 (from 1.10.2)</li>
    <li>Updated to commons-lang3 3.6 (from 3.5)</li>
    <li>Updated to json-path 2.4.0 (from 2.2.0)</li>
    <li>Updated to httpcore 4.4.7 (from 4.4.6)</li>
    <li><bug>61438</bug>Change the cryptographic signature of packages from sha-1 to sha-512</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
  <li><bug>61384</bug>Don't set the charset on enclosing <code>multipart/form-data</code> header. It irritates some servers.<br/>
     The charset was added sometime back while refactoring to use a newer API of http client.
     See <bug>56141</bug> for more info.</li>
  <li><bug>61456</bug><code>java.lang.ArrayIndexOutOfBoundsException</code> when recording with JMeter and weird Basic Auth Authorization header</li>
  <li><bug>61395</bug>Large server response truncation can impact recording</li>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>60889</bug>JMeter JDBC sample calls <code>SELECT USER()</code> when testing with MySQL JDBC due to <code>Connection#toString</code> call for response headers.</li>
    <li><bug>61259</bug>JDBC Request : since JMeter 3.0, when JDBC auto-commit is <code>false</code>, a rollback statement happens each time a Request is executed. Partly contributed by Liu XP (liu_xp2003 at sina.com)</li>
    <li><bug>61319</bug>Fix regression: SMTP Sampler could not send mails, when no attachments were specified.</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>61375</bug>Use system DNS resolver as last resort, when resolving entries in the static host table.</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>61005</bug>View Results Tree - Browser Response Data is not clearing</li>
    <li><bug>61121</bug>InfluxdbBackendListenerClient: Only all percentiles are sent, not <code>KO</code> and <code>OK</code></li>
    <li><bug>60961</bug>Try to keep status of selected and expanded elements in View Results Tree when new elements are added.</li>
    <li><bug>61198</bug>Backend Listener does not work properly in main script when included scripts also contain Backend Listener</li>
    <li><bug>61493</bug>Max/Min threads are interchanged in Graphite and InfluxDB backend listener</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>58743</bug><pr>293</pr> TableEditor can't be saved, when using two or more instances. Bugfix provided by Emilian Bold (emi at apache.org)</li>
    <li><bug>61314</bug>HTTP URL Re-writing Modifier doesn't replace existing <code>jsessionid</code> in http sampler, but adds it to the end</li>
    <li><bug>61336</bug>BeanShell Assertion : mistake in Chinese translation</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>61258</bug>StringFromFile function is mentioned twice in the Function helper dialog</li>
    <li><bug>61260</bug><code><funclink name="__XPath"/></code> function returns null despite XPath checker founds matches</li>
    <li><bug>58876</bug>TestPlanName function returns <code>null</code> for a newly saved Test Plan and uses previously opened one for a new one</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>61129</bug>Report/Dashboard : If response code is empty but a <code>failureMessage</code> is present, Errors and Top 5 Errors are not accurate. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>61151</bug>Report/Dashboard : Top 5 Errors by Sampler and Errors : If assertion contains html code, the html part is hidden</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>60743</bug>Stopping / Shutting down Test might create a deadlock due to HTTPCORE-446, fixed by HttpCore upgrade to 4.4.7</li>
    <li><bug>60994</bug>Fix some typo in comments or log messages. <pr>289</pr> and <pr>290</pr></li>
    <li><bug>61011</bug>Replace occurrences count is not correct (Path and Host replacement are counted twice)</li>
    <li><bug>61026</bug>Cannot run program "keytool": CreateProcess error=2 when starting JMeter 3.2 in GUI mode</li>
    <li><bug>61054</bug>Endless loop in <code>JOrphanUtils#replaceAllWithRegex</code> when regex is contained in replacement</li>
    <li><bug>60995</bug>HTTP Test Script Recorder: Port field is very small under some L&amp;F</li>
    <li><bug>61073</bug>HTTP(S) Test Script Recorder panel have some fields with bad size on HiDPI screen or GTK+ L&amp;F on Linux/XWayland</li>
    <li><bug>57958</bug>Fix transaction sample not generated if thread stops/restarts. Implemented by Artem Fedorov (artem at blazemeter.com) and contributed by BlazeMeter Ltd.</li>
    <li><bug>61050</bug>Handle uninitialized RessourceBundle more gracefully, when calling <code>JMeterUtils#getResString</code>.</li>
    <li><bug>61100</bug>Invalid GC Log Filename on Windows</li>
    <li><bug>57962</bug>Allow to use variables (from User Defined Variables only) in all listeners in worker node mode</li>
    <li><bug>61270</bug>Fixed width fonts too small in text areas to read under HiDPI (user manual bug)</li>
    <li><bug>61292</bug>Make processing of samples in reporter more robust.</li>
    <li><bug>61359</bug>When cutting an element from Tree, Test plan is not marked as dirty</li>
    <li><bug>61380</bug>JMeter shutdown using timers releases thundering herd of interrupted samplers</li>
    <li><bug>57055</bug>CheckDirty.doAction should clear previousGuiItems for <code>SUB_TREE_SAVED</code></li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
<li>Anass Benomar (abenomar at umanis.com, Mithrandir0407 at github)</li>
<li>Anthony Kearns (anthony.kearns atrightside.co)</li>
<li>Emilian Bold (emi at apache.org)</li>
<li>Liu XP (liu_xp2003 at sina.com)</li>
<li><a href="http://ubikloadpack.com">Ubik Load Pack</a></li>
<li>Wolfgang Wagner (internetwolf2000 at hotmail.com)</li>
<li>Junlong Wu (github id mybreeze77)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:</p>
<ul>
<li>Liu XP (liu_xp2003 at sina.com)</li>
<li>Alexander Podelko (apodelko at yahoo.com)</li>
</ul>
<p>
Apologies if we have omitted anyone else.
 </p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>View Results Tree may freeze rendering large response particularly if this response has no spaces, see <bugzilla>60816</bugzilla>.
This is due to an identified Java Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8172336">UI stuck when calling <code>JEditorPane.setText()</code> or <code>JTextArea.setText()</code> with long text without space</a>.
</li>
</ul>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like <code>md2WithRSAEncryption</code>) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with Java 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 3.2 =================== -->

<h1>Version 3.2</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<!-- <ch_category>Sample category</ch_category> -->
<!-- <ch_title>Sample title</ch_title> -->
<!-- <figure width="846" height="613" image="changes/3.0/view_results_tree_search_feature.png"></figure> -->

<ch_section>IMPORTANT CHANGES</ch_section>
<p>
JMeter now requires Java 8. Ensure you use the most up to date version.
</p>
<p>
JMeter logging has been migrated to SLF4J and Log4j 2.
This affects configuration and 3<sup>rd</sup> party plugins, see below <b>"Logging changes"</b>.
</p>
<p>
Starting with JMeter version 3.2 the number of results in View Results Tree is
limited by default to 500 entries. If you want more entries, you have to set
the property <code>view.results.tree.max_results</code> to a higher value, or to <code>0</code>, if
you don't want to impose any limit.
You can set the property in bin/user.properties.
More info might be found <a href="usermanual/component_reference.html#View_Results_Tree">here</a>.
</p>
<ch_title>Core improvements</ch_title>
<ul>
<li>JMeter now provides a new BackendListener implementation that interfaces InfluxDB.
<figure width="813" height="407" image="changes/3.2/backend_influxdb.png"></figure>
This implementation sends data using Asynchronous HTTP calls to InfluxDB through its <a href="https://docs.influxdata.com/influxdb/v1.2/guides/writing_data/">HTTP API</a>
and give you the following graphs with annotations:
<figure width="934" height="399" image="backend_listener_influxdb_graph.png"></figure>
</li>
<li>DNS Cache Manager now has a table to allow static host resolution.
<figure width="803" height="561" image="changes/3.2/dns_cache_manager_static_hosts.png"></figure>
</li>
<li>JMS Publisher and Subscriber now allow reconnection on error with pause.
<figure width="852" height="738" image="changes/3.2/jms_publisher_reconnect.png"></figure>
<figure width="716" height="538" image="changes/3.2/jms_subscriber_reconnect_pause.png"></figure>
</li>
<li>Variables in JMS Publisher are now supported for all types of messages. Add the encoding type of the file to parse its content</li>
<figure width="750" height="743" image="changes/3.2/jms_subscriber_content_encoding.png"></figure>
<li>XPath Extractor now allows extraction randomly, by index or for all matches.
<figure width="823" height="348" image="changes/3.2/xpath_extractor_matchno.png"></figure>
</li>
<li>Response Assertion now allows to work on Request Header, provides a "OR" combination and has a better cell renderer
<figure width="1053" height="329" image="changes/3.2/response_assertion.png"></figure>
</li>
<li>JMeter now uses Oracle Nashorn Javascript engine instead of Rhino. This provides a faster execution of Javascript.</li>
<li>HTTP HC4 Implementation now provides preemptive Basic Auth enabled by default</li>
<li>Embedded resources download in CSS has been improved to avoid useless repetitive parsing to find the resources</li>
<li>An important work on code quality and code coverage with tests has been done since Sonar has been setup on the project.
You can see Sonar report <a href="https://builds.apache.org/analysis/overview?id=12927" >here</a>.
</li>
</ul>

<ch_title>UX improvements</ch_title>
<ul>
<li>When running a Test, GUI is now more responsive and less impacting on memory usage thanks to a limitation on the number of Sample Results
listeners hold and a rework of the way GUI is updated</li>
<li>HTTP Request GUI has been simplified and provides more place for parameters and body.
<figure width="848" height="475" image="changes/3.2/http_request.png"></figure>
</li>
<li>HTTP(S) Test Script Recorder has been simplified and clarified.
<figure width="1023" height="494" image="changes/3.2/http_recorder_1.png"></figure>
<figure width="1021" height="711" image="changes/3.2/http_recorder_2.png"></figure>
</li>
<li>A <code>replace</code> feature has been added to Search feature to allow replacement in some elements.
<figure width="459" height="196" image="changes/3.2/search_replace.png"></figure>
<note>
ReplaceAll does not do replacement on all elements, it does it on:<br/>
- HeaderManager: Replacement in values <br/>
- Http Request: Replacement in Arguments, Path and Host<br/>
</note>
</li>
<li>View Results Tree now provides a more up to date Browser renderer which requires JavaFX.</li>
<li>You can now add through a contextual menu think times, this will add think times between samplers and Transaction Controllers
 of selected node.
 <figure width="326" height="430" image="changes/3.2/menu_add_think_times.png"></figure>
 </li>
<li>You can now apply a naming policy to children of a Transaction Controller. A default policy exists but you can implement your own
    through <code><a href="./api/org/apache/jmeter/gui/action/TreeNodeNamingPolicy.html" >org.apache.jmeter.gui.action.TreeNodeNamingPolicy</a></code>
    and configuring property <code>naming_policy.impl</code>
<figure width="327" height="518" image="changes/3.2/menu_apply_naming_policy.png"></figure>
</li>
<li>Sorting per column has been added to View Results in Table, Summary Report, Aggregate Report and Aggregate Graph elements.
<figure width="1065" height="369" image="changes/3.2/sorting.png"></figure>
</li>
</ul>

<ch_title>Report/Dashboard improvements</ch_title>
<ul>
<li>
Statistics have been reorganized to clarify report:
<figure width="1548" height="366" image="dashboard/report_statistics.png"></figure>
</li>
<li>
It is now possible to customize APDEX thresholds per transaction based on regular expression or sample name.
The below example will apply different thresholds for samples sample(\\d+), sampleA and scenarioB
than default ones (500 and 1500 for satisfied and tolerated thresholds) declared:
<source>
jmeter.reportgenerator.apdex_satisfied_threshold=500
jmeter.reportgenerator.apdex_tolerated_threshold=1500
jmeter.reportgenerator.apdex_per_transaction=sample(\\d+):1000|2000;\
    sampleA:3000|4000;\
    scenarioB:5000|6000
</source>
</li>
</ul>

<ch_title>Documentation improvements</ch_title>
<ul>
<li>PDF Documentations have been migrated and updated to HTML user manual</li>
</ul>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>

<ul>
    <li>JMeter requires now at least a Java 8 version to run.</li>
    <li>JMeter logging has been migrated to SLF4J and Log4j 2, this involves changes in the way configuration is done. JMeter now relies on standard
    <a href="https://logging.apache.org/log4j/2.x/manual/configuration.html">Log4j 2 configuration</a> in file <code>log4j2.xml</code>
    See <code>Logging changes</code> section below for further details.
    </li>
    <li>The following jars have been removed after migration from LogKit to SLF4J (see <bugzilla>60589</bugzilla>):
        <ul>
            <li>ApacheJMeter_slf4j_logkit.jar</li>
            <li>avalon-framework-4.1.4.jar</li>
            <li>commons-logging-1.2.jar</li>
            <li>excalibur-logger-1.1.jar</li>
            <li>logkit-2.0.jar</li>
        </ul>
    </li>
    <li>The <code>commons-httpclient-3.1.jar</code> has been removed after drop of HC3.1 support(see <bugzilla>60727</bugzilla>)</li>
    <li>JMeter now sets through <code>-Djava.security.egd=file:/dev/urandom</code> the algorithm for secure random</li>
    <li>Process Sampler now returns error code 500 when an error occurs. It previously returned an empty value.</li>
    <li>In <code>org.apache.jmeter.protocol.http.sampler.HTTPHCAbstractImpl</code> two protected static fields (<code>localhost</code> and <code>nonProxyHostSuffixSize</code>) have been renamed to (<code>LOCALHOST</code> and <code>NON_PROXY_HOST_SUFFIX_SIZE</code>)
        to follow static fields naming convention</li>
    <li>JMeter now uses by default Oracle Nashorn engine instead of Mozilla Rhino for better performances. This should not have an impact unless
    you use some advanced features. You can revert back to Rhino by settings property <code>javascript.use_rhino=true</code>.
    You can read this <a href="https://wiki.openjdk.java.net/display/Nashorn/Rhino+Migration+Guide">migration guide</a> for more details on Nashorn. See <bugzilla>60672</bugzilla></li>
    <li><bug>60729</bug>The Random Variable Config Element now allows minimum==maximum. Previous versions logged an error when minimum==maximum and did not set the configured variable.</li>
    <li><bug>60730</bug>The JSON PostProcessor now sets the <code>_ALL</code> variable (assuming <code>Compute concatenation var</code> was checked)
    even if the JSON path matches only once. Previous versions did not set the <code>_ALL</code> variable in this case.</li>
</ul>

<h3>Removed elements or functions</h3>
<ul>
    <li>SOAP/XML-RPC Request has been removed as part of <bugzilla>60727</bugzilla>. Use HTTP Request element as a replacement.
    See <a href="./usermanual/build-ws-test-plan.html">Building a WebService Test Plan</a></li>
    <li><bug>60423</bug>Drop Monitor Results listener </li>
    <li>Drop deprecated class <code>org.apache.jmeter.protocol.system.NativeCommand</code></li>
    <li>Drop deprecated class <code>org.apache.jmeter.protocol.http.config.gui.MultipartUrlConfigGui</code></li>
    <li>Drop deprecated class <code>org.apache.jmeter.testelement.TestListener</code></li>
    <li>Drop deprecated class <code>org.apache.jmeter.reporters.FileReporter</code></li>
    <li>Drop deprecated class <code>org.apache.jmeter.protocol.http.modifier.UserSequence</code></li>
    <li>Drop deprecated class <code>org.apache.jmeter.protocol.http.parser.HTMLParseError</code></li>
    <li>Drop unused methods <code>org.apache.jmeter.protocol.http.control.HeaderManager#getSOAPHeader</code>
    and <code>org.apache.jmeter.protocol.http.control.HeaderManager#setSOAPHeader(Object)</code>
    </li>
    <li><code>org.apache.jmeter.protocol.http.util.Base64Encode</code> has been deprecated, you can use <code>java.util.Base64</code> as a replacement</li>
</ul>

<h3>Logging changes</h3>
<p>
    JMeter logging has been migrated to SLF4J and Log4j 2.
    This affects logging configuration and 3<sup>rd</sup> party plugins (if they use JMeter logging).
    The following sections describe what changes need to be made.
</p>

<h4>Setting the logging level and log file</h4>
<p>
    The default logging level can be changed on the command-line using the <code>-L</code> parameter.
    Likewise the <code>-l</code> parameter can be used to change the name of the log file.
    However the <code>log_level</code> properties no longer work.
</p>
<p>
    The default logging levels and file name are defined in the <code>log4j2.xml</code> configuration file
    in the launch directory (usually <code>JMETER_HOME/bin</code>)
</p>
<p>
    <note>If you need to change the level programmatically from Groovy code or Beanshell, you need to do the following:
    <source>
    import org.apache.logging.log4j.core.config.Configurator;
    &vellip;
    final String loggerName = te.getClass().getName(); // te being a JMeter class
    Configurator.setAllLevels(loggerName, Level.DEBUG);
    </source>
    </note>
</p>

<h4>Changes to 3<sup>rd</sup> party plugin logging</h4>
<p>
    <note>3rd party plugins should migrate their logging code from logkit to slf4j. This is fairly easy and can be done by replacing:
    <source>
        import org.apache.jorphan.logging.LoggingManager;
        import org.apache.log.Logger;
        &vellip;
        private static final Logger log = LoggingManager.getLoggerForClass();
    </source>
    By:
    <source>
        import org.slf4j.Logger;
        import org.slf4j.LoggerFactory;
        &vellip;
        private static final Logger log = LoggerFactory.getLogger(YourClassName.class);
    </source>
    </note>
</p>
<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>59934</bug>Fix race-conditions in CssParser. Based on a patch by Jerome Loisel (loisel.jerome at gmail.com)</li>
    <li><bug>60543</bug>HTTP Request / Http Request Defaults UX: Move to advanced panel Timeouts, Implementation, Proxy. Implemented by Philippe Mouawad (p.mouawad at ubik-ingenierie.com) and contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60548</bug>HTTP Request : Allow Upper Panel to be collapsed</li>
    <li><bug>57242</bug>HTTP Authorization is not pre-emptively set with HttpClient4</li>
    <li><bug>60727</bug>Drop commons-httpclient-3.1 and related elements. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60790</bug>HTTP(S) Test Script Recorder : Improve information on certificate expiration and have better UX for Start/Stop</li>
    <li><bug>60888</bug>HttpRequest : Add option to allow retrial of all requests including NON Idempotent HTTP methods</li>
    <li><bug>60896</bug>HTTP(S) Test Script Recorder : Improve UX by reducing number of properties on screen</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>60740</bug>Support variable for all JMS messages (bytes, object, &hellip;) and sources (file, folder), based on <pr>241</pr>. Contributed by Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>60585</bug>JMS Publisher and JMS Subscriber : Allow reconnection on error and pause between errors. Based on <pr>240</pr> from by Logan Mauzaize (logan.mauzaize at gmail.com) and Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><pr>259</pr> - Refactored and reformatted SmtpSampler. Contributed by Graham Russell (graham at ham1.co.uk)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>60672</bug>JavaScript function / IfController : use Nashorn engine by default</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>60144</bug>View Results Tree : Add a more up to date Browser Renderer to replace old Render</li>
    <li><bug>60542</bug>View Results Tree : Allow Upper Panel to be collapsed. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>52962</bug>Allow sorting by columns for View Results in Table, Summary Report, Aggregate Report and Aggregate Graph. Based on a <pr>245</pr> by Logan Mauzaize (logan.mauzaize at gmail.com) and Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>60590</bug>BackendListener : Add Influxdb BackendListenerClient implementation to JMeter. Partly based on <pr>246</pr> by Logan Mauzaize (logan.mauzaize at gmail.com) and Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>60591</bug>BackendListener : Add a time boxed sampling. Based on a <pr>237</pr> by Logan Mauzaize (logan.mauzaize at gmail.com) and Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>60678</bug>View Results Tree : Text renderer, search should not popup "Text Not Found"</li>
    <li><bug>60691</bug>View Results Tree : In Renderers (XPath, JSON Path Tester, RegExp Tester and CSS/JQuery Tester) lower panel is sometimes not visible as upper panel is too big and cannot be resized</li>
    <li><bug>60687</bug>Make GUI more responsive when it gets a lot of events.</li>
    <li><bug>60791</bug>View Results Tree: Trigger search on Enter key in Search Feature and display red background if no match</li>
    <li><bug>60822</bug>ResultCollector does not ensure unique file name entries in files HashMap</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>60154</bug>User Parameters GUI: allow rows to be moved up &amp; down in the list. Contributed by Murdecai777 (https://github.com/Murdecai777).</li>
    <li><bug>60507</bug>Added '<code>Or</code>' Function into ResponseAssertion. Based on a contribution from 忻隆 (298015902 at qq.com)</li>
    <li><bug>58943</bug>Create a Better Think Time experience. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60602</bug>XPath Extractor : Add Match No. to allow extraction randomly, by index or all matches</li>
    <li><bug>60710</bug>XPath Extractor : When content on which assertion applies is not XML, in View Results Tree the extractor is marked in Red and named SAXParseException. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60712</bug>Response Assertion : Improve Renderer of Patterns</li>
    <li><bug>59174</bug>Add a table with static hosts to the DNS Cache Manager. This enables better virtual hosts testing with HttpClient4.</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>60883</bug><pr>288</pr> - Add <code>${__escapeXml()}</code> function. Contributed by Michael Osipov (michaelo at apache.org)</li>
</ul>

<h3>I18N</h3>
<ul>
    <li>Improve translation "<code>save_as</code>" in French. Based on a <pr>252</pr> by Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>60785</bug>Improvement of Japanese translation. Patch by Kimono (kimono.outfit.am at gmail.com).</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>60637</bug>Improve Statistics table design <figure image="dashboard/report_statistics.png" ></figure></li>
    <li><bug>60112</bug>Report / Dashboard : Add ability to customize APDEX thresholds per Transaction name. Contributed by Stephane Leplus (s.leplus at ubik-ingenierie.com)</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>58164</bug>Check if file already exists on ResultCollector listener before starting the loadtest</li>
    <li><bug>54525</bug>Search Feature : Enhance it with ability to replace</li>
    <li><bug>60530</bug>Add API to create JMeter threads while test is running. Based on a contribution by Logan Mauzaize (logan.mauzaize at gmail.com) and Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>60514</bug>Ability to apply a naming convention on Children of a Transaction Controller. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60711</bug>Improve Delete button behaviour for Assertions / Header Manager / User Parameters GUIs / Exclude, Include in HTTP(S) Test Script Recorder</li>
    <li><bug>60593</bug>Switch to G1 GC algorithm</li>
    <li><bug>60595</bug>Add a SplashScreen at the start of JMeter GUI. Contributed by Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>55258</bug>Drop "Close" icon from toolbar and add "New" to menu. Partly based on contribution from Sanduni Kanishka (https://github.com/SanduniKanishka)</li>
    <li><bug>59995</bug>Allow user to change font size with two new menu items and use <code>jmeter.hidpi.scale.factor</code> for scaling fonts. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60654</bug>Validation Feature : Be able to ignore BackendListener. Contributed by Maxime Chassagneux (maxime.chassagneux at gmail.com).</li>
    <li><bug>60646</bug>Workbench : Save it by default</li>
    <li><bug>60684</bug>Thread Group: Validate ended prematurely by Scheduler with 0 or very short duration. Contributed by Andrew Burton (andrewburtonatwh at gmail.com).</li>
    <li><bug>60589</bug>Migrate LogKit to SLF4J - Drop Avalon, LogKit and Excalibur with backward compatibility for 3<sup>rd</sup> party modules. Contributed by Woonsan Ko (woonsan at apache.org)</li>
    <li><bug>60565</bug>Migrate LogKit to SLF4J - Optimize logging statements. e.g, message format args, throwable args, unnecessary if-enabled-logging in simple ones, etc. Contributed by Woonsan Ko (woonsan at apache.org)</li>
    <li><bug>60564</bug>Migrate LogKit to SLF4J - Replace LogKit loggers with SLF4J ones and keep the current LogKit binding solution for backward compatibility with plugins. Contributed by Woonsan Ko (woonsan at apache.org)</li>
    <li><bug>60664</bug>Add a UI menu to set log level. Contributed by Woonsan Ko (woonsan at apache.org)</li>
    <li><pr>276</pr> - Added some translations for polish locale. Contributed by Bartosz Siewniak (barteksiewniak at gmail.com)</li>
    <li><bug>60792</bug>Create a new Help menu item to create a thread dump</li>
    <li><bug>60813</bug>JSR223 Test element : Take into account JMeterStopTestNowException, JMeterStopTestException and JMeterStopThreadException</li>
    <li><bug>60814</bug>Menu : Add <code>Open Recent</code> menu item to make recent files loading more obvious</li>
    <li><bug>60815</bug>Drop "Reset GUI" from menu</li>
    <li><bug>60886</bug>Build improvements to better enable builds in environments that are behind a proxy. Partly contributed by Michael Osipov (michaelo at apache.org)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li><bug>60415</bug>Drop support for Java 7.</li>
    <li>Updated to dnsjava-2.1.8.jar (from 2.1.7)</li>
    <li>Updated to groovy 2.4.10 (from 2.4.7)</li>
    <li>Updated to httpcore 4.4.6 (from 4.4.5)</li>
    <li>Updated to httpclient 4.5.3 (from 4.5.2)</li>
    <li>Updated to jodd 3.8.1 (from 3.7.1.jar)</li>
    <li>Updated to jsoup-1.10.2 (from 1.10.1)</li>
    <li>Updated to ph-css 5.0.3 (from 4.1.6)</li>
    <li>Updated to ph-commons 8.6.0 (from 6.2.4)</li>
    <li>Updated to slf4j-api 1.7.25 (from 1.7.21)</li>
    <li>Updated to asm 5.2 (from 5.1)</li>
    <li>Updated to rsyntaxtextarea-2.6.1 (from 2.6.0)</li>
    <li>Updated to commons-net-3.6 (from 3.5)</li>
    <li>Updated to json-smart-2.3 (from 2.2.1)</li>
    <li>Updated to accessors-smart-1.2 (from 1.1)</li>
    <li>Converted the old pdf tutorials to xml.</li>
    <li><pr>255</pr> - Utilised Java 8 (and 7) features to tidy up code. Contributed by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>59435</bug>JMeterTestCase no longer supports JUnit3</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>60531</bug>HTTP Cookie Manager : changing Implementation does not update Cookie Policy</li>
    <li><bug>60575</bug>HTTP GET Requests could have a content-type header without a body.</li>
    <li><bug>60682</bug>HTTP Request : Get method may fail on redirect due to Content-Length header being set</li>
    <li><bug>60643</bug>HTTP(S) Test Script Recorder doesn't correctly handle restart or start after stop. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60652</bug>HTTP PUT Requests might leak file descriptors.</li>
    <li><bug>60689</bug><code>httpclient4.validate_after_inactivity</code> has no impact leading to usage of potentially stale/closed connections</li>
    <li><bug>60690</bug>Default values for "httpclient4.validate_after_inactivity" and "httpclient4.time_to_live" which are equal to each other makes validation useless</li>
    <li><bug>60758</bug>HTTP(s) Test Script Recorder : Number request may generate duplicate numbers. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>56939</bug>Parameters are not passed with OPTIONS HTTP Request</li>
    <li><bug>60778</bug>Http Java Impl does not show Authorization header in SampleResult even if it is sent</li>
    <li><bug>60837</bug>GET with body, PUT are not retried even if <code>httpclient4.retrycount</code> is higher than 0</li>
    <li><bug>60842</bug>Trim extracted URLs when loading embedded resources using the Lagarto based HTML Parser.</li>
    <li><bug>60928</bug>Http Request : Connection Leak when keepalive is used with Embedded Resources</li>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>603982</bug>Guard Exception handler of the <code>JDBCSampler</code> against null messages</li>
    <li><bug>55652</bug>JavaSampler silently resets classname if class can not be found</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>60648</bug>GraphiteBackendListener can lose some metrics at end of test if test is very short</li>
    <li><bug>60650</bug>AbstractBackendListenerClient does not reset UserMetric between runs</li>
    <li><bug>60759</bug>View Results Tree : Search feature does not search in URL. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60859</bug>Save Responses to a file : 2 elements with different configuration will overlap</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>60438</bug><pr>235</pr> - Clear old variables before extracting new ones in JSON Extractor.
    Based on a patch by Qi Chen (qi.chensh at ele.me)</li>
    <li><bug>60607</bug>DNS Cache Manager configuration is ignored</li>
    <li><bug>60729</bug>The Random Variable Config Element should allow minimum==maximum</li>
    <li><bug>60730</bug>The JSON PostProcessor should set the <code>_ALL</code> variable even if the JSON path matches only once.</li>
    <li><bug>60747</bug>Response Assertion : Add Request Headers to <code>Field to Test</code></li>
    <li><bug>60763</bug>XMLAssertion should not leak errors to console</li>
    <li><bug>60797</bug>TestAction in pause mode can last beyond configured duration of test</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>60819</bug>Function __fileToString does not honor the documentation contract when file is not found</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>60726</bug>Report / Dashboard : Top 5 errors by samplers must not take into account the series filtering</li>
    <li><bug>60919</bug>Report / Dashboard : Latency Vs Request and Response Time Vs Request are wrong if granularity is different from 1000 (1 second)</li>
</ul>

<h3>General</h3>
<ul>
    <li><bug>60775</bug>NamePanel ctor calls overrideable method</li>
    <li><bug>60428</bug>JMeter Graphite Backend Listener throws exception when test ends
    and <code>useRegexpForSamplersList</code> is set to <code>true</code>.
    Based on patch by Liu XP (liu_xp2003 at sina.com)</li>
    <li><bug>60442</bug>Fix a typo in <code>build.xml</code> (gavin at 16degrees.com.au)</li>
    <li><bug>60449</bug>JMeter Tree : Annoying behaviour when node name is empty</li>
    <li><bug>60494</bug>Add sonar analysis task to build</li>
    <li><bug>60501</bug>Search Feature : Performance issue when regexp is checked</li>
    <li><bug>60444</bug>Intermittent failure of <code>TestHTTPMirrorThread#testSleep()</code>. Contributed by Thomas Schapitz (ts-nospam12 at online.de)</li>
    <li><bug>60621</bug>The "<code>report-template</code>" folder is missing from <code>ApacheJMeter_config-3.1.jar</code> in maven central</li>
    <li><bug>60744</bug>GUI elements are not cleaned up when reused during load of Test Plan which can lead them to be partially initialized with a previous state for a new Test Element</li>
    <li><bug>60812</bug>JMeterThread does not honor contract of JMeterStopTestNowException</li>
    <li><bug>60857</bug>SaveService omits XML header if _file_encoding is not defined in saveservice.properties</li>
    <li><bug>60830</bug>Timestamps in CSV file could be corrupted due to sharing a SimpleDateFormatter across threads</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
<li>Jerome Loisel (loisel.jerome at gmail.com)</li>
<li>Liu XP (liu_xp2003 at sina.com)</li>
<li>Qi Chen (qi.chensh at ele.me)</li>
<li>(gavin at 16degrees.com.au)</li>
<li>Thomas Schapitz (ts-nospam12 at online.de)</li>
<li>Murdecai777 (https://github.com/Murdecai777)</li>
<li>Logan Mauzaize (logan.mauzaize at gmail.com)</li>
<li>Maxime Chassagneux (maxime.chassagneux at gmail.com)</li>
<li>忻隆 (298015902 at qq.com)</li>
<li><a href="http://ubikloadpack.com">Ubik Load Pack</a></li>
<li>Graham Russell (graham at ham1.co.uk)</li>
<li>Sanduni Kanishka (https://github.com/SanduniKanishka)</li>
<li>Andrew Burton (andrewburtonatwh at gmail.com)</li>
<li>Woonsan Ko (woonsan at apache.org)</li>
<li>Bartosz Siewniak (barteksiewniak at gmail.com)</li>
<li>Kimono (kimono.outfit.am at gmail.com)</li>
<li>Michael Osipov (michaelo at apache.org)</li>
<li>Stephane Leplus (s.leplus at ubik-ingenierie.com)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:</p>
<ul>
<li>Tuukka Mustonen (tuukka.mustonen at gmail.com) who gave us a lot of useful feedback which helped resolve <bugzilla>60689</bugzilla> and <bugzilla>60690</bugzilla></li>
<li>Amar Darisa (amar.darisa at gmail.com) who helped us with his feedback on <bugzilla>60682</bugzilla></li>
</ul>
<p>
Apologies if we have omitted anyone else.
 </p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>
<ul>
<li>View Results Tree may freeze rendering large response particularly if this response has no spaces, see <bugzilla>60816</bugzilla>.
This is due to an identified Java Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8172336">UI stuck when calling JEditorPane.setText() or JTextArea.setText() with long text without space</a>.
</li>
</ul>
<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like md2WithRSAEncryption) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 8+.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later (but be aware that Java 9 is not certified yet for JMeter).
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with JAVA 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 3.1 =================== -->

<h1>Version 3.1</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Known problems and workarounds">Known problems and workarounds</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<ch_section>Improve Report/Dashboard</ch_section>
<p>
The Dashboard has been improved with 3 new graphs and 1 summary table:
</p>
<ul>
    <li>Connect Time over Time graph : <figure width="1635" height="520" image="dashboard/report_connect_time_over_time.png" ></figure></li>
    <li>Response Time Percentiles Over Time (successful responses) graph : <figure width="1640" height="539" image="dashboard/response_time_percentiles_over_time.png" ></figure></li>
    <li>Response Time Overview graph : <figure width="1645" height="562" image="dashboard/response_time_overview.png" ></figure></li>
    <li>Top 5 errors by Sampler table : <figure width="1609" height="508" image="dashboard/top_5_errors_by_sampler.png" ></figure></li>
    <li>More details on errors in Errors table</li>
    <li>Average response time added to Statistics table : <figure width="1639" height="467" image="dashboard/report_statistics.png" ></figure></li>
    <li>Active Threads table now stacks threads : <figure width="1638" height="544" image="dashboard/report_active_threads_over_time.png" ></figure></li>
</ul>

<ch_section>New Metrics</ch_section>
<p>
A new <code>sent_bytes</code> metric has been introduced which reports the bytes sent to server.<br/>
Another metric <code>connect_time</code> has been enabled by default in this version
</p>

<ch_section>Handling Big responses</ch_section>
<p>
JMeter is now able to handle in terms of metrics responses bigger than 2GB, limit has been increased to 9223372 TB.<br/>
To handle such big responses, it can also now truncate part of the response to avoid overflooding memory. See <code>httpsampler.max_bytes_to_store_per_request</code> property.
</p>

<ch_section>New <code>__groovy</code> function</ch_section>
<p>
Introduce a new function <code>__groovy</code> that enables Groovy functions. This can be handy, as JavaScript can be quite slow (same for BeanShell), when used in highly concurrent test plans.
</p>

<ch_section>Use Groovy as default for JSR-223 elements</ch_section>
<p>
Groovy is now set as the default language for JSR-223 elements. If you want to use another of the supported language, you have to make an explicit choice.
</p>
<note>By default <code>Cache compiled script if available</code> is not checked by default although we advise you to check it and ensure you don't use <code>${varName}</code> syntax to access JMeter variables but <code>vars.get("varName")</code> instead.</note>

<ch_section>Formatted HTML source view in Results Tree View</ch_section>
<p>
The HTML source code in the Results Tree View can now be viewed formatted. This is extremely useful, if the code of the webpage has been stripped of all superfluous whitespace.
</p>
<figure width="635" height="271" image="html-formatted-tree-view.png">New formatted HTML source view</figure>

<ch_section>Ability to update all timers in Test plan with a new property</ch_section>
<p>
A new property <code>timer.factor=1.0f</code> has been introduced which allows you to multiply pause times computed by Gaussian, Uniform and Poisson Timers by it.
This allows you to update Think Times from one place and let you gain productivity.
</p>

<ch_title>Core improvements</ch_title>
<ul>
<li>Various GUI and UX fixes</li>
<li>Memory usage improvements</li>
<li>JDBC Request is now able to return Blob/Clob and computes latency and connect time</li>
<li>CSS Parsing introduced in 3.0 has been optimized by introduction of a parsing cache</li>
<li>HTTP Request is now able to handle body in GET request, this is useful for Elastic Search requests for example.</li>
</ul>

<ch_title>Documentation improvements</ch_title>
<ul>
<li>Documentation review and improvements for easier startup</li>
<li>New <a href="usermanual/properties_reference.html">properties reference</a> documentation section</li>
</ul>
<!-- <ch_category>Sample category</ch_category> -->
<!-- <ch_title>Sample title</ch_title> -->
<!-- <figure width="846" height="613" image="changes/3.0/view_results_tree_search_feature.png"></figure> -->

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>

<ul>
    <li>A cache for CSS Parsing of URLs has been introduced in this version, it is enabled by default. It is controlled by property <code>css.parser.cache.size</code>. It can be disabled by setting its value to <code>0</code>. See <bugzilla>59885</bugzilla></li>
    <li>ThroughputController defaults have changed. Now defaults are Percent Executions which is global and no more per user. See <bugzilla>60023</bugzilla></li>
    <li>Since version 3.1, HTML report ignores empty <code>Transaction Controller</code> (possibly generated by <code>If Controller</code> or <code>Throughput Controller</code>) when computing metrics. This provides more accurate metrics</li>
    <li>Since version 3.1, Summariser ignores SampleResults generated by <code>Transaction Controller</code> when computing the live statistics, see <bugzilla>60109</bugzilla></li>
    <li>Since version 3.1, when using Stripped modes (by default <code>StrippedBatch</code> is used), response will be stripped also for failing SampleResults, you can revert this to previous behaviour by setting <code>sample_sender_strip_also_on_error=false</code> in <code>user.properties</code>, see <bugzilla>60137</bugzilla></li>
    <li>Since version 3.1, <code>jmeter.save.saveservice.connect_time</code> property value is <code>true</code>, meaning CSV file for results will contain an additional column containing connection time, see <bugzilla>60106</bugzilla></li>
    <li>Since version 3.1, Random Timer subclasses (Gaussian Random Timer, Uniform Random Timer and Poisson Random Timer) implement interface <code><a href="./api/org/apache/jmeter/timers/ModifiableTimer.html">org.apache.jmeter.timers.ModifiableTimer</a></code></li>
    <li>Since version 3.1, if you don't select any language in JSR223 Test Elements, Apache Groovy language will be used. See <bugzilla>59945</bugzilla></li>
    <li>Since version 3.1, CSV DataSet now trims variable names to avoid issues due to spaces between variables names when configuring CSV DataSet. This should not have any impact for you unless you use space at the beginning or end of your variable names. See <bugzilla>60221</bugzilla></li>
    <li>Since version 3.1, HTTP Request is able when using HttpClient4 (default) implementation to handle responses bigger than <code>2147483647</code> Bytes, that is 2GB. To allow this two properties have been introduced:
    <ul>
        <li><code>httpsampler.max_bytes_to_store_per_request</code> (defaults to 10MB) will control what is held in memory. By default JMeter will only keep in memory the first 10MB of a response. If you have responses larger than this value and use assertions that are after the first 10MB, then you must increase this value</li>
        <li><code>httpsampler.max_buffer_size</code> will control the buffer used to read the data. Previously JMeter used a buffer equal to Content-Length header which could lead to failures and make JMeter less resistant to faulty applications, but note this may impact response times and give slightly different results
         than previous versions if your application returned a Content-Length header higher than current default value (65KB) </li>
    </ul>
    See <bugzilla>53039</bugzilla></li>
</ul>

<h3>Deprecated and removed elements or functions</h3>
<p><note>These elements do not appear anymore in the menu, if you need them modify <code>not_in_menu</code> property. The JMeter team advises not to use them anymore and migrate to their replacement.</note></p>
<ul>
    <li><bug>60222</bug>Remove deprecated elements Distribution Graph, Spline Visualizer</li>
    <li><bug>60224</bug>Deprecate <code><a href="./usermanual/component_reference.html#Monitor_Results_(DEPRECATED)">Monitor Results</a></code> listener. It will be dropped in next version.</li>
    <li><bug>60323</bug>Deprecate BSF Elements (Use JSR223 Elements instead). They will probably be dropped in N+2 version. The following elements are deprecated:
        <ul>
            <li><code><a href="./usermanual/component_reference.html#BSF_Sampler_(DEPRECATED)">BSF Sampler</a></code></li>
            <li><code><a href="./usermanual/component_reference.html#BSF_Listener_(DEPRECATED)">BSF Listener</a></code></li>
            <li><code><a href="./usermanual/component_reference.html#BSF_Assertion_(DEPRECATED)">BSF Assertion</a></code></li>
            <li><code><a href="./usermanual/component_reference.html#BSF_Timer_(DEPRECATED)">BSF Timer</a></code></li>
            <li><code><a href="./usermanual/component_reference.html#BSF_PreProcessor_(DEPRECATED)">BSF PreProcessor</a></code></li>
            <li><code><a href="./usermanual/component_reference.html#BSF_PostProcessor_(DEPRECATED)">BSF PostProcessor</a></code></li>
        </ul>
    </li>
    <li><bug>60225</bug>Drop deprecated <code>__jexl</code> function, jexl support in BSF and dependency on <code>commons-jexl-1.1.jar</code>. This function can be easily replaced with <code><a href="./usermanual/functions.html#__jexl3">__jexl3</a></code> function</li>
    <li><bug>60268</bug>Drop org.apache.jmeter.gui.action.Analyze and deprecate org.apache.jmeter.reporters.FileReporter (will be removed in next version)</li>
</ul>

<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>59882</bug>Reduce memory allocations for better throughput. Contributed by Benoit Wiart (b.wiart at ubik-ingenierie.com) through <pr>217</pr> and <pr>228</pr></li>
    <li><bug>59885</bug>Optimize css parsing for embedded resources download by introducing a cache. Contributed by Benoit Wiart (b.wiart at ubik-ingenierie.com) through <pr>219</pr></li>
    <li><bug>60092</bug>View Result Tree: Add shortened version of the PUT body to sampler result.</li>
    <li><bug>60229</bug>Add a new metric : sent_bytes. Implemented by Philippe Mouawad (p.mouawad at ubik-ingenierie.com) and contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>53039</bug>HTTP Request : Be able to handle responses which size exceeds <code>2147483647</code> bytes (that is 2GB)</li>
    <li><bug>60265</bug>HTTP Request : In Files Upload Tab you cannot resize columns</li>
    <li><bug>60318</bug>Ignore CSS warnings when parsing with ph-css library.</li>
    <li><bug>60358</bug>Http Request : Allow sending Body Data for HTTP GET request</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><pr>211</pr>Differentiate the timing for JDBC Sampler. Use latency and connect time. Contributed by Thomas Peyrard (thomas.peyrard at murex.com)</li>
    <li><bug>59620</bug>Fix button action in "JMS Publisher &rarr; Random File from folder specified below" to allow to select a directory</li>
    <li><bug>60066</bug>Handle CLOBs and BLOBs and limit them if necessary when storing them in result sampler.</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>59351</bug>Improve log/error/message for IncludeController. Partly contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
    <li><bug>60023</bug>ThroughputController : Make "Percent Executions" and global the default values. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60082</bug>Validation mode : Be able to force Throughput Controller to run as if it was set to 100%</li>
    <li><bug>59349</bug>Trim spaces in input filename in IncludeController.</li>
    <li><bug>60081</bug>Interleave Controller : Add an option to alternate across threads</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>59953</bug>GraphiteBackendListener : Add Average metric. Partly contributed by Maxime Chassagneux (maxime.chassagneux at gmail.com)</li>
    <li><bug>59975</bug>View Results Tree : Text renderer annoyingly scrolls down when content is bulky. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60109</bug>Summariser : Make it ignore TC generated SampleResult in its summary computations</li>
    <li><bug>59948</bug>Add a formatted and sane HTML source code render to View Results Tree</li>
    <li><bug>60252</bug>Add sent kbytes/s to Aggregate Report and Summary report</li>
    <li><bug>60267</bug>UX : In View Results Tree it should be possible to close the Configure popup by typing escape. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>59845</bug>Log messages about JSON Path mismatches at <code>debug</code> level instead of <code>error</code>.</li>
    <li><pr>212</pr>Allow multiple selection and delete in HTTP Authorization Manager. Based on a patch by Benoit Wiart (b.wiart at ubik-ingenierie.com)</li>
    <li><bug>59816</bug><pr>213</pr>Allow multiple selection and delete in HTTP Header Manager. Based on a patch by Benoit Wiart (b.wiart at ubik-ingenierie.com)</li>
    <li><bug>59967</bug>CSS/JQuery Extractor : Allow empty default value. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>59974</bug>Response Assertion : Add button "<code>Add from clipboard</code>". Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60050</bug>CSV Data Set : Make it clear in the logs when a thread will exit due to this configuration</li>
    <li><bug>59962</bug>Cache Manager does not update expires date when response code is <code>304</code>.</li>
    <li><bug>60018</bug>Timer : Add a factor to apply on pauses. Partly based on a patch by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60203</bug>Use more available space for textarea in XPath Assertion.</li>
    <li><bug>60220</bug>Rename JSON Path Post Processor to JSON Extractor</li>
    <li><bug>60221</bug>CSV DataSet : trim variable names</li>
    <li><bug>59329</bug>Trim spaces in input filename in CSVDataSet.</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>59963</bug>New function <code>__RandomFromMultipleVars</code>: Ability to compute a random value from values of one or more variables. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>59991</bug>New function <code>__groovy</code> to evaluate Groovy Script. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>I18N</h3>
<ul>
    <li><pr>214</pr>Add spanish translation for delayed starting of threads. Contributed by Asier Lostalé (asier.lostale at openbravo.com).</li>
    <li><bug>60348</bug>Change chinese translation for <code>Save as</code>. Contributed by XMeter (support at xmeter.net).</li>
</ul>

<h3>Report / Dashboard</h3>
<ul>
    <li><bug>59954</bug>Web Report/Dashboard : Add average metric</li>
    <li><bug>59956</bug>Web Report / Dashboard : Add ability to generate a graph for a range of data</li>
    <li><bug>60065</bug>Report / Dashboard : Improve Dashboard Error Summary by adding response message to "Type of error". Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60079</bug>Report / Dashboard : Add a new "Response Time Overview" graph</li>
    <li><bug>60080</bug>Report / Dashboard : Add a new "Connect Time Over Time " graph. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60091</bug>Report / Dashboard : Have a new report containing min/max and percentiles graphs.</li>
    <li><bug>60108</bug>Report / Dashboard : In Requests Summary rounding is too aggressive</li>
    <li><bug>60098</bug>Report / Dashboard : Reduce default value for "<code>jmeter.reportgenerator.statistic_window</code>" to reduce memory impact</li>
    <li><bug>60115</bug>Add date format property for start/end date filter into Report generator</li>
    <li><bug>60171</bug>Report / Dashboard : Active Threads Over Time should stack lines to give the total amount of threads running</li>
    <li><bug>60250</bug>Report / Dashboard : Need to Add Sent KB/s in Statistics Report of HTML Dashboard</li>
    <li><bug>60287</bug>Report / Dashboard : Have a new Top5 Errors by sampler table in Dashboard. Implemented by Philippe Mouawad (p.mouawad at ubik-ingenierie.com) and contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>
<h3>General</h3>
<ul>
    <li><bug>59803</bug>Use <code>isValid()</code> method from JDBC driver, if no <code>validationQuery</code>
    is given in JDBC Connection Configuration.</li>
    <li><bug>57493</bug>Create a documentation page for properties</li>
    <li><bug>59924</bug>The log level of <em>XXX</em> package is set to <code>DEBUG</code> if <code>log_level.<em>XXXX</em></code> property value contains spaces, same for <code>__log</code> function</li>
    <li><bug>59777</bug>Extract SLF4J binding into its own jar and make it a JMeter lib.
    <note>If you get a warning about multiple SLF4J bindings on startup. Remove either the Apache JMeter provided binding
          <code>lib/ApacheJMeter_slf4j_logkit.jar</code>, or all of the other reported bindings.
          For more information you can have a look at <a href="http://www.slf4j.org/codes.html#multiple_bindings">SLF4Js own info page.</a></note>
    </li>
    <li><bug>60085</bug>Remove cache for prepared statements, as it didn't work with the current JDBC pool implementation and current JDBC drivers should support caching of prepared statements themselves.</li>
    <li><bug>60137</bug>In Distributed testing when using StrippedXXXX modes strip response also on error</li>
    <li><bug>60106</bug>Settings defaults : Switch "<code>jmeter.save.saveservice.connect_time</code>" to true (after 3.0)</li>
    <li><pr>229</pr> tiny memory allocation improvements. Contributed by Benoit Wiart (b.wiart at ubik-ingenierie.com)</li>
    <li><bug>59945</bug>For all JSR223 elements, if script language has not been chosen on the UI, the script will be interpreted as a groovy script.</li>
    <li><bug>60266</bug>Usability/ UX : It should not be possible to close/exit/Revert/Load/Load a recent project or create from template a JMeter plan or open a new one if a test is running</li>
    <li><bug>57305</bug>Remove dependency of <code>ProxyControl</code> on <code>GuiPackage</code>. Based on patches by jarek102 (jarek102 at gmail.com) and Wyatt Epp (wyatt.epp at gmail.com)</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
    <li>Updated to jsoup-1.10.1 (from 1.8.3)</li>
    <li>Updated to ph-css 4.1.6 (from 4.1.4)</li>
    <li>Updated to tika-core and tika-parsers 1.14 (from 1.12)</li>
    <li>Updated to commons-io 2.5 (from 2.4)</li>
    <li>Updated to commons-lang3 3.5 (from 3.4)</li>
    <li>Updated to commons-net 3.5 (from 3.4)</li>
    <li>Updated to groovy 2.4.7 (from 2.4.6)</li>
    <li>Updated to httpcore 4.4.5 (from 4.4.4)</li>
    <li>Updated to slf4j-api 1.7.21 (from 1.7.13)</li>
    <li>Updated to rsyntaxtextarea-2.6.0 (from 2.5.8)</li>
    <li>Updated to xstream 1.4.9 (from 1.4.8)</li>
    <li>Updated to jodd 3.7.1 (from 3.6.7.jar)</li>
    <li>Updated to xmlgraphics-commons 2.1 (from 2.0.1)</li>
    <li><pr>215</pr>Reduce duplicated code by using the newly added method <code>GuiUtils#cancelEditing</code>.
    Contributed by Benoit Wiart (b.wiart at ubik-ingenierie.com)</li>
    <li><pr>218</pr>Misc cleanup. Contributed by Benoit Wiart (b.wiart at ubik-ingenierie.com)</li>
    <li><pr>216</pr>Re-use pattern when possible. Contributed by Benoit Wiart (b.wiart at ubik-ingenierie.com)</li>
    <li><bug>60364</bug>Document Test Coverage. Contributed by Thomas Schapitz (ts-nospam12 at online.de)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>58888</bug>HTTP(S) Test Script Recorder (ProxyControl) does not add TestElement's returned by <code>SamplerCreator#createChildren()</code></li>
    <li><bug>59902</bug>Https handshake failure when setting <code>httpclient.socket.https.cps</code> property</li>
    <li><bug>60084</bug>JMeter 3.0 embedded resource URL is silently encoded</li>
    <li><bug>60376</bug>Http Test Script Recorder : If deflate is used by server then recording may break application</li>
 </ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>59113</bug>JDBC Connection Configuration : Transaction Isolation level not correctly set if constant used instead of numerical</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>60361</bug>ModuleController : If a Test plan contains a Module Controller which references an unexistant Controller, JMeter in GUI mode will not stop</li>
</ul>

<h3>Listeners</h3>
<ul>
    <li><bug>59712</bug>Display original query in RequestView when decoding fails. Based on a patch by
         Teemu Vesala (teemu.vesala at qentinel.com)</li>
    <li><bug>60278</bug>Since 2.13 (and <bugzilla>57514</bugzilla>), Aggregate Graph, Summary Report and Aggregate Report lost precision in the Error, Rate and Bandwidth values saved in the saved file csv</li>
    <li><bug>60360</bug>View Result Tree : Request Tab does not show body of a DELETE request</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
    <li><bug>59964</bug>JSR223 Test Element : Cache compiled script if available is not correctly reset. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>59609</bug>Format extracted JSON Objects in JSON Post Processor correctly as JSON.</li>
    <li><bug>60332</bug>View Results Tree : With Windows LAF, JSON Extractor does not show JSON Path Expression and Result panel</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
    <li><bug>59400</bug>Get rid of UnmarshalException on stopping when <code>-X</code> option is used.</li>
    <li><bug>59607</bug>JMeter crashes when reading large test plan (greater than 2GB). Based on fix by Felix Draxler (felix.draxler at sap.com)</li>
    <li><bug>59621</bug>Error count in report dashboard is one off.</li>
    <li><bug>59657</bug>Only set font in JSyntaxTextArea, when property <code>jsyntaxtextarea.font.family</code> is set.</li>
    <li><bug>59720</bug>Batch test file comparisons fail on Windows as XML files are generated as EOL=LF</li>
    <li>Code cleanups. Patches by Graham Russell (graham at ham1.co.uk)</li>
    <li><bug>59722</bug>Use StandardCharsets to reduce the possibility of misspelling Charset names.</li>
    <li><bug>59723</bug>Use <code>jmeter.properties</code> for testing whenever possible</li>
    <li><bug>59726</bug>Unit test to check that CSV header text and sample format don't change unexpectedly</li>
    <li><bug>59889</bug>Change encoding to UTF-8 in reports for dashboard.</li>
    <li><bug>60053</bug>In Non GUI mode, a Stacktrace is shown at end of test while report is being generated</li>
    <li><bug>60049</bug>When using Timers with high delays or Constant Throughput Timer with low throughput, Scheduler may take a lot of time to exit, same for Shutdown test </li>
    <li><bug>60089</bug>Report / Dashboard : Bytes throughput Over Time has reversed Sent and Received bytes. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>60090</bug>Report / Dashboard : Empty Transaction Controller should not count in metrics</li>
    <li><bug>60103</bug>Report / Dashboard : Requests summary includes Transaction Controller leading to wrong percentage</li>
    <li><bug>60105</bug>Report / Dashboard : Report requires Transaction Controller "<code>generate parent sample</code>" option to be checked, fix related issues</li>
    <li><bug>60107</bug>Report / Dashboard : In StatisticSummary, TransactionController SampleResult makes Total line wrong</li>
    <li><bug>60110</bug>Report / Dashboard : In Response Time Percentiles, slider is useless</li>
    <li><bug>60135</bug>Report / Dashboard : Active Threads Over Time should be in OverTime section</li>
    <li><bug>60125</bug>Report / Dashboard : Dashboard cannot be generated if the default delimiter is <code>\t</code>. Based on a report from Tamas Szabadi (tamas.szabadi at rightside.co)</li>
    <li><bug>59439</bug>Report / Dashboard : AbstractOverTimeGraphConsumer.createGroupInfos() should be abstract</li>
    <li><bug>59918</bug>Ant generated HTML report is broken (extras folder)</li>
    <li><bug>60295</bug>JSON Extractor doesn't index array elements when only one element is found. Based on a patch by Roberto Braga (roberto.braga at sociale.it)</li>
    <li><bug>60299</bug>Thread Group with Scheduler : Weird behaviour when End-Time is in the past</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
<li>Felix Draxler (felix.draxler at sap.com)</li>
<li>Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li>Graham Russell (graham at ham1.co.uk)</li>
<li>Teemu Vesala (teemu.vesala at qentinel.com)</li>
<li>Asier Lostalé (asier.lostale at openbravo.com)</li>
<li>Thomas Peyrard (thomas.peyrard at murex.com)</li>
<li>Benoit Wiart (b.wiart at ubik-ingenierie.com)</li>
<li>Maxime Chassagneux (maxime.chassagneux at gmail.com)</li>
<li><a href="http://ubikloadpack.com">Ubik Load Pack</a></li>
<li>Tamas Szabadi (tamas.szabadi at rightside.co)</li>
<li>Roberto Braga (roberto.braga at soziale.it)</li>
<li>jarek102 at gmail.com</li>
<li>Wyatt Epp (wyatt.epp at gmail.com)</li>
<li>Thomas Schapitz (ts-nospam12 at online.de)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:</p>
<ul>
</ul>
<p>
Apologies if we have omitted anyone else.
 </p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>

<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that there is a <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6396599 ">bug in Java</a>
on some Linux systems that manifests itself as the following error when running the test cases or JMeter itself:
<source>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</source>
This does not affect JMeter operation. This issue is fixed since Java 7b05.
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
With Oracle Java 7 and Mac Book Pro Retina Display, the JMeter GUI may look blurry.
This is a known Java bug, see Bug <a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8000629" >JDK-8000629</a>.
A workaround is to use a Java 7 update 40 runtime which fixes this issue.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like md2WithRSAEncryption) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 7 version u16 (MD2) and version u40 (Certificate size lower than 1024 bits), and Java 8 too.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK7_u79, JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with JAVA 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 3.0 =================== -->

<h1>Version 3.0</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Known bugs">Known bugs</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<ch_category>Test plan creation and debugging improvements</ch_category>
<ch_title>New Search Feature in View Results Tree to allow searching for text / regexp in Request/Responses/Headers/Cookies/&hellip; This will ease correlation and Test plans creation</ch_title>
<figure width="846" height="613" image="changes/3.0/view_results_tree_search_feature.png"></figure>
<ch_title>New JSON Post Processor to better extract data from JSON content using user friendly JSON-PATH syntax</ch_title>
<p>JSON is now a first class citizen in JMeter with the introduction of a new <a href="http://goessner.net/articles/JsonPath/" target="_blank">JSONPath</a> post processor.
This post processor is very similar to Regular Expression Post Processor but is well suited for JSON code.
It is based on <a href="https://github.com/jayway/JsonPath" target="_blank" >Jayway JSON Path library</a> </p>
<figure width="829" height="223" image="changes/3.0/json_path_extractor.png" ></figure>
<ch_title>New validation feature, in one click run a selection of Thread Groups with <code>1</code> user, no pause and <code>1</code> iteration</ch_title>
<figure width="295" height="629" image="changes/3.0/thread_group_validate.png"></figure>
<ch_title>JSR223 Test Elements do not require a Cache Compilation Key anymore</ch_title>
<p>Just check <code>Cache compiled script if available</code> checkbox and the elements (Pre-Processor, Post-Processor, Assertions, Listeners, &hellip;)
will pre-compile the script and cache the compiled code if the underlying language supports it</p>
<figure width="991" height="606" image="changes/3.0/jsr223_cache_compiled.png"></figure>
<ch_title>Nashorn can now be used as Javascript engine providing better performance and easier usage</ch_title>
<p>
To enable <a target="_blank" href="http://www.oracle.com/technetwork/articles/java/jf14-nashorn-2126515.html" >Nashorn</a>, you need to set in <code>user.properties</code>:
</p>
<source>javascript.use_rhino=false</source>
<p>Nashorn can be used with Java 8 in the following elements:
</p>
<ul>
<li>IfController</li>
<li>JSR223 Test elements with <code>javascript</code> language selected</li>
<li><code>__javaScript</code> function</li>
</ul>
<ch_title>Jexl3 has been integrated. It provides new scripting features and much better documentation</ch_title>
<p>
<a href="http://commons.apache.org/proper/commons-jexl/" target="_blank">JEXL3</a> can now be used thanks to a new function <code>__jexl3</code>.
JEXL is a language very similar to JSTL.
</p>
<ch_title>Simplified HTTP Request UI</ch_title>
<p>A new "<code>Advanced</code>" tab has been added to HTTP Request to simplify configuration. The file upload feature has been moved into a dedicated tab.
This increases the space available for parameters in UI and simplifies the UX.</p>
<figure width="895" height="674" image="changes/3.0/http_request_basic.png"></figure>
<figure width="880" height="299" image="changes/3.0/http_request_advanced.png"></figure>

<ch_title>HTTP Request Defaults improvements</ch_title>
<p>You can now configure Source Address (IP Spoofing like feature) and "<code>Save response as MD5 hash</code>" in Advanced Tab
</p>
<figure width="893" height="259" image="changes/3.0/http_request_defaults_advanced.png" ></figure>

<ch_category>Reporting improvements</ch_category>

<ch_title>New Reporting Feature generating dynamic Graphs in HTML pages (APDEX, Summary report and Graphs)</ch_title>
<p>A dynamic HTML report can now be generated either at the end of a load test or from a result file whenever you want.
See <a href="./usermanual/generating-dashboard.html" target="_blank">Generating dashboard</a> for more details.
This report provides the following metrics:
</p>
<ul>
    <li><a href="https://en.wikipedia.org/wiki/Apdex" target="_blank">APDEX</a> (Application Performance Index) table that computes the APDEX based on configurable values for tolerated and satisfied thresholds</li>
    <li>A request summary graph showing the Success and failed transaction percentage: <figure width="1658" height="650" image="changes/3.0/report_apdex_and_summary.png" ></figure></li>
    <li>A Statistics table providing in one table a summary of all metrics per transaction including 3 configurable percentiles : <figure width="1376" height="433" image="changes/3.0/report_statistics.png" ></figure></li>
    <li>An error table providing a summary of all errors and their proportion in the total requests : <figure width="1344" height="455" image="changes/3.0/report_errors.png" ></figure></li>
    <li>Zoomable chart where you can check/uncheck every transaction to show/hide it for:
        <ul>
            <li>Response times Over Time : <figure width="1398" height="566" image="changes/3.0/report_response_times_over_time.png" ></figure></li>
            <li>Bytes throughput Over Time : <figure width="1373" height="543" image="changes/3.0/report_bytes_throughput_over_time.png" ></figure></li>
            <li>Latencies Over Time : <figure width="1373" height="547" image="changes/3.0/report_latencies_over_time.png" ></figure></li>
            <li>Hits per second : <figure width="1375" height="552" image="changes/3.0/report_hits_per_second.png" ></figure></li>
            <li>Response codes per second : <figure width="1380" height="558" image="changes/3.0/report_codes_per_second.png" ></figure></li>
            <li>Transactions per second : <figure width="1372" height="577" image="changes/3.0/report_transactions_per_second.png" ></figure></li>
            <li>Response Time vs Request per second : <figure width="1380" height="545" image="changes/3.0/report_response_time_vs_request.png" ></figure></li>
            <li>Latency vs Request per second : <figure width="1373" height="543" image="changes/3.0/report_latencies_vs_request.png" ></figure></li>
            <li>Response times percentiles : <figure width="1374" height="551" image="changes/3.0/report_response_time_percentiles.png" ></figure></li>
            <li>Active Threads Over Time : <figure width="1370" height="542" image="changes/3.0/report_active_threads_over_time.png" ></figure></li>
            <li>Times vs Threads : <figure width="1373" height="567" image="changes/3.0/report_time_vs_threads.png" ></figure></li>
            <li>Response Time Distribution : <figure width="1373" height="549" image="changes/3.0/report_response_time_distribution.png" ></figure></li>
        </ul>
    </li>
</ul>


<ch_title>GraphiteBackendListener has a new Server Hits metric</ch_title>
<ch_title>Summariser displays a more readable duration</ch_title>
<p>
Now duration are display in the format <code>hours:minutes:seconds</code>
</p>
<source>
Generate Summary Results +      1 in 00:00:01 =    1.7/s Avg:     1 Min:     1 Max:     1 Err:     0 (0.00%) Active: 1 Started: 1 Finished: 0
Generate Summary Results +    138 in 00:00:09 =   16.2/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%) Active: 9 Started: 9 Finished: 0
Generate Summary Results =    139 in 00:00:09 =   15.3/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%)
Generate Summary Results +    467 in 00:00:10 =   47.0/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%) Active: 19 Started: 19 Finished: 0
Generate Summary Results =    606 in 00:00:19 =   31.9/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%)
&vellip;
Generate Summary Results +   1662 in 00:00:10 =  166.1/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%) Active: 50 Started: 50 Finished: 0
Generate Summary Results =  28932 in 00:03:19 =  145.4/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%)
Generate Summary Results +   1664 in 00:00:10 =  166.4/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%) Active: 50 Started: 50 Finished: 0
Generate Summary Results =  30596 in 00:03:29 =  146.4/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%)
Generate Summary Results +   1661 in 00:00:10 =  166.1/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%) Active: 50 Started: 50 Finished: 0
Generate Summary Results =  32257 in 00:03:39 =  147.3/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%)
</source>
<ch_title>BackendListener now allows you to define sampler list as a regular expression</ch_title>
<p>You can now use a regular expression to select the samplers you want to filter.
Use parameter: <code>useRegexpForSamplersList=true</code> and put a regex in parameter <code>samplersList</code>
</p>
<figure width="806" height="380" image="changes/3.0/graphite_backend_listener_regex.png" ></figure>
<ch_category>Protocols and Load Testing improvements</ch_category>
<ch_title>Migration to HttpClient 4.5.2 has been started. Although not completely finished, it improves many areas in JMeter</ch_title>
<p>Migration to HttpClient 4.5.2 improves the following fields of JMeter:
</p>
<ul>
<li>Support of recent RFC like <a href="https://tools.ietf.org/html/rfc6265" target="_blank">HTTP State Management Mechanism RFC-6265 for Cookies</a>, you should use now <code>HC4CookieHandler</code> in HTTP Cookie Manager component and select <code>standard</code> Cookie policy</li>
<li><a href="https://en.wikipedia.org/wiki/Server_Name_Indication" target="_blank">Server Name Indication (SNI)</a> support for HttpClient4 implementation</li>
<li>Improved and better performing validation mechanism for Stale connections and Keep-Alive management, see properties <code>httpclient4.validate_after_inactivity</code> and <code>httpclient4.time_to_live</code></li>
<li>Many bug fixes since previous version 4.2.6 used in JMeter 2.13, see <a href="http://www.apache.org/dist/httpcomponents/httpclient/RELEASE_NOTES-4.5.x.txt" target="_blank">HttpClient 4.5.X release notes</a></li>
<li>Better support of HTTP RFC 2616 / RFC 7230 and fixes to issues with <code>deflate</code> compression management</li>
</ul>
<ch_title>Parallel Downloads is now realistic and scales much better:</ch_title>
<ul>
<li>Parsing of CSS imported files (through <code>@import</code>) or embedded resources (background, images, &hellip;)</li>
<li>Lazy initialization of SSL context: For 15 Threads 138% more sampling in 5 minutes for HTTP only tests. Gain increases as number of threads increases</li>
<li>Rework of Connection management for Parallel Download: This better simulates current browser behaviour and improves throughput. For 15 Threads 135% extra samples in 5 minutes.</li>
<li>Reuse of Threads used for Parallel downloads through a ThreadPool: This improves throughput and increases JMeter scalability for such tests</li>
<li>Total of 750% more throughput found on test with 15 threads, the more threads you have the more the gain</li>
<li>You can now compute and store just the MD5 of embedded resources instead of storing the entire response, this can be done by setting the property <code>httpsampler.embedded_resources_use_md5=true</code></li>
</ul>
<ch_title>Introduction of Sample Timeout feature</ch_title>
<p>This new <complink name="Sample Timeout"/> Pre-Processor allows you to apply a Timeout on the elements that are in its scope.
In the screenshot below the 10 second timeout applies to the <code>Debug Sampler</code> and <code>HTTP Request</code> elements.
</p>
<figure width="828" height="161" image="changes/3.0/sample_timeout.png" ></figure>

<ch_title>JDBC request now uses DBCP2 pool</ch_title>
<p>JDBC Request and JDBC Connection Configuration have been updated to replace old Excalibur Pool by Apache Commons DBCP2 pool. As a consequence properties have been migrated to equivalent
when available and UI has been updated.
Note that unlike Excalibur, Commons DBCP uses the validation query when creating the pool.
So make sure the query is valid.
The default query suits many databases, but not all - for example Oracle requires '<code>SELECT 1 FROM DUAL</code>' or similar.
</p>
<figure width="582" height="434" image="changes/3.0/jdbc_connection_configuration.png" ></figure>
<ch_category>UX Improvements:</ch_category>

<ch_title>Better display in HiDPI screens</ch_title>
<p>See <a href="usermanual/hints_and_tips.html#hidpi">JMeter with a HiDPI screen on Linux or Windows</a> in Hints and Tips section in user manual</p>
<ch_title>New Icon look and Logo</ch_title>
<p>JMeter has a new Logo created by Felix Schumacher. <br/>Icons have also been refreshed to give a more modern style and make them more meaningful</p>
<ch_title>Lots of fixes of annoying little bugs</ch_title>
<p>Around 40 UI fixes have been made to either fix buggy, confusing behaviour or simplify usage by not allowing incompatible options to be selected</p>
<ch_title>Improved Thread Group UI and related actions (<code>Start</code>, <code>Start No Timers</code>, <code>Validate</code>)</ch_title>
<p>
Creating and testing a Test Plan before Load Test has been much simplified by allowing you to only start a selection of Thread Group, start them without applying Timers (thus gaining time)
or start them using a new Validation mode. This validation mode allows you to start a Thread Group (without modifying it) with 1 thread, 1 iteration and without applying timers.
This validation mode can be customized.
</p>
<figure width="302" height="235" image="changes/3.0/thread_group_starters.png" ></figure>
<ch_title>New shortcuts</ch_title>
<ul>
<li>Add most used elements
    (<keycombo>
        <keysym>Ctrl</keysym>
        <keysym>0</keysym>
    </keycombo>
    &hellip;
    <keycombo>
        <keysym>Ctrl</keysym>
        <keysym>9</keysym>
    </keycombo>),
    configurable through <code>gui.quick_<em>XXX</em></code> properties</li>
<li>Shortcuts to expand nodes</li>
</ul>
<ch_category>Core improvements</ch_category>

<ch_title>Configuration simplification with better defaults</ch_title>
<p>Default values for many properties have been modified to make JMeter configuration optimal Out of the box. Read "Incompatible changes" section for more details.</p>
<ch_title>Apache Groovy bundled with JMeter</ch_title>
<p><a href="http://www.groovy-lang.org/" target="_blank">Apache Groovy</a>, the well-known JVM scripting language, is now bundled with Apache JMeter in lib folder.
This allows you to use it immediately through JSR223 Elements by selecting the Groovy language.</p>
<ch_title>Superfluous and old properties removed</ch_title>
<p>Old properties that existed to maintain backward compatibility or to offer some superfluous customization have been removed.
Read "Incompatible changes" section to see which properties have been removed.</p>
<ch_title>Code and documentation improvements</ch_title>
<ul>
<li>Migration to Java7 source code and use of its syntactic sugar</li>
<li>Major code cleanups</li>
<li>Full review of documentation and improvement both in content and presentation</li>
</ul>
<ch_title>Improvements to unit tests</ch_title>
<ul>
<li>Migration of many tests to JUnit 4</li>
<li>Better management of Headless tests</li>
<li>More Unit Tests</li>
</ul>
<ch_title>Dependencies refresh</ch_title>
<p>
Deprecated Libraries dropped or replaced by up to date ones:
</p>
<ul>
<li>Excalibur replaced by commons-dbcp</li>
<li>htmllexer, htmlparser removed</li>
<li>soap removed</li>
<li>jdom removed</li>
</ul>
<ch_title>Slf4j can now be used within Plugins and core code</ch_title>
<p>You can now use <a href="http://www.slf4j.org/" target="_blank">SLF4J</a> logging wrapper in your custom plugins or <code>org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient</code> subclasses.</p>
<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>

<ul>
    <li>Since version 3.0, Groovy-2.4.6 is bundled with JMeter (<code>lib</code> folder), ensure you remove old version or referenced versions through properties <code>search_paths</code> or <code>user.classpath</code></li>
    <li>Since version 3.0, <code>jmeter.save.saveservice.assertion_results_failure_message</code> property value is true, meaning CSV file for results will contain an additional column containing assertion result response message, see <bugzilla>58978</bugzilla></li>
    <li>Since version 3.0, <code>jmeter.save.saveservice.print_field_names</code> property value is true, meaning CSV file for results will contain field names as first line in CSV, see <bugzilla>58991</bugzilla></li>
    <li>Since version 3.0, <code>jmeter.save.saveservice.idle_time</code> property value is true, meaning CSV/XML result files will contain an additional column containing idle time between samplers, see <bugzilla>57182</bugzilla></li>
    <li>In RandomTimer class, protected instance <code>timer</code> field has been replaced by <code>getTimer()</code> protected method, this is related to <bugzilla>58100</bugzilla>. This may impact 3<sup>rd</sup> party plugins.</li>
    <li>Since version 3.0, you can use Nashorn Engine (default javascript engine is Rhino) under Java8 for Elements that use Javascript Engine (<code>__javaScript</code>, <code>IfController</code>). If you want to use it, use property <code>javascript.use_rhino=false</code>, see <bugzilla>58406</bugzilla>.
    <note>Note: in a future version, we will switch to Nashorn by default. Users are encouraged to report any issue related to using Nashorn instead of Rhino.</note>
    </li>
    <li>Since version 3.0, JMS Publisher will reload contents of file if Message source is "<code>From File</code>" and the "<code>Filename</code>" field changes (e.g. if it uses a variable that has changed)</li>
    <li><code>org.apache.jmeter.gui.util.ButtonPanel</code> has been removed, if you use it in your 3<sup>rd</sup> party plugin or custom development ensure you update your code. See <bugzilla>58687</bugzilla></li>
    <li>Property <code>jmeterthread.startearlier</code> has been removed. See <bugzilla>58726</bugzilla></li>
    <li>Property <code>jmeterengine.startlistenerslater</code> has been removed. See <bugzilla>58728</bugzilla></li>
    <li>Property <code>jmeterthread.reversePostProcessors</code> has been removed. See <bugzilla>58728</bugzilla></li>
    <li>Property <code>jmeter.toolbar.display</code> has been removed, the toolbar is now always displayed. See <bugzilla>59236</bugzilla></li>
    <li>Property <code>jmeter.errorscounter.display</code> has been removed, the errors/warnings counter is now always displayed. See <bugzilla>59236</bugzilla></li>
    <li>Property <code>xml.parser</code> has been removed, it is not used anymore as <code>org.apache.jmeter.util.JMeterUtils#getXMLParser</code> has been deprecated and is not used either. See <bugzilla>59236</bugzilla></li>
    <li>Summariser listener now shows the duration in the format <code>HH:mm:ss</code> (Hour:Minute:Second), it previously showed the duration in seconds. See <bugzilla>58776</bugzilla></li>
    <li><code>org.apache.jmeter.protocol.http.visualizers.RequestViewHTTP.getQueryMap</code> signature has changed, if you use it ensure you update your code. See <bugzilla>58845</bugzilla></li>
    <li>JMS Subscriber will consider a sample to be an error if the number of received messages is not equal to expected number of messages. It previously considered a sample OK if at least 1 message was received. See <bugzilla>58980</bugzilla></li>
    <li>Since version 3.0, HTTP(S) Test Script recorder defaults to using port <code>8888</code> (as configured when using Recording Template). See <bugzilla>59006</bugzilla></li>
    <li>Since version 3.0, the parser for embedded resources (replaced since 2.10 by Lagarto based implementation) which relied on the htmlparser library (HtmlParserHTMLParser) has been dropped along with its dependencies.</li>
    <li>Since version 3.0, support for reading old Avalon format JTL (result) files has been removed, see <bugzilla>59064</bugzilla></li>
    <li>Since version 3.0, the default property value for <code>http.java.sampler.retries</code> has been changed to <code>0</code> (no retry by default) to align it with the behaviour of HttpClient4.
    <note>Note also that its meaning has changed: before 3.0, <code>http.java.sampler.retries=1</code> meant <code>No Retry</code> (i.e. total tries = 1), since 3.0 <code>http.java.sampler.retries=1</code> means <code>1</code> retry.
    (Note: this only applies to the Java HTTP Sampler)</note>
    See <bugzilla>59103</bugzilla></li>
    <li>Since 3.0, the following deprecated classes have been dropped
    <ul>
        <li>org.apache.jmeter.protocol.http.modifier.UserParameterXMLContentHandler</li>
        <li>org.apache.jmeter.protocol.http.modifier.UserParameterXMLErrorHandler</li>
        <li>org.apache.jmeter.protocol.http.modifier.UserParameterXMLParser</li>
    </ul>
    </li>
    <li><code>httpsampler.await_termination_timeout</code> has been replaced by <code>httpsampler.parallel_download_thread_keepalive_inseconds</code> which is now the keep alive time for the parallel download threads (in seconds).</li>
    <li>JDBC Request has been updated to use commons-dbcp2, since then the behaviour is slightly different, ensure you have a correct "Validation Query" for your database. See <bugzilla>58786</bugzilla></li>
    <li>The following jars have been removed:
    <ul>
        <li>excalibur-datasource-2.1.jar (see <bugzilla>59156</bugzilla>)</li>
        <li>excalibur-instrument-1.0.jar (see <bugzilla>58786</bugzilla>)</li>
        <li>excalibur-pool-api-2.1.jar (see <bugzilla>58786</bugzilla>)</li>
        <li>excalibur-pool-impl-2.1.jar (see <bugzilla>58786</bugzilla>)</li>
        <li>excalibur-pool-instrumented-2.1.jar (see <bugzilla>58786</bugzilla>)</li>
        <li>htmllexer-2.1.jar (see <bugzilla>59037</bugzilla>)</li>
        <li>htmlparser-2.1.jar (see <bugzilla>59037</bugzilla>)</li>
        <li>soap-2.3.1.jar</li>
        <li>jdom-1.1.3.jar (see <bugzilla>59156</bugzilla>)</li>
    </ul>
    </li>
    <li>Maximum number of redirects allowed by JMeter is now 20, it was previously 5. This can be changed with the property <code>httpsampler.max_redirects</code>. See <bugzilla>59382</bugzilla></li>
</ul>
<h3>Deprecated and removed elements</h3>
<ul>
    <li>MongoDB elements (MongoDB Source Config, MongoDB Script) have been deprecated and will be removed in the next version of JMeter. They do not appear anymore in the menu, if you need them modify <code>not_in_menu</code> property. The JMeter team advises not to use them anymore. See <bugzilla>58772</bugzilla></li>
    <li>WebService(SOAP) Request and HTML Parameter Mask which were deprecated in 2.13 version, have now been removed following our <a href="./usermanual/best-practices.html#deprecation">deprecation strategy</a>.
    Classes and properties which were only used by those elements have been dropped:
    <ul>
        <li><code>org.apache.jmeter.protocol.http.util.DOMPool</code></li>
        <li><code>org.apache.jmeter.protocol.http.util.WSDLException</code></li>
        <li><code>org.apache.jmeter.protocol.http.util.WSDLHelper</code></li>
        <li>Property <code>soap.document_cache</code></li>
        <li>JAR soap-2.3.1 has been also removed</li>
    </ul>
    </li>
    <li><code>__jexl</code> function (i.e. JEXL 1) has been deprecated and will be removed in next version. See <bugzilla>58903</bugzilla></li>
    <li>Spline Visualizer listener and Distribution Graph listener have been deprecated and will be removed in the next version of JMeter. They do not appear anymore in the menu, if you need them modify <code>not_in_menu</code> property. JMeter team advises not to use them anymore. See <bugzilla>58791</bugzilla></li>
</ul>

<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>57696</bug>HTTP Request : Improve responseMessage when resource download fails. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
    <li><bug>57995</bug>Use FileServer for HTTP Request files. Implemented by Andrey Pokhilko (andrey at blazemeter.com) and contributed by BlazeMeter Ltd.</li>
    <li><bug>58843</bug>Improve the usable space in the HTTP sampler GUI. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58852</bug>Use less memory for <code>PUT</code> requests. The uploaded data will no longer be stored in the Sampler.
        This is the same behaviour as with <code>POST</code> requests.</li>
    <li><bug>58860</bug>HTTP Request : Add automatic variable generation in HTTP parameters table by right click. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58923</bug>normalize URIs when downloading embedded resources.</li>
    <li><bug>59005</bug>HTTP Sampler : Added WebDAV verb (<code>SEARCH</code>).</li>
    <li><bug>59006</bug>Change Default proxy recording port to <code>8888</code> to align it with Recording Template. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
    <li><bug>58099</bug>Performance : Lazily initialize HttpClient SSL Context to avoid its initialization even for HTTP only scenarios</li>
    <li><bug>57577</bug>HttpSampler : Retrieve All Embedded Resources, add property "<code>httpsampler.embedded_resources_use_md5</code>" to only compute md5 and not keep response data. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59023</bug>HttpSampler UI : rework the embedded resources labels and change default number of parallel downloads to <code>6</code>. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59028</bug>Use <code>SystemDefaultDnsResolver</code> singleton. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59036</bug>FormCharSetFinder : Use JSoup instead of deprecated HTMLParser</li>
    <li><bug>59034</bug>Parallel downloads connection management is not realistic. Contributed by Benoit Wiart (benoit dot wiart at gmail.com) and Philippe Mouawad</li>
    <li><bug>59060</bug>HTTP Request GUI : Move File Upload to a new Tab to have more space for parameters and prevent incompatible configuration. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59103</bug>HTTP Request Java Implementation: Change default "<code>http.java.sampler.retries</code>" to align it on HttpClient behaviour and make the name meaningful</li>
    <li><bug>59083</bug>HTTP Request : Make Method field editable so that additional methods (WebDAV) can be added easily</li>
    <li><bug>59118</bug>Add comment in recorded think time by proxy recorder. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
    <li><bug>59116</bug>Add the possibility to setup a prefix to sampler name recorded by proxy. Partly based on a patch by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
    <li><bug>59129</bug>HTTP Request : Simplify GUI with simple/advanced Tabs</li>
    <li><bug>59033</bug>Parallel Download : Rework Parser classes hierarchy to allow plug-in parsers for different mime types</li>
    <li><bug>52073</bug>Embedded Resources Parallel download : Improve performances by avoiding shutdown of ThreadPoolExecutor at each sample. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59190</bug>HTTP(S) Test Script Recorder : Suggested excludes should ignore case. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
    <li><bug>59140</bug>Parallel Download : Add CSS Parsing to extract links from CSS files</li>
    <li><bug>59249</bug>Http Request Defaults : Add "<code>Source address</code>" and "<code>Save responses as MD5</code>"</li>
    <li><bug>59382</bug>More realistic default value for <code>httpsampler.max_redirects</code></li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>57928</bug>Add ability to define protocol (http/https) to AccessLogSampler GUI. Contributed by Jérémie Lesage (jeremie.lesage at jeci.fr)</li>
    <li><bug>58300</bug>Make existing Java Samplers implement Interruptible</li>
    <li><bug>58160</bug>JMS Publisher : reload file content if file name changes. Based partly on a patch contributed by Maxime Chassagneux (maxime.chassagneux at gmail.com)</li>
    <li><bug>58786</bug>JDBC Sampler : Replace Excalibur DataSource by more up to date library commons-dbcp2</li>
    <li><bug>59205</bug>TCP Sampler: Set connect time in sampler when connection is established.</li>
    <li><bug>59381</bug>JMSPublisher : FileChooserDialog filter does not work for browser buttons. Based partly on a patch contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>58406</bug>IfController : Allow use of Nashorn Engine if available for JavaScript evaluation</li>
    <li><bug>58281</bug>RandomOrderController : Improve randomization algorithm performance. Contributed by Graham Russell (jmeter at ham1.co.uk)</li>
    <li><bug>58675</bug>Module controller : error message can easily be missed. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58673</bug>Module controller : when the target element is disabled the default jtree icons are displayed. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58674</bug>Module controller : it should not be possible to select more than one node in the tree. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58680</bug>Module Controller : ui enhancement. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58989</bug>Record controller gui : add a button to clear all the recorded samples. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bug>58041</bug>Tree View Listener should show sample data type</li>
<li><bug>58122</bug>GraphiteBackendListener : Add Server Hits metric. Partly based on a patch from Amol Moye (amol.moye at thomsonreuters.com)</li>
<li><bug>58681</bug>GraphiteBackendListener : Don't send data if no sampling occurred</li>
<li><bug>58776</bug>Summariser should display a more readable duration</li>
<li><bug>58791</bug>Deprecate listeners: Distribution Graph (alpha) and Spline Visualizer</li>
<li><bug>58849</bug>View Results Tree : Add a search panel to the request http view to be able to search in the parameters table. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58857</bug>View Results Tree : the request view http does not allow to resize the parameters table first column. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58955</bug>Request view http does not correctly display http parameters in multipart/form-data. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>55597</bug>View Results Tree: Add a search feature to search in recorded samplers</li>
<li><bug>59102</bug>View Results Tree: Better default value for "<code>view.results.tree.max_size</code>"</li>
<li><bug>59099</bug>Backend listener : Add the possibility to consider samplersList as a Regular Expression. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li><bug>59424</bug>Visualizer : Add "Clear" in popup menu</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
  <li><bug>58303</bug>Change usage of bouncycastle api in SMIMEAssertion to get rid of deprecation warnings.</li>
  <li><bug>58515</bug>New JSON related components : JSON-PATH Extractor and JSON-PATH Renderer in View Results Tree. Donated by Ubik Load Pack (support at ubikloadpack.com).</li>
  <li><bug>58698</bug>Correct parsing of auth-files in HTTP Authorization Manager.</li>
  <li><bug>58756</bug>CookieManager : Cookie Policy select box content must depend on Cookie implementation.</li>
  <li><bug>56358</bug>Cookie manager supports cross port cookies and RFC6265. Thanks to Oleg Kalnichevski (olegk at apache.org)</li>
  <li><bug>58773</bug>TestCacheManager : Add tests for CacheManager that use HttpClient 4</li>
  <li><bug>58742</bug>CompareAssertion : Reset data in TableEditor when switching between different CompareAssertions in gui.
      Based on a patch by Vincent Herilier (vherilier at gmail.com)</li>
  <li><bug>59108</bug>TableEditor: Allow rows to be moved up and down. Contributed by Vincent Herilier (vherilier at gmail.com)</li>
  <li><bug>58848</bug>Argument Panel : when adding an argument (add button or from clipboard) scroll the table to the new line. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
  <li><bug>58865</bug>Allow empty default value in the Regular Expression Extractor. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
  <li><bug>59156</bug>XMLAssertion : drop jdom dependency by using XMLReader</li>
  <li><bug>59328</bug>Better tooltip for Variable Names in CSVDataSet. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
</ul>

<h3>Functions</h3>
<ul>
    <li><bug>58477</bug> __javaScript function : Allow use of Nashorn engine for Java8 and later versions</li>
    <li><bug>58903</bug>Provide __jexl3 function that uses commons-jexl3 and deprecated __jexl (1.1) function</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bug>58736</bug>Add Sample Timeout support</li>
<li><bug>57913</bug>Automated backups of last saved JMX files. Contributed by Benoit Vatan (benoit.vatan at gmail.com)</li>
<li><bug>57988</bug>Shortcuts (<keycombo><keysym>Ctrl</keysym><keysym>1</keysym></keycombo> &hellip;
    <keycombo><keysym>Ctrl</keysym><keysym>9</keysym></keycombo>) to quickly add elements into test plan.
    Implemented by Andrey Pokhilko (andrey at blazemeter.com) and contributed by BlazeMeter Ltd.</li>
<li><bug>58100</bug>Performance enhancements : Replace Random by ThreadLocalRandom.</li>
<li><bug>58677</bug><code>TestSaveService#testLoadAndSave</code> use the wrong set of files. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58689</bug>Add shortcuts to expand / collapse a part of the tree. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58696</bug>Create Ant task to setup Eclipse project</li>
<li><bug>58653</bug>New JMeter Dashboard/Report with Dynamic Graphs, Tables to help analyzing load test results. Developed by Ubik-Ingenierie and contributed by Decathlon S.A. and Ubik-Ingenierie / UbikLoadPack</li>
<li><bug>58699</bug>Workbench changes neither saved nor prompted for saving upon close. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58728</bug>Drop old behavioural properties</li>
<li><bug>57319</bug>Upgrade to HttpClient 4.5.2. With the big help from Oleg Kalnichevski (olegk at apache.org) and Gary Gregory (ggregory at apache.org).</li>
<li><bug>58772</bug>Deprecate MongoDB related elements</li>
<li><bug>58782</bug>ThreadGroup : Improve ergonomy</li>
<li><bug>58165</bug>Show the time elapsed since the start of the load test in GUI mode. Partly based on a contribution from Maxime Chassagneux (maxime.chassagneux at gmail.com)</li>
<li><bug>58814</bug>JVM no longer recognizes option <code>MaxLiveObjectEvacuationRatio</code>; remove from comments</li>
<li><bug>58810</bug>Config Element Counter (and others): Check Boxes Toggle Area Too Big</li>
<li><bug>56554</bug>JSR223 Test Element : Generate compilation cache key automatically. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58911</bug>Header Manager : it should be possible to copy/paste between Header Managers. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58864</bug>Arguments Panel : when moving parameter with up / down, ensure that the selection remains visible. Based on a contribution by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58968</bug>Add a new template to allow to record script with think time included. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li><bug>58978</bug>Settings defaults : Switch "<code>jmeter.save.saveservice.assertion_results_failure_message</code>" to true (after 2.13)</li>
<li><bug>58991</bug>Settings defaults : Switch "<code>jmeter.save.saveservice.print_field_names</code>" to true (after 2.13)</li>
<li><bug>57182</bug>Settings defaults : Switch "<code>jmeter.save.saveservice.idle_time</code>" to true (after 2.13)</li>
<li><bug>58870</bug>TableEditor: minimum size is too small. Contributed by Vincent Herilier (vherilier at gmail.com)</li>
<li><bug>58933</bug>JSyntaxTextArea : Ability to set font.  Contributed by Denis Kirpichenkov (denis.kirpichenkov at gmail.com)</li>
<li><bug>58793</bug>Create developers page explaining how to build and contribute</li>
<li><bug>59046</bug>JMeter Gui Replace controller should keep the name and the selection. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>59038</bug>Deprecate HTTPClient 3.1 related elements</li>
<li><bug>59094</bug>Drop support of old JMX file format</li>
<li><bug>59082</bug>Remove the "<code>TestCompiler.useStaticSet</code>" parameter. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>59093</bug>Option parsing error message can be '<em>lost</em>'</li>
<li><bug>58715</bug>Feature request: Bundle <code>groovy-all</code> with JMeter</li>
<li><bug>58426</bug>Improve display of JMeter on high resolution devices (HiDPI) (part 1 of enhancement)</li>
<li><bug>59105</bug>TableEditor : Add ability to paste rows from clipboard and delete multiple selection. Contributed by Vincent Herilier (vherilier at gmail.com)</li>
<li><bug>59197</bug>Thread Group : it should be possible to only run a single threadgroup or a selection of threadgroups with a popup menu. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>59207</bug>Change the font color of <code>errorsOrFatalsLabel</code> to red when an error occurs. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li><bug>58941</bug>Create a new Starter that runs thread groups in validation mode (<code>1</code> thread only, <code>1</code> iteration, no pause all customizable)</li>
<li><bug>59236</bug>JMeter Properties : Make some cleanup</li>
<li><bug>59240</bug>Introduce a slf4j adapter for Logkit (this allows using slf4j within plugins and core code)</li>
<li><bug>59153</bug>Stop test if CSVDataSet is accessing non-existing file. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li><bug>59320</bug>Better tooltip in GUI with GenericTestBeanCustomizer (CSV Data Set Config, JDBC Connection Configuration, Keystore Configuration, &hellip;) . Based on a patch by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li><bug>59171</bug>Sample Result SaveConfig Dialog is generated in random order</li>
<li><bug>59425</bug>Display error about missing help page inside the help pane</li>
</ul>
<ch_section>Non-functional changes</ch_section>
<ul>
<li>Updated to httpclient, httpmime 4.5.2 (from 4.2.6)</li>
<li>Updated to tika-core and tika-parsers 1.12 (from 1.7)</li>
<li>Updated to commons-math3 3.6.1 (from 3.4.1)</li>
<li>Updated to commons-pool2 2.4.2 (from 2.3)</li>
<li>Updated to commons-lang 3.4 (from 3.3.2)</li>
<li>Updated to rhino-1.7.7.1 (from 1.7R5)</li>
<li>Updated to jodd-3.6.7.jar (from 3.6.4)</li>
<li>Updated to jsoup-1.8.3 (from 1.8.1)</li>
<li>Updated to rsyntaxtextarea-2.5.8 (from 2.5.6)</li>
<li>Updated to slf4j-1.7.12 (from 1.7.10)</li>
<li>Updated to xmlgraphics-commons-2.0.1 (from 1.5)</li>
<li>Updated to commons-collections-3.2.2 (from 3.2.1)</li>
<li>Updated to commons-net 3.4 (from 3.3)</li>
<li>Updated to slf4j 1.7.13 (from 1.7.12)</li>
<li><bug>57981</bug>Require a minimum of Java 7. Partly contributed by Graham Russell (jmeter at ham1.co.uk)</li>
<li><bug>58684</bug>JMeterColor does not need to extend <code>java.awt.Color</code>. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58687</bug>ButtonPanel should die. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58705</bug>Make <code>org.apache.jmeter.testelement.property.MultiProperty</code> iterable. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58729</bug>Cleanup extras folder for maintainability</li>
<li><bug>57110</bug>Fixed spelling+grammar, formatting, removed commented out code etc. Contributed by Graham Russell (jmeter at ham1.co.uk)</li>
<li>Correct instructions on running JMeter in <code>help.txt</code>. Contributed by Pascal Schumacher (pascalschumacher at gmx.net)</li>
<li><bug>58704</bug>Non regression testing : Ant task batchtest fails if tests and run in a non <code>en_EN</code> locale and use a JMX file that uses a CSV DataSet</li>
<li><bug>58897</bug>Improve JUnit Test code. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58949</bug>Cleanup of LDAP code. Based on a patch by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58897</bug>Improve JUnit Test code. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58967</bug>Use JUnit categories to exclude tests that need a gui. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>59003</bug><code>ClutilTestCase</code> <code>testSingleArg8</code> and <code>testSingleArg9</code> are identical</li>
<li><bug>59064</bug>Remove OldSaveService which supported very old Avalon format JTL (result) files</li>
<li><bug>59165</bug>RSyntaxTextArea not compatible with headless testing</li>
<li><bug>59021</bug>Use <code>Double#compare</code> instead of reimplementing it in <code>NumberProperty#compareTo</code></li>
<li><bug>59037</bug>Drop HtmlParserHTMLParser and dependencies on htmlparser and htmllexer</li>
<li><bug>58465</bug>JMS Read response field is badly named and documented</li>
<li><bug>58601</bug>Change check for modification of <code>saveservice.properties</code> from <code>SVN Revision ID</code> to sha1 sum of the file itself.</li>
<li><bug>58726</bug>Remove the <code>jmeterthread.startearlier</code> parameter. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58784</bug>Make <code>JMeterUtils#runSafe</code> sync/async awt invocation configurable and change the visualizers to use the async version.</li>
<li><bug>58790</bug>Issue in CheckDirty and its relation to ActionRouter</li>
<li><bug>59095</bug>Remove UserParameterXMLParser that was deprecated eight years ago. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>59262</bug>Add list of binary jars to LICENSE; use that for unit tests</li>
<li><bug>59353</bug>Add "Deprecated and removed elements" in "Incompatible changes" part in changes.xml. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
    <li><bug>57806</bug>"<code>audio/x-mpegurl</code>" mime type is erroneously considered as binary by ViewResultsTree. Contributed by Ubik Load Pack (support at ubikloadpack.com).</li>
    <li><bug>57858</bug>Don't call <code>sampleEnd</code> twice in HTTPHC4Impl when a <code>RuntimeException</code> or an <code>IOException</code> occurs in the sample method.</li>
    <li><bug>57921</bug>HTTP/1.1 without keep-alive "<code>Connection</code>" response header no longer uses infinite keep-alive.</li>
    <li><bug>57956</bug>The <code>hc.parameters</code> reference in <code>jmeter.properties</code> doesn't work when JMeter is not started in <code>bin</code>.</li>
    <li><bug>58137</bug>JMeter fails to download embedded URLs that contain illegal characters in URL (it does not escape them).</li>
    <li><bug>58201</bug>Make usage of port in the host header more consistent across the different http samplers.</li>
    <li><bug>58453</bug>HTTP Test Script Recorder : <code>NullPointerException</code> when disabling Capture HTTP Headers </li>
    <li><bug>57804</bug>HTTP Request doesn't reuse cached SSL context when using Client Certificates in HTTPS (only fixed for HttpClient4 implementation)</li>
    <li><bug>58800</bug><code>proxy.pause</code> default value: fix documentation</li>
    <li><bug>58844</bug>Buttons enable / disable is broken in the arguments panel. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58861</bug>When clicking on up, down or detail while in a cell of the argument panel, newly added content is lost. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>57935</bug>SSL SNI extension not supported by HttpClient 4.2.6</li>
    <li><bug>59044</bug>Http Sampler : It should not be possible to select the multipart encoding if the method is not <code>POST</code>. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59008</bug>Http Sampler: Infinite recursion SampleResult on frame depth limit reached</li>
    <li><bug>58881</bug>HTTP Request : HTTPHC4Impl shows exception when server uses "<code>deflate</code>" compression</li>
    <li><bug>58583</bug>HTTP client fails to close connection if server misbehaves by not sending "<code>connection: close</code>", violating HTTP RFC 2616 / RFC 7230</li>
    <li><bug>58950</bug><code>NoHttpResponseException</code> when Pause between samplers exceeds keepalive sent by server</li>
    <li><bug>59085</bug>Http file panel : data lost on browse cancellation. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>56141</bug>Application does not behave correctly when using HTTP Recorder. With the help of Dan (java.junkee at yahoo.com)</li>
    <li><bug>59079</bug>"<code>httpsampler.max_redirects</code>" property is not enforced when "<code>Redirect Automatically</code>" is used</li>
    <li><bug>58811</bug>When pasting arguments between http samplers the column "Encode" and "Include Equals" are lost. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
</ul>

<h3>Other Samplers</h3>
<ul>
    <li><bug>58013</bug>Enable all protocols that are enabled on the default SSLContext for usage with the SMTP Sampler.</li>
    <li><bug>58209</bug>JMeter hang when testing javasampler because <code>HashMap.put()</code> is called from multiple threads without sync.</li>
    <li><bug>58301</bug>Use typed methods such as <code>setInt</code>, <code>setDouble</code>, <code>setDate</code>, &hellip; for prepared statement #27</li>
    <li><bug>58851</bug>Add a dependency on hamcrest-core to allow JUnit tests with annotations to work</li>
    <li><bug>58947</bug>Connect metric is wrong when <code>ConnectException</code> occurs</li>
    <li><bug>58980</bug>JMS Subscriber will return successful as long as 1 message is received. Contributed by Harrison Termotto (harrison dot termotto at stonybrook.edu)</li>
    <li><bug>59075</bug>JMS Publisher: <code>NumberFormatException</code> is thrown if priority or expiration field is empty</li>
    <li><bug>59345</bug>SMTPSampler connection leak. Based on a patch by Luca Maragnani (luca dot maragnani at gmail dot com)</li>
</ul>

<h3>Controllers</h3>
<ul>
    <li><bug>58600</bug>Display correct filenames, when they are searched by IncludeController</li>
    <li><bug>58678</bug>Module Controller : limit target element selection. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58714</bug>Module controller : it should not be possible to add a timer as child. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59067</bug>JMeter fails to iterate over Controllers that are children of a TransactionController having "<code>Generate parent sample</code>" checked after an assertion error occurs on a Thread Group with "<code>Start Next Thread Loop</code>". Contributed by Benoit Wiart(benoit dot wiart at gmail.com)</li>
    <li><bug>59076</bug>Test should fail if a module controller cannot find its replacement subtree</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bug>58033</bug>SampleResultConverter should note that it cannot record non-TEXT data</li>
<li><bug>58845</bug>Request http view doesn't display all the parameters. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>58413</bug>ViewResultsTree : Request HTTP Renderer does not show correctly parameters that contain ampersand (&amp;). Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
<li><bug>59172</bug>SampleResult SaveConfig does not allow some fields to be disabled</li>
<li><bug>58329</bug>Response Time Graph and Aggregate Graph : Save graph to file does not take into account the settings changed since last click on Graph. Contributed by David Coppens (d.l.coppens at gmail.com)</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bug>58079</bug>Do not cache HTTP samples that have a <code>Vary</code> header when using a HTTP CacheManager.</li>
<li><bug>58912</bug>Response assertion gui : Deleting more than 1 selected row deletes only one row. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bug>57825</bug>__Random function fails if <code>min</code> value is equal to <code>max</code> value (regression related to <bugzilla>54453</bugzilla>)</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
    <li><bug>54826</bug>Don't fail on long strings in JSON responses when displaying them as JSON in View Results Tree.</li>
    <li><bug>57734</bug>Maven transient dependencies are incorrect for 2.13 (Fixed group ids for Commons Pool and Math)</li>
    <li><bug>57731</bug><code>TESTSTART.MS</code> has always the value of the first Test started in Server mode in NON GUI Distributed testing</li>
    <li><bug>58016</bug> Error type casting using external SSL Provider. Contributed by Kirill Yankov (myworkpostbox at gmail.com)</li>
    <li><bug>58293</bug>SOAP/XML-RPC Sampler file browser generates NullPointerException</li>
    <li><bug>58685</bug>JDatefield : Make the modification of the date with up/down arrow work. Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>58693</bug>Fix "Cannot nest output folder 'jmeter/build/components' inside output folder 'jmeter/build'" when setting up eclipse</li>
    <li><bug>58781</bug>Command line option "<code>-?</code>" shows Unknown option</li>
    <li><bug>57821</bug>Command-line option "<code>-X --remoteexit</code>" doesn't work since 2.13 (regression related to <bugzilla>57500</bugzilla>)</li>
    <li><bug>58795</bug>NPE may occur in <code>GuiPackage#getTestElementCheckSum</code> with some 3<sup>rd</sup> party plugins</li>
    <li><bug>58913</bug>When closing JMeter should not interpret cancel as "<em>destroy my test plan</em>". Contributed by Benoit Wiart (benoit dot wiart at gmail.com)</li>
    <li><bug>59096</bug>Search Feature : Case insensitive search is not really case insensitive</li>
    <li><bug>59193</bug><code>ant run_gui</code> fails with  <code>ClassNotFoundException</code> or <code>IllegalAccessError</code> when accessing classes from dependencies not loaded through <code>Thread.currentThread().getContextClassLoader()</code></li>
    <li><bug>59225</bug>Bad display of running indicator icon. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
    <li><bug>56927</bug>Disable language change during a test</li>
    <li><bug>59391</bug>In Distributed mode, the client exits abnormally at the end of test</li>
    <li><bug>59397</bug><code>build.xml</code> does not make dist.executables executable on Unix systems</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
</p>
<ul>
<li><a href="http://ubikloadpack.com">Ubik Load Pack</a></li>
<li>Benoit Vatan (benoit.vatan at gmail.com)</li>
<li>Jérémie Lesage (jeremie.lesage at jeci.fr)</li>
<li>Kirill Yankov (myworkpostbox at gmail.com)</li>
<li>Amol Moye (amol.moye at thomsonreuters.com)</li>
<li>Samoht-fr (https://github.com/Samoht-fr)</li>
<li>Graham Russell (jmeter at ham1.co.uk)</li>
<li>Maxime Chassagneux (maxime.chassagneux at gmail.com)</li>
<li>Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><a href="http://www.decathlon.com">Decathlon S.A.</a></li>
<li><a href="http://www.ubik-ingenierie.com">Ubik-Ingenierie S.A.S.</a></li>
<li>Oleg Kalnichevski (olegk at apache.org)</li>
<li>Pascal Schumacher (pascalschumacher at gmx.net)</li>
<li>Vincent Herilier (vherilier at gmail.com)</li>
<li>Florent Sabbe (f dot sabbe at ubik-ingenierie.com)</li>
<li>Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li>Harrison Termotto (harrison dot termotto at stonybrook.edu</li>
<li>Denis Kirpichenkov (denis.kirpichenkov at gmail.com)</li>
<li>Gary Gregory (ggregory at apache.org)</li>
<li>David Coppens (d.l.coppens at gmail.com)</li>
<li>Luca Maragnani (luca dot maragnani at gmail dot com)</li>
<li>Philip Helger (http://www.helger.com) for his <a href="https://github.com/phax" target="_blank">CSS Parser</a> and for taking into account our bug reports very rapidly</li>
<li>Irek Pastusiak (the.automatic.tester at gmail.com)</li>
</ul>
<p>We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:</p>
<ul>
<li>purnasatyap at gmail dot com  for the tests and reports on nightly build</li>
<li>Sergey Batalin (sergey_batalin at mail dot ru) for the tests and reports on nightly build</li>
<li>Vincent Daburon (vdaburon at gmail dot com) for the tests and reports on nightly build</li>
</ul>
<p>
Apologies if we have omitted anyone else.
 </p>
 <!--  =================== Known bugs or issues related to JAVA Bugs =================== -->

<ch_section>Known problems and workarounds</ch_section>

<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show <code>0</code> (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that there is a <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6396599 ">bug in Java</a>
on some Linux systems that manifests itself as the following error when running the test cases or JMeter itself:
<source>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</source>
This does not affect JMeter operation. This issue is fixed since Java 7b05.
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
With Oracle Java 7 and Mac Book Pro Retina Display, the JMeter GUI may look blurry.
This is a known Java bug, see Bug <a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8000629" >JDK-8000629</a>.
A workaround is to use a Java 7 update 40 runtime which fixes this issue.
</li>

<li>
You may encounter the following error:
<source>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</source>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like md2WithRSAEncryption) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 7 version u16 (MD2) and version u40 (Certificate size lower than 1024 bits), and Java 8 too.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <code>jdk.certpath.disabledAlgorithms</code> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<source>JAVA_HOME/jre/lib/security/java.security</source>
See  <bugzilla>56357</bugzilla> for details.
</li>

<li>
Under Mac OSX Aggregate Graph will show wrong values due to mirroring effect on numbers.
This is due to a known Java bug, see Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8065373" >JDK-8065373</a>
The fix is to use JDK7_u79, JDK8_u45 or later.
</li>

<li>
View Results Tree may fail to display some HTML code under HTML renderer, see <bugzilla>54586</bugzilla>.
This is due to a known Java bug which fails to parse "<code>px</code>" units in row/col attributes.
See Bug <a href="https://bugs.openjdk.java.net/browse/JDK-8031109" >JDK-8031109</a>
The fix is to use JDK9 b65 or later.
</li>

<li>
JTable selection with keyboard (<keycombo><keysym>SHIFT</keysym><keysym>up/down</keysym></keycombo>) is totally unusable with JAVA 7 on Mac OSX.
This is due to a known Java bug <a href="https://bugs.openjdk.java.net/browse/JDK-8025126" >JDK-8025126</a>
The fix is to use JDK 8 b132 or later.
</li>
</ul>

<!--  =================== 2.13 =================== -->

<h1>Version 2.13</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Known bugs">Known bugs</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<!-- <ch_category>Improvements</ch_category> -->
<!-- <ch_title>Sample title</ch_title>
<p>
<ul>
<li>Sample text</li>
</ul>
</p>

<ch_title>Sample title</ch_title>
<p>Sample text</p>
<figure width="691" height="215" image="changes/2.10/18_https_test_script_recorder.png"></figure>
 -->

<ch_category>New Elements</ch_category>

<ch_title>New Async BackendListener with Graphite implementation</ch_title>
<p>A new Async BackendListener has been added to allow sending result data to a backend listener.
JMeter ships with a GraphiteBackendListenerClient that allows sending results to a <a href="http://graphite.wikidot.com/" target="_blank">Graphite</a> server using Pickle or Plaintext protocols.
You can implement your own backend by extending <a href="./api/org/apache/jmeter/visualizers/backend/AbstractBackendListenerClient.html">AbstractBackendListenerClient</a>. This backend could be
a database (JDBC), a Message Oriented Middleware (JMS), a Webservice or anything you want.
 </p>
<figure width="902" height="293" image="changes/2.13/backend_listener_graphite.png"></figure>
<p>This is the kind of Live Dashboard you can obtain using <a href="http://grafana.org/" target="_blank" >Grafana</a> and <a href="http://influxdb.com/" target="_blank" >InfluxDB</a><br/>
Read <a href="./usermanual/realtime-results.html" >this</a> for more details.</p>
<figure width="1265" height="581" image="grafana_dashboard.png">Grafana dashboard</figure>

<ch_category>Core Improvements</ch_category>

<ch_title>New connect time metric</ch_title>
<p>Starting with this version a new metric called connectTime has been added. It represents the time to establish connection.
By default it is not saved to CSV or XML, to have it saved add to user.properties:<br/>
<code>
jmeter.save.saveservice.connect_time=true
</code>
</p>
<figure width="1058" height="193" image="changes/2.13/connect_time_table.png"></figure>
<figure width="665" height="651" image="changes/2.13/connect_time_tree.png"></figure>

<ch_title>Aggregate Graph and Report</ch_title>
<p>The listeners Aggregate Graph and Aggregate Report previously showed only the 90 percentile (historical behavior), the 95 percentile and the 99 percentile have been added and are customizable.
To setup the percentiles value you want, add to user.properties:<br/>
<code>
aggregate_rpt_pct1=90<br/>
aggregate_rpt_pct2=95<br/>
aggregate_rpt_pct3=99
</code>
<figure width="801" height="681" image="changes/2.13/aggregate_graph_new_percentile.png"></figure>
</p>

<ch_title>HTTP(S) Test Script Recorder</ch_title>
<p>Now component is able to detect authentication schemes and automatically adds a pre-configured HTTP Authorization Manager with the correct Mechanism.
</p>

<ch_title>HTTP Request</ch_title>
<p>The CalDAV verbs (Calendar extensions to WebDAV) REPORT and MKCALENDAR have been added in the HTTP Request sampler.
<figure width="716" height="324" image="changes/2.13/new_methods_caldav.png"></figure>
</p>

<ch_title>JDBC Request</ch_title>
<p>The ResultSet can be get as a object, this allows to handle more easily the results after in BeanShell, JSR223 scripts, &hellip;
<figure width="683" height="628" image="changes/2.13/jdbc_resultset_handler.png"></figure>
</p>

<ch_title>Distributed Testing</ch_title>
<p>To allow better usage of Distributed Testing in the cloud, retry behaviour has been added when starting test on servers.
Read <a href="./usermanual/remote-test.html#retries" >this</a> for more details.
<figure width="669" height="202" image="changes/2.13/distributed_retry.png"></figure>
</p>

<ch_title>Distributed Testing performance</ch_title>
<p>Since JMeter 2.13, Stripping modes (StrippingBatch being the default mode) now also strip responses from SubResults improving consumed network bandwidth.
</p>

<ch_title>Documentation refresh</ch_title>
<p>A new style for website (responsive and more up to date) has been created by Felix Schumacher.
Documentations have been refreshed particularly:
<ul>
    <li><a href="./usermanual/build-ws-test-plan.html">Building a Webservice Test Plan</a></li>
    <li><a href="./usermanual/best-practices.html">Best Practices</a></li>
    <li><a href="./usermanual/boss.html">Help! My boss wants me to load test our application!</a></li>
</ul>
</p>

<ch_category>GUI Improvements</ch_category>

<ch_title>Module Controller</ch_title>
<p>The Module Controller now shows the target controller in a tree view (instead of combo list).
<figure width="306" height="372" image="changes/2.13/module_controller_tree_view.png"></figure>
</p>

<ch_title>Toolbar</ch_title>
<p>JMeter's toolbar has been refreshed for some icons (start, toggle, etc.). Three sizes are now available for the icons: 22x22, 32x32 and 48x48.<br>
The property to define your preferred size is:
<pre>jmeter.toolbar.icons.size=value</pre>
with the value 22x22 (default size), 32x32 or 48x48.</br></p>
<p>The toolbar with 22x22 pixels icons
<figure width="417" height="116" image="changes/2.13/toolbar_22x22.png"></figure>
</p>

<p>The toolbar with 32x32 pixels icons
<figure width="533" height="130" image="changes/2.13/toolbar_32x32.png"></figure>
</p>

<p>The toolbar with 48x48 pixels icons
<figure width="716" height="143" image="changes/2.13/toolbar_48x48.png"></figure>
</p>

<ch_title>HTTP(S) Test Script Recorder</ch_title>
<p>If your Test Plan does not contains a Recording Controller, a new warning message will appear if the
 HTTP(S) Test Script Recorder is configured to send the samples into a Recording Controller.
<figure width="858" height="386" image="changes/2.13/warning_message_proxy.png"></figure>
</p>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>

<ul>
    <li>Since 2.13, Aggregate Graph, Summary Report and Aggregate Report now export percentages to %, before they exported the decimal value which differed from what was shown in GUI</li>
    <li>Third party plugins may be impacted by fix of <bugzilla>57586</bugzilla>, ensure that your subclass of HttpTestSampleGui implements ItemListener if you relied on parent class doing so.</li>
    <li>Report package has been removed, <code>ApacheJMeter_report.jar</code> is not generated anymore as a consequence, see <bugzilla>57269</bugzilla></li>
</ul>

<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
<li><bug>25430</bug>HTTP(S) Test Script Recorder : Make it populate HTTP Authorization Manager. Partly based on a patch from Dzmitry Kashlach (dzmitrykashlach at gmail.com)</li>
<li><bug>57381</bug>HTTP(S) Test Script Recorder should display an error if Target Controller references a Recording Controller and no Recording Controller exists. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bug>57488</bug>Performance : Improve SSLContext reset for Two-way SSL Authentication</li>
<li><bug>57565</bug>SamplerCreator : Add method to allow implementations to add children to created sampler</li>
<li><bug>57606</bug>HTTPSamplerBase#errorResult changes the sample label on exception </li>
<li><bug>57613</bug>HTTP Sampler : Added CalDAV verbs (REPORT, MKCALENDAR). Contributed by Richard Brigham (richard.brigham at teamaol.com)</li>
<li><bug>48799</bug>Add time to establish connection to available sample metrics. Implemented by Andrey Pokhilko (andrey at blazemeter.com) and contributed by BlazeMeter Ltd. and Pieter Ennes (apache.org at spam.ennes.nl)</li>
<li><bug>57500</bug>Introduce retry behavior for distributed testing. Implemented by Andrey Pokhilko and Dzimitry Kashlach and contributed by BlazeMeter Ltd.</li>
</ul>

<h3>Other samplers</h3>
<ul>
    <li><bug>57322</bug>JDBC Test elements: add ResultHandler to deal with ResultSets(cursors) returned by callable statements. Contributed by Yngvi &THORN;&oacute;r Sigurj&oacute;nsson (blitzkopf at gmail.com)</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bug>57561</bug>Module controller UI : Replace combobox by tree. Contributed by Maciej Franek (maciej.franek at gmail.com)</li>
<li><bug>57648</bug>TestFragment should be disabled when created. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bug>55932</bug>Create a Async BackendListener to allow easy plug of new listener (Graphite, JDBC, Console, &hellip;)</li>
<li><bug>57246</bug>BackendListener : Create a Graphite implementation</li>
<li><bug>57217</bug>Aggregate graph and Aggregate report improvements (3 configurable percentiles, same data in both, factor out code). Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bug>57537</bug>BackendListener : Allow implementations to drop samples</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
</ul>

<h3>Functions</h3>
<ul>
<li><bug>54453</bug>Performance enhancements : Replace Random by ThreadLocalRandom in __Random function</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bug>57518</bug>Icons for toolbar with several sizes</li>
<li><bug>57605</bug>When there is an error loading Test Plan, <code>SaveService.loadTree</code> returns <code>null</code> leading to NPE in callers</li>
<li><bug>57269</bug>Drop <code>org.apache.jmeter.reports</code> package</li>
<li><bug>53764</bug>Website : Create a new style for website</li>
</ul>
<ch_section>Non-functional changes</ch_section>
<ul>
<li>Updated to jsoup-1.8.1.jar (from 1.7.3)</li>
<li>Updated to tika-core and tika-parsers 1.7 (from 1.6)</li>
<li>Updated to commons-codec-1.10.jar (from 1.9)</li>
<li>Updated to dnsjava-2.1.7.jar (from 2.1.6)</li>
<li>Updated to jodd-3.6.4.jar (from 3.6.1)</li>
<li>Updated to junit-4.12.jar (from 4.11)</li>
<li>Updated to rhino-1.7R5 (from 1.7R4)</li>
<li>Updated to rsyntaxtextarea-2.5.6 (from 2.5.3)</li>
<li>Updated to slf4j-1.7.10 (from 1.7.5)</li>
<li><bug>57276</bug>RMIC no longer needed since Java 5</li>
<li><bug>57310</bug>Replace <code>System.getProperty("file.separator")</code> with <code>File.separator</code> throughout (Also "<code>path.separator"</code> with <code>File.pathSeparator</code>)</li>
<li><bug>57389</bug>Fix potential NPE in converters</li>
<li><bug>57417</bug>Remove unused method <code>isTemporary</code> from <code>NullProperty</code>. This was a leftover from a refactoring done in 2003.</li>
<li><bug>57418</bug>Remove unused constructor from Workbench</li>
<li><bug>57419</bug>Remove unused interface ModelListener.</li>
<li><bug>57466</bug>IncludeController : Remove an unneeded set creation. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li>Added property <code>loggerpanel.usejsyntaxtext</code> to disable the use of JSyntaxTextArea for the Console Logger (in case of memory or other issues)</li>
<li><bug>57586</bug>HttpTestSampleGui: Remove interface ItemListener implementation</li>
</ul>

 <!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
<li><bug>57385</bug>Getting empty thread name in xml result for HTTP requests with "Follow Redirects" set. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bug>57579</bug>NullPointerException error is raised on main sample if "RETURN_NO_SAMPLE" is used (default) and "Use Cache-Control / Expires header&hellip;" is checked in HTTP Cache Manager</li>
</ul>

<h3>Other Samplers</h3>
<ul>
</ul>

<h3>Controllers</h3>
<ul>
<li><bug>57447</bug>Use only the user listed DNS Servers, when "use custom DNS resolver" option is enabled.</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bug>57262</bug>Aggregate Report, Aggregate Graph and Summary Report export : headers use keys instead of labels</li>
<li><bug>57346</bug>Summariser : The + (difference) reports show wrong elapsed time and throughput</li>
<li><bug>57449</bug>Distributed Testing: Stripped modes do not strip responses from SubResults (affects load tests that use Download of embedded resources). Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bug>57562</bug>View Results Tree CSS/JQuery Tester : Nothing happens when there is an error in syntax and an exception occurs in jmeter.log</li>
<li><bug>57514</bug>Aggregate Graph, Summary Report and Aggregate Report show wrong percentage reporting in saved file</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bug>57607</bug>Constant Throughput Timer : Wrong throughput computed in shared modes due to rounding error </li>
</ul>
<!--
<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>
 -->
<h3>General</h3>
<ul>
<li><bug>57365</bug>Selected LAF is not correctly setup due to call of <code>UIManager.setLookAndFeel</code> too late. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bug>57364</bug>Options &lt; Look And Feel does not update all windows LAF. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bug>57394</bug>When constructing an instance with ClassTools#construct(String, int) the integer was ignored and the default constructor was used instead.</li>
<li><bug>57440</bug>OutOfMemoryError after introduction of JSyntaxTextArea in LoggerPanel due to disableUndo not being taken into account.</li>
<li><bug>57569</bug>FileServer.reserveFile - inconsistent behaviour when hasHeader is true</li>
<li><bug>57555</bug>Cannot use JMeter 2.12 as a maven dependency. Contributed by Pascal Schumacher (pascal.schumacher at t-systems.com)</li>
<li><bug>57608</bug>Fix start script compatibility with old Unix shells, e.g. on Solaris</li>
</ul>

 <!--  =================== Thanks =================== -->

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
<ul>
<li><a href="http://ubikloadpack.com">Ubik Load Pack</a></li>
<li>Yngvi &THORN;&oacute;r Sigurj&oacute;nsson (blitzkopf at gmail.com)</li>
<li>Dzmitry Kashlach (dzmitrykashlach at gmail.com)</li>
<li><a href="http://blazemeter.com">BlazeMeter Ltd.</a></li>
<li>Benoit Wiart (benoit.wiart at gmail.com)</li>
<li>Pascal Schumacher (pascal.schumacher at t-systems.com)</li>
<li>Maciej Franek (maciej.franek at gmail.com)</li>
<li>Richard Brigham (richard.brigham at teamaol.com)</li>
<li>Pieter Ennes (apache.org at spam.ennes.nl)</li>
</ul>

<br/>
We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:
<ul>
<li>Chaitanya Bhatt (bhatt.chaitanya at gmail.com) for his thorough testing of new BackendListener and Graphite Client implementation.</li>
<li>Marcelo Jara (marcelojara at hotmail.com) for his clear report on <bugzilla>57607</bugzilla>.</li>
</ul>

Apologies if we have omitted anyone else.
 </p>
 <!--  =================== Known bugs =================== -->

<ch_section>Known bugs</ch_section>

<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show 0 (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that there is a <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6396599 ">bug in Java</a>
on some Linux systems that manifests itself as the following error when running the test cases or JMeter itself:
<pre>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</pre>
This does not affect JMeter operation. This issue is fixed since Java 7b05.
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
With Java 1.6 and Gnome 3 on Linux systems, the JMeter menu may not work correctly (shift between mouse's click and the menu).
This is a known Java bug (see  <bugzilla>54477</bugzilla>).
A workaround is to use a Java 7 runtime (OpenJDK or Oracle JDK).
</li>

<li>
With Oracle Java 7 and Mac Book Pro Retina Display, the JMeter GUI may look blurry.
This is a known Java bug, see Bug <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=8000629" >JDK-8000629</a>.
A workaround is to use a Java 7 update 40 runtime which fixes this issue.
</li>

<li>
You may encounter the following error: <i>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</i>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like md2WithRSAEncryption) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 7 version u16 (MD2) and version u40 (Certificate size lower than 1024 bits), and Java 8 too.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <b>jdk.certpath.disabledAlgorithms</b> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<pre>JAVA_HOME/jre/lib/security/java.security</pre>
See  <bugzilla>56357</bugzilla> for details.
</li>

</ul>

<!--  =================== 2.12 =================== -->

<h1>Version 2.12</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Known bugs">Known bugs</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<!-- <ch_category>Improvements</ch_category> -->
<!-- <ch_title>Sample title</ch_title>
<p>
<ul>
<li>Sample text</li>
</ul>
</p>

<ch_title>Sample title</ch_title>
<p>Sample text</p>
<figure width="691" height="215" image="changes/2.10/18_https_test_script_recorder.png"></figure>
 -->

<ch_title>Java 8 support</ch_title>
<p>Now, JMeter 2.12 is compliant with Java 8.</p>

<ch_category>New Elements</ch_category>
<ch_title>Critical Section Controller</ch_title>
<p>The Critical Section Controller allow to serialize the execution of a section in your tree.
Only one instance of the section will be executed at the same time during the test.</p>
<figure width="683" height="240" image="changes/2.12/01_critical_section_controller.png"></figure>

<ch_title>DNS Cache Manager</ch_title>
<p>The new configuration element <b>DNS Cache Manager</b>(see <bugzilla>56841</bugzilla>) improves the testing of:
<ul>
<li>CDN (Content Delivery Network)</li>
<li>DNS load balancing.</li>
<li>Load Balancers like Amazon Elastic Load Balancer</li>
</ul>
</p>
<figure width="573" height="359" image="changes/2.12/02_dns_cache_manager.png"></figure>
<ch_category>Core Improvements</ch_category>

<ch_title>Smarter Recording of Http Test Plans</ch_title>
<p>Test Script Recorder has been improved in many ways</p>
<ul>
    <li>Better matching of Variables in Requests, making Test Script Recorder variabilize your sampler during recording more versatile</li>
    <li>Ability to filter from View Results Tree the Samples that are excluded from recording, this lets you concentrate on recorded Samplers analysis and not bother with useless Sample Results
    <figure width="1094" height="647" image="changes/2.12/14_recorder_filter.png"></figure>
    </li>
    <li>Better defaults for recording, since this version Recorder will number created Samplers letting you find them much easily in View Results Tree.
    Grouping of Samplers under Transaction Controller will be smarter making all requests emitted by a web page be children as new Transaction Controller</li>
</ul>

<ch_title>Support of Webdav requests</ch_title>
<p>You can now test against WebDav server using HttpClient4 Implementation of Http Request</p>
<figure width="989" height="406" image="changes/2.12/13_webdav.png"></figure>

<ch_title>Better handling of embedded resources</ch_title>
<p>When download embedded resources is checked, JMeter now uses User Agent header to download or not resources embedded within conditional comments as per <a href="http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx" target="_blank">About conditional comments</a>.</p>

<ch_title>Ability to customize Cache Manager (Browser cache simulation) handling of cached resources</ch_title>
<p>You can now configure the behaviour of JMeter when a resource is found in Cache, this can be controlled with <i>cache_manager.cached_resource_mode</i> property</p>
<figure width="1024" height="314" image="changes/2.12/12_cache_resource_mode.png"></figure>


<ch_title>JMS Publisher / JMS Point-to-Point</ch_title>
<p> Add JMSPriority and JMSExpiration fields for these samplers.</p>
<figure width="877" height="314" image="changes/2.12/04_jms_publisher.png"></figure>

<figure width="877" height="293" image="changes/2.12/05_jms_point_to_point.png"></figure>

<ch_title>Mail Reader Sampler</ch_title>
<p>You can now specify the number of messages that want you retrieve (before all messages were retrieved).
In addition, you can fetch only the message header now.</p>
<figure width="814" height="416" image="changes/2.12/03_mail_reader_sampler.png"></figure>

<ch_title>SMTP Sampler</ch_title>
<p>Adding the Connection timeout and the Read timeout to the <b>SMTP Sampler.</b></p>
<figure width="796" height="192" image="changes/2.12/06_smtp_sampler.png"></figure>

<ch_title>Synchronizing Timer </ch_title>
<p>Adding a timeout to define the maximum time to waiting of the group of virtual users.</p>
<figure width="546" height="144" image="changes/2.12/09_synchronizing_timer.png"></figure>

<ch_title>Performance improvements</ch_title>
<p>A big improvement in performances of Functions has been made by lifting useless synchronization. It concerns all functions except __StringFromFile, __XPath and __BeanShell, see <bugzilla>57114</bugzilla></p>
<p>__jexl2 performances have been improved to avoid contention point, see <bugzilla>56708</bugzilla></p>

<ch_category>GUI Improvements</ch_category>

<ch_title>Undo/Redo support</ch_title>
<p>Undo / Redo has been introduced and allows user to undo/redo changes made on Test Plan Tree. This feature (ALPHA MODE) is disabled by default, to enable it set property <b>undo.history.size=25</b> </p>
<figure width="1024" height="56" image="changes/2.12/10_undo_redo.png"></figure>

<ch_title>View Results Tree</ch_title>
<p>Improve the ergonomics of View Results Tree by changing placement of Renderers and allowing custom ordering
(with the property <i>view.results.tree.renderers_order</i>).</p>
<figure width="900" height="329" image="changes/2.12/07_view_results_tree.png"></figure>

<ch_title>Response Time Graph</ch_title>
<p>Adding the ability for the <b>Response Time Graph</b> listener to save/restore format its settings in/from the jmx file.</p>
<figure width="997" height="574" image="changes/2.12/08_response_time_graph.png"></figure>

<ch_title>Log Viewer</ch_title>
<p>Starting with this version, the last lines of JMeter's log file (jmeter.log) can be viewed directly in GUI by clicking on Warning icon in the upper right corner.
This will unfold the Log Viewer panel and show logs.</p>
<figure width="1024" height="437" image="changes/2.12/11_log_viewer.png"></figure>

<ch_title>File Opening</ch_title>
<p>Now, "Open File dialog" uses last opened file folder as start folder, see <bugzilla>52707</bugzilla></p>
<!--  =================== Known bugs =================== -->


<ch_section>Known bugs</ch_section>

<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show 0 (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that there is a <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6396599 ">bug in Java</a>
on some Linux systems that manifests itself as the following error when running the test cases or JMeter itself:
<pre>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</pre>
This does not affect JMeter operation. This issue is fixed since Java 7b05.
</li>

<li>
Note that under some windows systems you may have this WARNING:
<source>
java.util.prefs.WindowsPreferences
WARNING: Could not open/create prefs root node Software\JavaSoft\Prefs at root 0
x80000002. Windows RegCreateKeyEx(&hellip;) returned error code 5.
</source>
The fix is to run JMeter as Administrator, it will create the registry key for you, then you can restart JMeter as a normal user and you won't have the warning anymore.
</li>

<li>
With Java 1.6 and Gnome 3 on Linux systems, the JMeter menu may not work correctly (shift between mouse's click and the menu).
This is a known Java bug (see  <bugzilla>54477 </bugzilla>).
A workaround is to use a Java 7 runtime (OpenJDK or Oracle JDK).
</li>

<li>
With Oracle Java 7 and Mac Book Pro Retina Display, the JMeter GUI may look blurry.
This is a known Java bug, see Bug <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=8000629" >JDK-8000629</a>.
A workaround is to use a Java 7 update 40 runtime which fixes this issue.
</li>

<li>
You may encounter the following error: <i>java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</i>
 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like md2WithRSAEncryption) or with a SSL certificate with a size lower than 1024 bits.
This error is related to increased security in Java 7 version u16 (MD2) and version u40 (Certificate size lower than 1024 bits), and Java 8 too.
<br></br>
To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing
the Java <b>jdk.certpath.disabledAlgorithms</b> property. Remove the MD2 value or the constraint on size, depending on your case.
<br></br>
This property is in this file:
<pre>JAVA_HOME/jre/lib/security/java.security</pre>
See  <bugzilla>56357</bugzilla> for details.
</li>

</ul>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>

<ul>
<li>Since JMeter 2.12, active threads in all thread groups and active threads in current thread group are saved by default to CSV or XML results, see <bugzilla>57025</bugzilla>.
This is usually the expected behaviour as you want to have the number of running threads during the test. But if you want to revert to previous behaviour, set property <b>jmeter.save.saveservice.thread_counts=false</b></li>
<li>Since JMeter 2.12, Mail Reader Sampler will show 1 for number of samples instead of number of messages retrieved, see <bugzilla>56539</bugzilla></li>
<li>Since JMeter 2.12, when using Cache Manager, if resource is found in cache no SampleResult will be created, in previous version a SampleResult with empty content and 204 return code was returned, see <bugzilla>54778</bugzilla>.
You can choose between different ways to handle this case, see <code>cache_manager.cached_resource_mode</code> in <code>jmeter.properties</code>.</li>
<li>Since JMeter 2.12, Log Viewer will no more clear logs when closed and will have logs available even if closed. See <bugzilla>56920</bugzilla>. Read <a href="./usermanual/hints_and_tips.html#debug_logging">Hints and Tips &gt; Enabling Debug logging</a>
for details on configuring this component.</li>
</ul>

<!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
<li><bugzilla>55998</bugzilla> - HTTP recording – Replacing port value by user defined variable does not work</li>
<li><bugzilla>56178</bugzilla> - keytool error: Invalid escaped character in AVA: - some characters must be escaped</li>
<li><bugzilla>56222</bugzilla> - NPE if jmeter.httpclient.strict_rfc2616=true and location is not absolute</li>
<li><bugzilla>56263</bugzilla> - DefaultSamplerCreator should set BrowserCompatible Multipart true</li>
<li><bugzilla>56231</bugzilla> - Move redirect location processing from HC3/HC4 samplers to HTTPSamplerBase#followRedirects()</li>
<li><bugzilla>56207</bugzilla> - URLs get encoded on redirects in HC3.1 &amp; HC4 samplers</li>
<li><bugzilla>56303</bugzilla> - The width of target controller's combo list should be set to the current panel size, not on label size of the controllers</li>
<li><bugzilla>54778</bugzilla> - HTTP Sampler should not return 204 when resource is found in Cache, make it configurable with new property cache_manager.cached_resource_mode</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>55977</bugzilla> - JDBC pool keepalive flooding</li>
<li><bugzilla>55999</bugzilla> - Scroll bar on jms point-to-point sampler does not work when content exceeds display</li>
<li><bugzilla>56198</bugzilla> - JMSSampler : NullPointerException is thrown when JNDI underlying implementation of JMS provider does not comply with <code>Context.getEnvironment</code> contract</li>
<li><bugzilla>56428</bugzilla> - MailReaderSampler - should it use mail.pop3s.* properties?</li>
<li><bugzilla>46932</bugzilla> - Alias given in select statement is not used as column header in response data for a JDBC request. Based on report and analysis of Nicola Ambrosetti</li>
<li><bugzilla>56539</bugzilla> - Mail reader sampler: When Number of messages to retrieve is superior to 1, Number of samples should only show 1 not the number of messages retrieved</li>
<li><bugzilla>56809</bugzilla> - JMSSampler closes InitialContext too early. Contributed by Bradford Hovinen (hovinen at gmail.com)</li>
<li><bugzilla>56761</bugzilla> - JMeter tries to stop already stopped JMS connection and displays "The connection is closed"</li>
<li><bugzilla>57068</bugzilla> - No error thrown when negative duration is entered in Test Action</li>
<li><bugzilla>57078</bugzilla> - LagartoBasedHTMLParser fails to parse page that contains input with no type</li>
<li><bugzilla>57183</bugzilla> - JMSSampler: For input string: "" java.lang.NumberFormatException (for Expiration or Priority fields)</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>56243</bugzilla> - Foreach works incorrectly with indexes on subsequent iterations </li>
<li><bugzilla>56276</bugzilla> - Loop controller becomes broken once loop count evaluates to zero </li>
<li><bugzilla>56160</bugzilla> - StackOverflowError when using WhileController within IfController</li>
<li><bugzilla>56811</bugzilla> - "Start Next Thread Loop" in Result Status Action Handler or on Thread Group and "Go to next Loop iteration" in Test Action behave incorrectly with TransactionController that has "Generate Parent Sampler" checked</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>56706</bugzilla> - SampleResult#getResponseDataAsString() does not use encoding in response body impacting PostProcessors and ViewResultsTree. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>57052</bugzilla> - ArithmeticException: / by zero when sampleCount is equal to 0</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>56162</bugzilla> -  HTTP Cache Manager should not cache PUT/POST etc.</li>
<li><bugzilla>56227</bugzilla> - AssertionGUI : NPE in assertion on mouse selection</li>
<li><bugzilla>41319</bugzilla> - URLRewritingModifier : Allow Parameter value to be url encoded</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
<li><bugzilla>56111</bugzilla> - "comments" in german translation is not correct</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>56059</bugzilla> - Older TestBeans incompatible with 2.11 when using TextAreaEditor</li>
<li><bugzilla>56080</bugzilla> - Conversion error com.thoughtworks.xstream.converters.ConversionException with Java 8 Early Access Build</li>
<li><bugzilla>56182</bugzilla> - Can't trigger bsh script using bshclient.jar; socket is closed unexpectedly </li>
<li><bugzilla>56360</bugzilla> - HashTree and ListedHashTree fail to compile with Java 8</li>
<li><bugzilla>56419</bugzilla> - JMeter silently fails to save results</li>
<li><bugzilla>56662</bugzilla> - Save as xml in a listener is not remembered</li>
<li><bugzilla>56367</bugzilla> - JMeter 2.11 on maven central triggers a not existing dependency rsyntaxtextarea 2.5.1, upgrade to 2.5.3</li>
<li><bugzilla>56743</bugzilla> - Wrong mailing list archives on mail2.xml. Contributed by Felix Schumacher (felix.schumacher at internetallee.de)</li>
<li><bugzilla>56763</bugzilla> - Removing the Oracle icons, not used by JMeter (and missing license)</li>
<li><bugzilla>54100</bugzilla> - Switching languages fails to preserve toolbar button states (enabled/disabled)</li>
<li><bugzilla>54648</bugzilla> - JMeter GUI on OS X crashes when using CMD+C (keyboard shortcut or UI menu entry) on an element from the tree</li>
<li><bugzilla>56962</bugzilla> - JMS GUIs should disable all fields affected by jndi.properties checkbox</li>
<li><bugzilla>57061</bugzilla> - Save as Test Fragment fails to clone deeply selected node. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>57075</bugzilla> - BeanInfoSupport.MULTILINE attribute is not processed</li>
<li><bugzilla>57076</bugzilla> - BooleanPropertyEditor#getAsText() must return a value that is in getTags()</li>
<li><bugzilla>57088</bugzilla> - NPE in ResultCollector.testEnded</li>
</ul>

<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
<li><bugzilla>55959</bugzilla> - Improve error message when Test Script Recorder fails due to I/O problem</li>
<li><bugzilla>52013</bugzilla> - Test Script Recorder's Child View Results Tree does not take into account Test Script Recorder excluded/included URLs. Based on report and analysis of James Liang</li>
<li><bugzilla>56119</bugzilla> - File uploads fail every other attempt using timers. Enable idle timeouts for servers that don't send Keep-Alive headers.</li>
<li><bugzilla>56272</bugzilla> - MirrorServer should support query parameters for status and redirects</li>
<li><bugzilla>56772</bugzilla> - Handle IE Conditional comments when parsing embedded resources</li>
<li><bugzilla>57026</bugzilla> - HTTP(S) Test Script Recorder : Better default settings. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>57107</bugzilla> - Patch proposal: Add DAV verbs to HTTP Sampler. Contributed by Philippe Jung (apache at famille-jung.fr)</li>
<li><bugzilla>56357</bugzilla> - Certificates does not conform to algorithm constraints: Adding a note to indicate how to remove of the Java installation these new security constraints</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>56033</bugzilla> - Add Connection timeout and Read timeout to SMTP Sampler</li>
<li><bugzilla>56429</bugzilla> - MailReaderSampler - no need to fetch all Messages if not all wanted</li>
<li><bugzilla>56427</bugzilla> - MailReaderSampler enhancement: read message header only</li>
<li><bugzilla>56510</bugzilla> - JMS Publisher/Point to Point: Add JMSPriority and JMSExpiration</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>56728</bugzilla> - New Critical Section Controller to serialize blocks of a Test. Based partly on a patch contributed by Mikhail Epikhin(epihin-m at yandex.ru)</li>
<li><bugzilla>57145</bugzilla> - RandomController : Use ThreadLocalRandom instead of Random for better performances</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>56228</bugzilla> - View Results Tree : Improve ergonomy by changing placement of Renderers and allowing custom ordering</li>
<li><bugzilla>56349</bugzilla> - "summary" is a bad name for a Generate Summary Results component, documentation clarified</li>
<li><bugzilla>56769</bugzilla> - Adds the ability for the Response Time Graph listener to save/restore format settings in/from the jmx file</li>
<li><bugzilla>57025</bugzilla> - SaveService : Better defaults, save thread counts by default</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>56691</bugzilla> - Synchronizing Timer : Add timeout on waiting</li>
<li><bugzilla>56701</bugzilla> - HTTP Authorization Manager/ Kerberos Authentication: add port to SPN when server port is neither 80 nor 443. Based on patches from Dan Haughey (dan.haughey at swinton.co.uk) and Felix Schumacher (felix.schumacher at internetallee.de)</li>
<li><bugzilla>56841</bugzilla> - New configuration element: DNS Cache Manager to improve the testing of CDN. Based on patch from Dzmitry Kashlach (dzmitrykashlach at gmail.com), and contributed by BlazeMeter Ltd.</li>
<li><bugzilla>52061</bugzilla> - Allow access to Request Headers in Regex Extractor. Based on patch from Dzmitry Kashlach (dzmitrykashlach at gmail.com), and contributed by BlazeMeter Ltd.</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>56708</bugzilla> - __jexl2 doesn't scale with multiple CPU cores. Based on analysis and patch contributed by Mikhail Epikhin(epihin-m at yandex.ru)</li>
<li><bugzilla>57114</bugzilla> - Performance : Functions that only have values as instance variable should not synchronize execute. Based on analysis by Ubik Load Pack support and Vladimir Sitnikov, patch contributed by Vladimir Sitnikov (sitnikov.vladimir at gmail.com)</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>21695</bugzilla> - Unix jmeter start script assumes it is on PATH, not a link</li>
<li><bugzilla>56292</bugzilla> - Add the check of the Java's version in startup files and disable some options when is Java v8 engine</li>
<li><bugzilla>56298</bugzilla> - JSR223 language display does not show which engine will be used</li>
<li><bugzilla>56455</bugzilla> - Batch files: drop support for non-NT Windows shell scripts</li>
<li><bugzilla>52707</bugzilla> - Make Open File dialog use last opened file folder as start folder. Based on patch from Dzmitry Kashlach (dzmitrykashlach at gmail.com), and contributed by BlazeMeter Ltd.</li>
<li><bugzilla>56807</bugzilla> - Ability to force flush of ResultCollector file. Contributed by Andrey Pohilko (apc4 at ya.ru)</li>
<li><bugzilla>56921</bugzilla> - Templates : Improve Recording template to ignore embedded resources case and URL parameters. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>42248</bugzilla> - Undo-redo support on Test Plan tree modification. Developed by Andrey Pohilko (apc4 at ya.ru) and contributed by BlazeMeter Ltd. Additional contribution by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>56920</bugzilla> - LogViewer : Make it receive all log events even when it is closed. Contributed by Ubik Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>57083</bugzilla> - simplified the CachedResourceMode enum. Contributed by Graham Russel (graham at ham1.co.uk)</li>
<li><bugzilla>57082</bugzilla> - ComboStringEditor : Added hashCode to an inner class which overwrote equals. Contributed by Graham Russel (graham at ham1.co.uk)</li>
<li><bugzilla>57081</bugzilla> - Updating checkstyle to only check for tabs in java, xml, xsd, dtd, htm, html and txt files (not images!). Contributed by Graham Russell (graham at ham1.co.uk)</li>
<li><bugzilla>56178</bugzilla> - Really replace backslashes in user name before generating proxy certificate. Contributed by Graham Russel (graham at ham1.co.uk)</li>
<li><bugzilla>57084</bugzilla> - Close socket after usage in BeanShellClient. Contributed by Graham Russel (graham at ham1.co.uk)</li>
</ul>
<ch_section>Non-functional changes</ch_section>
<ul>
<li><bugzilla>57117</bugzilla> - Increase the default cipher for HTTPS Test Script Recorder from SSLv3 to TLS</li>
<li>Updated to commons-lang3 3.3.2 (from 3.1)</li>
<li>Updated to commons-codec 1.9 (from 1.8)</li>
<li>Updated to commons-logging 1.2 (from 1.1.3)</li>
<li>Updated to tika 1.6 (from 1.4)</li>
<li>Updated to xercesImpl 2.11.0 (from 2.9.1)</li>
<li>Updated to xml-apis 1.4.01 (from 1.3.04)</li>
<li>Updated to xstream 1.4.8 (from 1.4.4)</li>
<li>Updated to jodd 3.6.1 (from 3.4.10)</li>
<li>Updated to rsyntaxtextarea 2.5.3 (from 2.5.1)</li>
<li>Updated xalan and serializer to 2.7.2 (from 2.7.1)</li>
<li>Updated to jsoup-1.8.1.jar (from 1.7.3)</li>
</ul>

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
<ul>
<li>James Liang (jliang at andera.com)</li>
<li>Emmanuel Bourg (ebourg at apache.org)</li>
<li>Nicola Ambrosetti (ambrosetti.nicola at gmail.com)</li>
<li><a href="http://ubikloadpack.com">Ubik Load Pack</a></li>
<li>Mikhail Epikhin (epihin-m at yandex.ru)</li>
<li>Dan Haughey (dan.haughey at swinton.co.uk)</li>
<li>Felix Schumacher (felix.schumacher at internetallee.de)</li>
<li>Dzmitry Kashlach (dzmitrykashlach at gmail.com)</li>
<li>Andrey Pohilko (apc4 at ya.ru)</li>
<li>Bradford Hovinen (hovinen at gmail.com)</li>
<li><a href="http://blazemeter.com">BlazeMeter Ltd.</a></li>
<li>Graham Russell (graham at ham1.co.uk)</li>
<li>Philippe Jung (apache at famille-jung.fr)</li>
<li>Vladimir Sitnikov (sitnikov.vladimir at gmail.com)</li>
</ul>

<br/>
We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:
<ul>
<li>Oliver LLoyd (email at oliverlloyd.com) for his help on <bugzilla>56119</bugzilla></li>
<li>Vladimir Ryabtsev (greatvovan at gmail.com) for his help on <bugzilla>56243</bugzilla> and <bugzilla>56276</bugzilla></li>
<li>Adrian Speteanu (asp.adieu at gmail.com) and Matt Kilbride (matt.kilbride at gmail.com) for their feedback and tests on <bugzilla>54648</bugzilla></li>
<li>Shmuel Krakower (shmulikk at gmail.com) for his tests and reports on Undo/Redo feature</li>
</ul>

Apologies if we have omitted anyone else.
 </p>

<!--  =================== 2.11 =================== -->

<h1>Version 2.11</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Known bugs">Known bugs</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<!-- <ch_category>Improvements</ch_category> -->
<ch_title>HTTP(S) Test Script Recorder improvements</ch_title>
<p>
Following improvements have been made since major changes introduced in JMeter 2.10 on HTTP(S) Test Script Recorder:
<ul>
<li>Better detection of missing or invalid configuration of keytool utility</li>
<li>New system property <code>keytool.directory</code> (see <code>system.properties</code>) lets you configure directory containing keytool in case on non-standard installation</li>
</ul>
</p>

<ch_title>JMS Publisher/Point to Point : Add ability to set typed values in JMS header properties</ch_title>
<p>In the samplers JMS Publisher and JMS Point-to-Point, you can now set up the class of values for the JMS header properties. Previously only String was possible.</p>
<p>
<figure width="928" height="796" image="changes/2.11/01_jms_properties_typed_values.png"></figure>
</p>

<ch_title>View Results Tree : Add an XPath Tester </ch_title>
<p>In View Results Tree listener, a new XPath tester can be used to test XPATH expressions.</p>
<p>
<figure width="990" height="765" image="changes/2.11/03_xpath_tester.png"></figure>
</p>

<ch_title>Ability to choose the client alias for the cert key in JsseSslManager such that Mutual SSL auth testing can be made more flexible</ch_title>
<p>When testing client based certificate authentications you have now better control on certificate you use through a new field "Variable name holding certificate alias", this
field lets you select the certificate you want to send to server to authenticate. You can use a CSV Data Set as a holder for the variable value.</p>
<p>
<figure width="471" height="189" image="changes/2.11/07_keystore_config.png"></figure>
</p>

<ch_title>Add a "Save as Test Fragment" option </ch_title>
<p>In the file menu, a new option allow to save a group of elements as a Test fragment.</p>
<p>
<figure width="295" height="242" image="changes/2.11/05_save_as_fragement.png"></figure>
</p>

<ch_title>Summariser is be enabled by default in Non GUI mode</ch_title>
<p>When you run JMeter from command line, now JMeter displays some statistics from the Summariser mode.</p>
<p>
<figure width="1287" height="386" image="changes/2.11/06_summariser.png"></figure>
</p>

<ch_title>Transaction Controller:Change default property "Include duration of timer&hellip;" for newly created element</ch_title>
<p>Starting from 2.11, Transaction Controller is configured by default to exclude processing time of pre/post processors as long as timers pause.</p>
<p>
<figure width="628" height="140" image="changes/2.11/02_transaction_controller.png"></figure>
</p>

<!-- <ch_title>Sample title</ch_title>
<p>
<ul>
<li>Sample text</li>
</ul>
</p>

<ch_title>Sample title</ch_title>
<p>Sample text</p>
<figure width="691" height="215" image="changes/2.10/18_https_test_script_recorder.png"></figure>
 -->


<!--  =================== Known bugs =================== -->


<ch_section>Known bugs</ch_section>

<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>Listeners don't show iteration counts when a If Controller has a condition which is always false from the first iteration (see <bugzilla>52496</bugzilla>).
A workaround is to add a sampler at the same level as (or superior to) the If Controller.
For example a Test Action sampler with 0 wait time (which doesn't generate a sample),
or a Debug Sampler with all fields set to False (to reduce the sample size).
</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
the total number of threads only applies to a locally run test, otherwise it will show 0 (see <bugzilla>55510</bugzilla>).
</li>

<li>
Note that there is a <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6396599 ">bug in Java</a>
on some Linux systems that manifests itself as the following error when running the test cases or JMeter itself:
<pre>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</pre>
This does not affect JMeter operation. This issue is fixed since Java 7b05.
</li>

<li>
With Java 1.6 and Gnome 3 on Linux systems, the JMeter menu may not work correctly (shift between mouse's click and the menu).
This is a known Java bug (see  <bugzilla>54477 </bugzilla>).
A workaround is to use a Java 7 runtime (OpenJDK or Oracle JDK).
</li>

<li>
With Oracle Java 7 and Mac Book Pro Retina Display, the JMeter GUI may look blurry.
This is a known Java bug, see Bug <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=8000629" >JDK-8000629</a>.
A workaround is to use a Java 7 update 40 runtime which fixes this issue.
</li>
</ul>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>

<ul>
<li>When creating a new Transaction Controller, property "Include duration of timer and pre-post processors in generated sample" will be unchecked starting from version 2.11</li>
<li>In Non GUI mode, since 2.11 summariser is enabled with a 30 seconds frequency</li>
<li>JMeter is more lenient with redirect handling and relaxes on RFC2616 by allowing relative locations. See property "<code>jmeter.httpclient.strict_rfc2616</code>" in <code>jmeter.properties</code> to change this behaviour, see <bugzilla>55717</bugzilla></li>
<li>When creating a new Response Assertion, property "Pattern Matching Rules" now defaults to Substring starting from version 2.11</li>
</ul>

<!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Test Script Recorder</h3>
<ul>
<li><bugzilla>55815</bugzilla> - Proxy#getDomainMatch does not handle wildcards correctly</li>
<li><bugzilla>55717</bugzilla> - Bad handling of Redirect when URLs are in relative format by HttpClient4 and HttpClient3.1</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>55685</bugzilla> - OS Sampler: timeout option don't save and restore correctly value and don't init correctly timeout</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>55816</bugzilla> - Transaction Controller with "Include duration of timer&hellip;" unchecked does not ignore processing time of last child sampler</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>55826</bugzilla> - Unsynchronised concurrent accesses to list in field RespTimeGraphVisualizer.internalList </li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>55694</bugzilla> - Assertions and Extractors : Avoid NullPointerException when scope is variable and variable is missing</li>
<li><bugzilla>55721</bugzilla> - HTTP Cache Manager - no-store directive is wrongly interpreted</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>55871</bugzilla> - Wrong result with intSum() function when a space character is present before/after the number. Contributed by Milamber based on a proposal by James Liang.</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>55739</bugzilla> - Remote Test : Total threads in GUI mode shows invalid total number of threads</li>
</ul>

<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Proxy</h3>
<ul>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>55589</bugzilla> - JMS Publisher/Point to Point : Add ability to set typed values in JMS header properties.</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>55854</bugzilla> - Transaction Controller:Change default property "Include duration of timer&hellip;" for newly created element</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>55610</bugzilla> - View Results Tree : Add an XPath Tester</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>55908</bugzilla> - Response assertion : Change Pattern Matching Rules default to Substring on creation for better performances</li>
<li><bugzilla>54977</bugzilla> - Ability to choose the client alias for the cert key in JsseSslManager such that Mutual SSL auth testing can be made more flexible. Contributed by UBIK Load Pack (support at ubikloadpack.com)</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>55693</bugzilla> - Add a "Save as Test Fragment" option</li>
<li><bugzilla>55753</bugzilla> - Improve FilePanel behaviour to start from the value set in Filename field if any. Contributed by UBIK Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>55756</bugzilla> - HTTP Mirror Server : Add ability to set Headers</li>
<li><bugzilla>55852</bugzilla> - Be more lenient in parsing when charset value is surrounded with single quotes</li>
<li><bugzilla>55857</bugzilla> - Performance : AbstractProperty should test for emptiness to avoid Exception throwing</li>
<li><bugzilla>55858</bugzilla> - Startup Performance : On Startup, BeanInfoSupport should test for key availability instead of throwing</li>
<li><bugzilla>55865</bugzilla> - Performance :Disable stale check by default in HttpClient 4 and 3.1</li>
<li><bugzilla>55512</bugzilla> - Summariser should be enabled by default in Non GUI mode</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
<li>Updated to rsyntaxtextarea-2.5.1.jar (from 2.5.0)</li>
<li>Updated to jodd-core-3.4.9.jar from (3.4.8) and jodd-lagarto-3.4.9.jar (from 3.4.9)</li>
<li>Updated to jsoup-1.7.3.jar (from 1.7.2)</li>
<li>Updated to mail-1.5.0-b01 (from 1.4.4)</li>
<li>Updated to mongo-java-driver-2.11.3 (from 2.11.2)</li>
</ul>

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
<ul>
<li>James Liang (jliang at andera.com)</li>
<li>UBIK Load Pack (support at ubikloadpack.com)</li>
</ul>
<br/>
We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:
<ul>
<li>John Natsioulas (john_natsioulas at yahoo.com.au)</li>
<li>Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
</ul>

Apologies if we have omitted anyone else.
 </p>


<!--  =================== 2.10 =================== -->

<h1>Version 2.10</h1>
<p>
Summary
</p>
<ul>
<li><a href="#New and Noteworthy">New and Noteworthy</a></li>
<li><a href="#Known bugs">Known bugs</a></li>
<li><a href="#Incompatible changes">Incompatible changes</a></li>
<li><a href="#Bug fixes">Bug fixes</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#Non-functional changes">Non-functional changes</a></li>
<li><a href="#Thanks">Thanks</a></li>

</ul>

<ch_section>New and Noteworthy</ch_section>

<ch_category>Core Improvements</ch_category>

<ch_title>New Performance improvements</ch_title>
<p>
<ul>
<li>A Huge performance improvement has been made on High Throughput Tests (no pause), see <bugzilla>54777</bugzilla></li>
<li>An issue with unnecessary SSL Context reset has been fixed which improves performances of pure HTTP tests, see <bugzilla>55023</bugzilla></li>
<li>Important performance improvement in parsing of Embedded resource in HTML pages thanks to a switch to JODD/Lagarto HTML Parser, see <bugzilla>55632</bugzilla></li>
</ul>
</p>

<ch_title>New CSS/JQuery Tester in View Tree Results</ch_title>
<p>A new CSS/JQuery Tester in View Tree Results that makes CSS/JQuery Extractor a first class
citizen in JMeter, you can now test your expressions very easily</p>
<p>
<figure width="1144" height="638" image="changes/2.10/01_css_jquery_tester.png"></figure>
</p>

<ch_title>Many improvements in HTTP(S) Recording have been made</ch_title>
<p>
<figure width="691" height="215" image="changes/2.10/18_https_test_script_recorder.png"></figure>
<note>
The "HTTP Proxy Server" test element has been renamed as "HTTP(S) Test Script Recorder".
</note>
<ul>
<li>Better recording of HTTPS sites, embedded resources using subdomains will more easily be recorded when using JDK 7. See <bugzilla>55507</bugzilla>.
See updated documentation: <complink name="HTTP(S) Test Script Recorder"/>
</li>
<li>Redirection are now more smartly detected by HTTP Proxy Server, see <bugzilla>55531</bugzilla></li>
<li>Many fixes on edge cases with HTTPS have been made, see <bugzilla>55502</bugzilla>, <bugzilla>55504</bugzilla>, <bugzilla>55506</bugzilla></li>
<li>Many encoding fixes have been made, see <bugzilla>54482</bugzilla>, <bugzilla>54142</bugzilla>, <bugzilla>54293</bugzilla></li>
</ul>
</p>

<ch_title>You can now load test MongoDB through new MongoDB Source Config</ch_title>
<p>
<figure width="912" height="486" image="changes/2.10/02_mongodb_source_config.png"></figure>
</p>
<p>
<figure width="850" height="687" image="changes/2.10/14_mongodb_jsr223.png"></figure>
</p>

<ch_title>Kerberos authentication has been added to Auth Manager</ch_title>
<p>
<figure width="1005" height="364" image="changes/2.10/15_kerberos.png"></figure>
</p>

<ch_title>Device can now be used in addition to source IP address</ch_title>

<p>
<figure width="1087" height="699" image="changes/2.10/16_device.png"></figure>
</p>

<ch_title>You can now do functional testing of MongoDB scripts through new MongoDB Script</ch_title>
<p>
<figure width="906" height="313" image="changes/2.10/03_mongodb_script_alpha.png"></figure>
</p>

<ch_title>Timeout has been added to OS Process Sampler</ch_title>
<p>
<figure width="684" height="586" image="changes/2.10/17_os_process_timeout.png"></figure>
</p>

<ch_title>Query timeout has been added to JDBC Request</ch_title>
<p>
<figure width="540" height="600" image="changes/2.10/04_jdbc_request_timeout.png"></figure>
</p>

<ch_title>New functions (__urlencode and __urldecode) are now available to encode/decode URL encoded chars</ch_title>
<p>
<figure width="512" height="240" image="changes/2.10/05_urlencode_function.png"></figure>
</p>

<ch_title>Continuous Integration is now eased by addition of a new flag that forces NON-GUI JVM to exit after test end</ch_title>
<p>See jmeter property:</p>
<code>jmeterengine.force.system.exit</code>
<p></p>

<ch_title>HttpSampler now allows DELETE Http Method to have a body (works for HC4 and HC31 implementations). This allows for example to test Elastic Search APIs</ch_title>
<p>
<figure width="573" height="444" image="changes/2.10/06_http_request_delete_method.png"></figure>
</p>

<ch_title>2 implementations of HtmlParser have been added to improve Embedded resources parsing</ch_title>
<p>
You can choose the implementation to use for parsing Embedded resources in HTML pages:
See jmeter.properties and look at property "htmlParser.className".
<ul>
<li>org.apache.jmeter.protocol.http.parser.LagartoBasedHtmlParser for optimal performances</li>
<li>org.apache.jmeter.protocol.http.parser.JSoupBasedHtmlParser for most accurate parsing and functional testing</li>
</ul>
</p>

<ch_title>Distributed testing has been improved</ch_title>
<p>
<ul>
<li>
Number of threads on each node are now reported to controller.
<p>
<figure width="988" height="355" image="changes/2.10/17_threads_summariser.png"></figure>
</p>
<p>
<figure width="125" height="33" image="changes/2.10/17_threads_gui.png"></figure>
</p>

</li>
<li>Performance improvement on BatchSampleSender(<bugzilla>55423</bugzilla>)</li>
<li>Addition of 2 SampleSender modes (StrippedAsynch and StrippedDiskStore), see jmeter.properties</li>
</ul>
</p>

<ch_title>ModuleController has been improved to better handle changes to referenced controllers</ch_title>

<ch_title>Improved class loader configuration, see <bugzilla>55503</bugzilla></ch_title>
<p>
<ul>
<li>New property "plugin_dependency_paths" for plugin dependencies</li>
<li>Properties "search_paths", "user.classpath" and "plugin_dependency_paths"
    now automatically add all jars from configured directories</li>
</ul>
</p>

<ch_title>Best-practices section has been improved, ensure you read it to get the most out of JMeter</ch_title>
<p>See <a href="usermanual/best-practices.html">Best Practices</a>
</p>
<ch_category>GUI and ergonomy Improvements</ch_category>


<ch_title>New Templates feature that allows you to create test plan from existing template or merge
template into your Test Plan</ch_title>
<p>
<figure width="428" height="130" image="changes/2.10/07_jmeter_templates_icon.png"></figure>
</p>
<p>
<figure width="781" height="472" image="changes/2.10/08_jmeter_templates_box.png"></figure>
</p>

<ch_title>Workbench can now be saved</ch_title>
<p>
<figure width="489" height="198" image="changes/2.10/09_save_workbench.png"></figure>
</p>

<ch_title>Syntax color has been added to scripts elements (BeanShell, BSF, and JSR223), MongoDB and JDBC elements making code much more readable and allowing UNDO/REDO through CTRL+Z/CTRL+Y</ch_title>
<p>BSF Sampler with syntax color
<figure width="915" height="620" image="changes/2.10/10_color_syntax_bsf_sampler.png"></figure>
</p>
<p>JSR223 Pre Processor with syntax color
<figure width="911" height="614" image="changes/2.10/11_color_syntax_jsr223_preprocessor.png"></figure>
</p>

<ch_title>Better editors are now available for Test Elements with large text content, like HTTP Sampler, and JMS related Test Element providing line numbering and allowing UNDO/REDO through CTRL+Z/CTRL+Y</ch_title>

<ch_title>JMeter GUI can now be fully Internationalized, all remaining issues have been fixed</ch_title>
<h5>Currently French has all its labels translated. Other languages are partly translated, feel free to
contribute translations by reading <a href="localising/index.html">Localisation (Translator's Guide)</a></h5>

<ch_title>Moving elements in Test plan has been improved in many ways</ch_title>
<h5>Drag and drop of elements in Test Plan tree is now much easier and possible on multiple nodes</h5>
<p>
<figure width="894" height="236" image="changes/2.10/12_drap_n-drop_multiple.png"></figure>
</p>
<p>
<b>Note that due to this <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6560955">bug in Java</a>,
you cannot drop a node after last node. The workaround is to drop it before this last node and then Drag and Drop the last node
before the one you just dropped.</b>
</p>
<h5>New shortcuts have been added to move elements in the tree. </h5>
<p>(alt + Arrow Up) and (alt + Arrow Down) move the element within the parent node<br/>
(alt + Arrow Left) and (alt + Arrow Right) move the element up and down in the tree depth</p>

<ch_title>Response Time Graph Y axis can now be scaled</ch_title>
<p>
<figure width="947" height="596" image="changes/2.10/13_response_time_graph_y_scale.png"></figure>
</p>

<ch_title>JUnit Sampler gives now more details on configuration errors</ch_title>

<!--  =================== Known bugs =================== -->


<ch_section>Known bugs</ch_section>

<ul>
<li>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</li>

<li>Listeners don't show iteration counts when a If Controller has a condition which is always false from the first iteration (see <bugzilla>52496</bugzilla>).
A workaround is to add a sampler at the same level as (or superior to) the If Controller.
For example a Test Action sampler with 0 wait time (which doesn't generate a sample),
or a Debug Sampler with all fields set to False (to reduce the sample size).
</li>

<li>Webservice sampler does not consider the HTTP response status to compute the status of a response, thus a response 500 containing a non empty body will be considered as successful, see <bugzilla>54006</bugzilla>.
To workaround this issue, ensure you always read the response and add a Response Assertion checking text inside the response.
</li>

<li>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
these only apply to a locally run test; they do not include any threads started on remote systems when using client-server mode, (see <bugzilla>54152</bugzilla>).
</li>

<li>
Note that there is a <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6396599 ">bug in Java</a>
on some Linux systems that manifests itself as the following error when running the test cases or JMeter itself:
<pre>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</pre>
This does not affect JMeter operation. This issue is fixed since Java 7b05.
</li>

<li>
With Java 1.6 and Gnome 3 on Linux systems, the JMeter menu may not work correctly (shift between mouse's click and the menu).
This is a known Java bug (see  <bugzilla>54477 </bugzilla>).
A workaround is to use a Java 7 runtime (OpenJDK or Oracle JDK).
</li>

<li>
With Oracle Java 7 and Mac Book Pro Retina Display, the JMeter GUI may look blurry.
This is a known Java bug, see Bug <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=8000629" >JDK-8000629</a>.
A workaround is to use a Java 7 update 40 runtime which fixes this issue.
</li>
</ul>

<!-- =================== Incompatible changes =================== -->

<ch_section>Incompatible changes</ch_section>

<ul>
<li><b>SMTP Sampler</b> now uses eml file subject if subject field is empty</li>

<li>With this version autoFlush has been turned off on PrintWriter in charge of writing test results.
This results in improved throughput for intensive tests but can result in more test data loss in case
of JMeter crash (extremely rare). To revert to previous behaviour set <code>jmeter.save.saveservice.autoflush</code> property to <code>true</code>.</li>

<li>
Shortcut for <b>Function Helper Dialog</b> is now <i>CTRL+SHIFT+F1 (CMD + SHIFT + F1 for Mac OS)</i>.
The original key sequence <i>(Ctrl+F1)</i> did not work in some locations (it is consumed by the Java Swing ToolTipManager).
It was therefore necessary to change the shortcut.
</li>

<li>
<b>Webservice (SOAP) Request</b> has been removed by default from GUI as Element is deprecated. (Use <b>HTTP Request</b>
with <i>Body Data</i>, see also the Template <i>Building a SOAP Webservice Test Plan</i>), if you need to show it, see property <code>not_in_menu</code> in <i>jmeter.properties</i>
</li>

<li>
<b>Transaction Controller</b> now sets <i>Response Code</i> of <i>Generated Parent Sampler</i>
(if <i>Generated Parent Sampler</i> is checked) to response code of first failing child in case of failure of one of the children, in previous versions <i>Response Code</i> was empty.
</li>

<li>
In previous versions, <b>IncludeController</b> could run Test Elements located inside a <b>Thread Group</b>, this behaviour (<i>which was not documented</i>)
could result in weird behaviour, it has been removed in this version (see <bugzilla>55464</bugzilla>).
The correct way to include Test Elements is to use <b>Test Fragment</b> as stated in documentation of <b>Include Controller</b>.
</li>

<li>
The retry count for the HttpClient 3.1 and HttpClient 4.x samplers has been changed to <b>0</b>.
Previously the default was 1, which could cause unexpected additional traffic.
</li>

<li>Starting with this version, the <b>HTTP(S) Test Script Recorder</b> tries to detect when a sample is the result of a previous
redirect. If the current response is a redirect, JMeter will save the redirect URL. When the next request is received,
it is compared with the saved redirect URL and if there is a match, JMeter will disable the generated sample.
To revert to previous behaviour, set the property <code>proxy.redirect.disabling=false</code>
</li>

<li>Starting with this version, in <b>HTTP(S) Test Script Recorder</b> if Grouping is set to <i>Put each group in a new Transaction Controller</i>,
the Recorder will create <b>Transaction Controller</b> instances with <i>Include duration of timer and pre-post processors in generated sample</i> set
to false. This default value reflect more accurately response time.
</li>

<li><code>__escapeOroRegexpChars</code> function (which escapes ORO reserved characters) no longer trims the value (see <bugzilla>55328</bugzilla>)
</li>

<li>The <i>commons-lang-2.6.jar</i> has been removed from embedded libraries in <code>jmeter/lib</code> folder as it is not needed by JMeter at run-time
(it is only used by Apache Velocity for generating documentation).
If you use any plugin or third-party code that depends on it, you need to add it in <code>jmeter/lib</code> folder
</li>
</ul>

<!-- =================== Bug fixes =================== -->

<ch_section>Bug fixes</ch_section>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>54627</bugzilla> - JMeter Proxy GUI: Type of sampler setting takes the whole screen when there are samplers with long names.</li>
<li><bugzilla>54629</bugzilla> - HTMLParser does not extract &lt;object&gt; tag urls.</li>
<li><bugzilla>55023</bugzilla> - SSL Context reuse feature (51380) adversely affects non-ssl request performance/throughput. based on analysis by Brent Cromarty (brent.cromarty at yahoo.ca)</li>
<li><bugzilla>55092</bugzilla> - Log message "WARN - jmeter.protocol.http.sampler.HTTPSamplerBase: Null URL detected (should not happen)" displayed when embedded resource URL is malformed.</li>
<li><bugzilla>55161</bugzilla> - Useless processing in SoapSampler.setPostHeaders. Contributed by Adrian Nistor (nistor1 at illinois.edu)</li>
<li><bugzilla>54482</bugzilla> - HC fails to follow redirects with non-encoded chars.</li>
<li><bugzilla>54142</bugzilla> - HTTP Proxy Server throws an exception when path contains "|" character.</li>
<li><bugzilla>55388</bugzilla> - HC3 does not allow IP Source field to override httpclient.localaddress.</li>
<li><bugzilla>55450</bugzilla> - HEAD redirects should remain as HEAD</li>
<li><bugzilla>55455</bugzilla> - HTTPS with HTTPClient4 ignores cps setting</li>
<li><bugzilla>55502</bugzilla> - Proxy generates empty http:/ entries when recording</li>
<li><bugzilla>55504</bugzilla> - Proxy incorrectly issues CONNECT requests when browser prompts for certificate override</li>
<li><bugzilla>55506</bugzilla> - Proxy should deliver failed requests to any configured Listeners</li>
<li><bugzilla>55545</bugzilla> - HTTP Proxy Server GUI should not allow both Follow and Auto redirect to be selected</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>54913</bugzilla> - JMSPublisherGui incorrectly restores its state. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>55027</bugzilla> - Test Action regression, duration value is not recorded (nightly build).</li>
<li><bugzilla>55163</bugzilla> - BeanShellTestElement fails to quote string when calling testStarted(String)/testEnded(String).</li>
<li><bugzilla>55349</bugzilla> - NativeCommand hangs if no input file is specified and the application requests input.</li>
<li><bugzilla>55462</bugzilla> - System Sampler should not change the sampler label if a sample fails</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>54467</bugzilla> - Loop Controller: compute loop value only once per parent iteration.</li>
<li><bugzilla>54985</bugzilla> - Make Transaction Controller set Response Code of Generated Parent Sampler to response code of first failing child in case of failure of one of its children. Contributed by Mikhail Epikhin (epihin-m at yandex.ru)</li>
<li><bugzilla>54950</bugzilla> - ModuleController : Changes to referenced Module are not taken into account if changes occur after first run and referenced node is disabled.</li>
<li><bugzilla>55201</bugzilla> - ForEach controller excludes start index and includes end index (clarified documentation).</li>
<li><bugzilla>55334</bugzilla> - Adding Include Controller to test plan (made of Include Controllers) without saving TestPlan leads to included code not being taken into account until save.</li>
<li><bugzilla>55375</bugzilla> -  StackOverflowError with ModuleController in Non-GUI mode if its name is the same as the target node.</li>
<li><bugzilla>55464</bugzilla> - Include Controller running included thread group</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>54589</bugzilla> - View Results Tree have a lot of Garbage characters if html page uses double-byte charset.</li>
<li><bugzilla>54753</bugzilla> - StringIndexOutOfBoundsException at SampleResult.getSampleLabel() if key_on_threadname=false when using Statistical mode.</li>
<li><bugzilla>54685</bugzilla> - ArrayIndexOutOfBoundsException if "sample_variable" is set in client but not server.</li>
<li><bugzilla>55111</bugzilla> - ViewResultsTree: text not refitted if vertical scrollbar is required. Contributed by Milamber</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>54540</bugzilla> - "HTML Parameter Mask" are not marked deprecated in the IHM.</li>
<li><bugzilla>54575</bugzilla> - CSS/JQuery Extractor : Choosing JODD Implementation always uses JSOUP.</li>
<li><bugzilla>54901</bugzilla> - Response Assertion GUI behaves weirdly.</li>
<li><bugzilla>54924</bugzilla> - XMLAssertion uses JMeter JVM file.encoding instead of response encoding and does not clean threadlocal variable.</li>
<li><bugzilla>53679</bugzilla> -  Constant Throughput Timer bug with localization. Reported by Ludovic Garcia</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>55328</bugzilla> - __escapeOroRegexpChars trims spaces.</li>
</ul>

<h3>I18N</h3>
<ul>
<li><bugzilla>55437</bugzilla> - ComboStringEditor does not translate EDIT and UNDEFINED strings on language change</li>
<li><bugzilla>55501</bugzilla> - Incorrect encoding for French description of __char function. Contributed by Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>54504</bugzilla> - Resource string not found: [clipboard_node_read_error].</li>
<li><bugzilla>54538</bugzilla> - GUI: context menu is too big.</li>
<li><bugzilla>54847</bugzilla> - Cut &amp; Paste is broken with tree multi-selection. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54870</bugzilla> - Tree drag and drop may lose leaf nodes (affected nightly build). Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>55056</bugzilla> - wasted work in Data.append(). Contributed by Adrian Nistor (nistor1 at illinois.edu)</li>
<li><bugzilla>55129</bugzilla> -  Change Javadoc generation per CVE-2013-1571, VU#225657.</li>
<li><bugzilla>55187</bugzilla> - Integer overflow when computing ONE_YEAR_MS in HTTP CacheManager.</li>
<li><bugzilla>55208</bugzilla> - JSR223 language entries are duplicated; fold to lower case.</li>
<li><bugzilla>55203</bugzilla> - TestBeanGUI - wrong language settings found.</li>
<li><bugzilla>55065</bugzilla> - Useless processing in Spline3.converge(). Contributed by Adrian Nistor (nistor1 at illinois.edu)</li>
<li><bugzilla>55064</bugzilla> - Useless processing in ReportTreeListener.isValidDragAction(). Contributed by Adrian Nistor (nistor1 at illinois.edu)</li>
<li><bugzilla>55242</bugzilla> - BeanShell Client jar throws exceptions after upgrading to 2.8.</li>
<li><bugzilla>55288</bugzilla> - JMeter should default to 0 retries for HTTP requests.</li>
<li><bugzilla>55405</bugzilla> - ant download_jars task fails if lib/api or lib/doc are missing. Contributed by Antonio Gomes Rodrigues.</li>
<li><bugzilla>55427</bugzilla> - TestBeanHelper should ignore properties not supported by GenericTestBeanCustomizer</li>
<li><bugzilla>55459</bugzilla> - Elements using ComboStringEditor lose the input value if user selects another Test Element</li>
<li><bugzilla>54152</bugzilla> - In distributed testing : activeThreads always show 0 in GUI and Summariser</li>
<li><bugzilla>55509</bugzilla> - Allow Plugins to be notified of remote thread number progression</li>
<li><bugzilla>55572</bugzilla> - Detail popup of parameter does not show a Scrollbar when content exceeds display</li>
<li><bugzilla>55580</bugzilla> -  Help pane does not scroll to start for &lt;a href="#"&gt; links</li>
<li><bugzilla>55600</bugzilla> - JSyntaxTextArea : Strange behaviour on first undo</li>
<li><bugzilla>55655</bugzilla> - NullPointerException when Remote stopping /shutdown all if one engine did not start correctly. Contributed by UBIK Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>55657</bugzilla> - Remote and Local Stop/Shutdown buttons state does not take into account local / remote status </li>
</ul>

<!-- =================== Improvements =================== -->

<ch_section>Improvements</ch_section>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li>HTTP Request: Small user interaction improvements in Row parameter Detail Box. Contributed by Milamber</li>
<li><bugzilla>55255</bugzilla> - Allow Body in HTTP DELETE method to support API that use it (like ElasticSearch).</li>
<li><bugzilla>53480</bugzilla> - Add Kerberos support to Http Sampler (HttpClient4). Based on patch by Felix Schumacher (felix.schumacher at internetallee.de)</li>
<li><bugzilla>54874</bugzilla> - Support device in addition to source IP address. Based on patch by Dan Fruehauf (malkodan at gmail.com)</li>
<li><bugzilla>55488</bugzilla> - Add .ico and .woff file extension to default suggested exclusions in proxy recorder. Contributed by Antonio Gomes Rodrigues</li>
<li><bugzilla>55525</bugzilla> - Proxy should support alias for keyserver entry</li>
<li><bugzilla>55531</bugzilla> - Proxy recording and redirects. Added code to disable redirected samples.</li>
<li><bugzilla>55507</bugzilla> - Proxy SSL recording does not handle external embedded resources well</li>
<li><bugzilla>55632</bugzilla> - Have a new implementation of htmlParser for embedded resources parsing with better performances</li>
<li><bugzilla>55653</bugzilla> - HTTP(S) Test Script Recorder should set TransactionController property "Include duration of timer and pre-post processors in generated sample" to false</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>54788</bugzilla> - JMS Point-to-Point Sampler - GUI enhancements to increase readability and ease of use. Contributed by Bruno Antunes (b.m.antunes at gmail.com)</li>
<li><bugzilla>54798</bugzilla> - Using subject from EML-file for SMTP Sampler. Contributed by Mikhail Epikhin (epihin-m at yandex.ru)</li>
<li><bugzilla>54759</bugzilla> - SSLPeerUnverifiedException using HTTPS , property documented.</li>
<li><bugzilla>54896</bugzilla> - JUnit sampler gives only "failed to create an instance of the class" message with constructor problems.</li>
<li><bugzilla>55084</bugzilla> - Add timeout support for JDBC Request. Contributed by Mikhail Epikhin (epihin-m at yandex.ru)</li>
<li><bugzilla>55403</bugzilla> - Enhancement to OS sampler: Support for timeout</li>
<li><bugzilla>55518</bugzilla> - Add ability to limit number of cached PreparedStatements per connection when "Prepared Select Statement", "Prepared Update Statement" or "Callable Statement" query type is selected</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>54271</bugzilla> - Module Controller breaks if test plan is renamed.</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>54532</bugzilla> - Improve Response Time Graph Y axis scale with huge values or small values (&lt; 1000ms). Add a new field to define increment scale. Contributed by Milamber based on patch by Luca Maragnani (luca.maragnani at gmail.com)</li>
<li><bugzilla>54576</bugzilla> - View Results Tree : Add a CSS/JQuery Tester.</li>
<li><bugzilla>54777</bugzilla> - Improve Performance of default ResultCollector. Based on patch by Mikhail Epikhin (epihin-m at yandex.ru)</li>
<li><bugzilla>55389</bugzilla> - Show IP source address in request data</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>54789</bugzilla> - XPath Assertion - GUI enhancements to increase readability and ease of use.</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>54991</bugzilla> - Add functions to encode/decode URL encoded chars (__urlencode and __urldecode). Contributed by Milamber.</li>
</ul>

<h3>I18N</h3>
<ul>
<li><bugzilla>55241</bugzilla> - Need GUI Editor to process fields which are based on Enums with localised display strings</li>
<li><bugzilla>55440</bugzilla> - ComboStringEditor should allow tags to be language dependent</li>
<li><bugzilla>55432</bugzilla> - CSV Dataset Config loses sharing mode when switching languages</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>54584</bugzilla> - MongoDB plugin. Based on patch by Jan Paul Ettles (janpaulettles at gmail.com)</li>
<li><bugzilla>54669</bugzilla> - Add flag forcing non-GUI JVM to exit after test. Contributed by Scott Emmons</li>
<li><bugzilla>42428</bugzilla> - Workbench not saved with Test Plan. Contributed by Dzmitry Kashlach (dzmitrykashlach at gmail.com)</li>
<li><bugzilla>54825</bugzilla> - Add shortcuts to move elements in the tree. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54834</bugzilla> - Improve Drag &amp; Drop in the jmeter tree. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54839</bugzilla> - Set the application name on Mac. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54841</bugzilla> - Correctly handle the quit shortcut on Mac Os (CMD-Q). Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54844</bugzilla> - Set the application icon on Mac Os. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54864</bugzilla> - Enable multi selection drag &amp; drop in the tree without having to start dragging before releasing Shift or Control. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54945</bugzilla> - Add Shutdown Hook to enable trapping kill or CTRL+C signals.</li>
<li><bugzilla>54990</bugzilla> - Download large files avoiding outOfMemory.</li>
<li><bugzilla>55085</bugzilla> - UX Improvement : Ability to create New Test Plan from Templates. Contributed by UBIK Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>55172</bugzilla> - Provide plugins a way to add Top Menu and menu items.</li>
<li><bugzilla>55202</bugzilla> - Add syntax color for scripts elements (BeanShell, BSF, and JSR223) and JDBC elements with RSyntaxTextArea. Contributed by Milamber based on patch by Marko Vlahovic (vlahovic74 at gmail.com)</li>
<li><bugzilla>55175</bugzilla> - HTTPHC4Impl refactoring to allow better inheritance.</li>
<li><bugzilla>55236</bugzilla> - Templates - provide button to reload template details.</li>
<li><bugzilla>55237</bugzilla> - Template system should support relative fileName entries.</li>
<li><bugzilla>55423</bugzilla> - BatchSampleSender: Reduce locking granularity by moving listener.processBatch outside of synchronized block</li>
<li><bugzilla>55424</bugzilla> - Add Stripping to existing SampleSenders</li>
<li><bugzilla>55451</bugzilla> - Test Element GUI with JSyntaxTextArea scroll down when text content is long enough to add a Scrollbar</li>
<li><bugzilla>55513</bugzilla> - StreamCopier cannot be used with System.err or System.out as it closes the output stream</li>
<li><bugzilla>55514</bugzilla> - SystemCommand should support arbitrary input and output streams</li>
<li><bugzilla>55515</bugzilla> - SystemCommand should support chaining of commands</li>
<li><bugzilla>55606</bugzilla> - Use JSyntaxtTextArea for Http Request, JMS Test Elements</li>
<li><bugzilla>55651</bugzilla> - Change JMeter application icon to Apache plume icon</li>
</ul>

<ch_section>Non-functional changes</ch_section>
<ul>
<li>Updated to jsoup-1.7.2</li>
<li><bugzilla>54776</bugzilla> - Update the dependency on Bouncy Castle to 1.48. Contributed by Emmanuel Bourg (ebourg at apache.org)</li>
<li>Updated to HttpComponents Client 4.2.6 (from 4.2.3)</li>
<li>Updated to HttpComponents Core 4.2.5 (from 4.2.3)</li>
<li>Updated to commons-codec 1.8 (from 1.6)</li>
<li>Updated to commons-io 2.4 (from 2.2)</li>
<li>Updated to commons-logging 1.1.3 (from 1.1.1)</li>
<li>Updated to commons-net 3.3 (from 3.1)</li>
<li>Updated to jdom-1.1.3 (from 1.1.2)</li>
<li>Updated to jodd-lagarto and jodd-core 3.4.8 (from 3.4.1)</li>
<li>Updated to junit 4.11 (from 4.10)</li>
<li>Updated to slf4j-api 1.7.5 (from 1.7.2)</li>
<li>Updated to tika 1.4 (from 1.3)</li>
<li>Updated to xmlgraphics-commons 1.5 (from 1.3.1)</li>
<li>Updated to xstream 1.4.4 (from 1.4.2)</li>
<li>Updated to BouncyCastle 1.49 (from 1.48)</li>
<li><bugzilla>54912</bugzilla> - JMeterTreeListener should use constants. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>54903</bugzilla> - Remove the dependency on the Activation Framework. Contributed by Emmanuel Bourg (ebourg at apache.org)</li>
<li>Moved commons-lang (2.6) to lib/doc as it's only needed by Velocity.</li>
<li>Re-organised and simplified NOTICE and LICENSE files.</li>
<li><bugzilla>55411</bugzilla> -  NativeCommand could be useful elsewhere. Copied code to o.a.jorphan.exec.</li>
<li><bugzilla>55435</bugzilla> - ComboStringEditor could be simplified to make most settings final</li>
<li><bugzilla>55436</bugzilla> - ComboStringEditor should implement ClearGui</li>
<li><bugzilla>55463</bugzilla> - Component.requestFocus() is discouraged; use requestFocusInWindow() instead</li>
<li><bugzilla>55486</bugzilla> - New JMeter Logo. Contributed by UBIK Load Pack (support at ubikloadpack.com)</li>
<li><bugzilla>55548</bugzilla> - Tidy up use of TestElement.ENABLED; use TestElement.isEnabled()/setEnabled() throughout</li>
<li><bugzilla>55617</bugzilla> - Improvements to jorphan collection. Contributed by Benoit Wiart (benoit.wiart at gmail.com)</li>
<li><bugzilla>55623</bugzilla> - Invalid/unexpected configuration values should not be silently ignored</li>
<li><bugzilla>55626</bugzilla> - Rename HTTP Proxy Server as HTTP(S) Test Script Recorder</li>
</ul>

<ch_section>Thanks</ch_section>
<p>We thank all contributors mentioned in bug and improvement sections above:
<ul>
<li>Bruno Antunes (b.m.antunes at gmail.com)</li>
<li>Emmanuel Bourg (ebourg at apache.org)</li>
<li>Scott Emmons</li>
<li>Mikhail Epikhin (epihin-m at yandex.ru)</li>
<li>Dzmitry Kashlach (dzmitrykashlach at gmail.com)</li>
<li>Luca Maragnani (luca.maragnani at gmail.com)</li>
<li>Milamber</li>
<li>Adrian Nistor (nistor1 at illinois.edu)</li>
<li>Antonio Gomes Rodrigues (ra0077 at gmail.com)</li>
<li>UBIK Load Pack (support at ubikloadpack.com)</li>
<li>Benoit Wiart (benoit.wiart at gmail.com)</li>
</ul>
<br/>
We also thank bug reporters who helped us improve JMeter. <br/>
For this release we want to give special thanks to the following reporters for the clear reports and tests made after our fixes:
<ul>
<li>Immanuel Hayden (immanuel.hayden at gmail.com)</li>
<li>Danny Lade (dlade at web.de)</li>
<li>Brent Cromarty (brent.cromarty at yahoo.ca)</li>
<li>Wolfgang Heider (wolfgang.heider at racon.at)</li>
<li>Shmuel Krakower (shmulikk at gmail.com)</li>
</ul>


Apologies if we have omitted anyone else.
 </p>

<!--  =================== 2.9 =================== -->

<h1>Version 2.9</h1>

<h2>New and Noteworthy</h2>

<h3><u>Core Improvements:</u></h3>

<h4>* A new Extractor that uses CSS or jquery-like selector syntax has been introduced,
it allows using either JODD or JSOUP implementations</h4>
<p>
<figure width="762" height="277" image="changes/2.9/01_css_jquery_extractor.png"></figure>
</p>
<p>Result: the title of the page in a JMeter variable
<figure width="719" height="171" image="changes/2.9/01_css_jquery_extractor_resul.png"></figure>
</p>
<h4>* JMeter can now handle different types of documents (PDF, MsOffice files, Apache OpenOffice's files, &hellip;)
 within different elements </h4>
<ul>
    <li>Regular Expression Extractor, extract text from documents</li>
    <li>Assertion Response, check text in documents</li>
    <li>View Results Tree, view as a text the documents</li>
</ul>
<p>
<figure width="761" height="345" image="changes/2.9/02_document_render_view_results_tree.png"></figure>
</p>

<h4>* A new Regex User Parameters Pre-Processor that enables injecting input parameter names and values
using a reference extracted by Regular Expression Extractor from a previous response</h4>
<p>
<figure width="727" height="138" image="changes/2.9/13_regex_user_params.png"></figure>
</p>

<h4>* TCP Sampler: new options</h4>
<p>TCP Sampler has been enhanced with new options to allow setting <b>Close Connection</b>,
 <b>SO_LINGER</b> and  <b>End of line(EOL) byte value</b>
<figure width="1147" height="302" image="changes/2.9/03_new_options_tcp_sampler.png"></figure>
</p>
<h4>* A new function <i>__escapeOroRegexpChars(,)</i> has been introduced quote ORO regexp meta characters</h4>
<h4>* ForEach Controller: new fields</h4>
<p>ForEach Controller has now 2 new fields to control start and end of loop
<figure width="320" height="203" image="changes/2.9/04_for_each_new_fields.png"></figure>
</p>
<h4>* Result Status Action Handler now has a new option to "Start next thread loop"</h4>
<p>
<figure width="722" height="132" image="changes/2.9/05_result_status_action_handler.png"></figure>
</p>

<h4>* JMS Publisher: new option</h4>
<p>JMS Publisher can now send Bytes Messages</p>
<figure width="833" height="701" image="changes/2.9/11_jms_publisher_bytes.png"></figure>

<h4>* Memory and performance improvements</h4>
<p>Significant improvements have been done in this version on memory usage per Thread and CPU when more
than one Post Processor is used as child of a Sampler</p>
<p>JSR223 Elements (enable using Groovy, Scala, &hellip; as scripting languages) have been improved to enable caching
of Compilation results when scripts are passed in Text area</p>
<figure width="841" height="470" image="changes/2.9/12_jsr223_sampler.png"></figure>

<p>Some configuration defaults have changed to improve performances by default(see <bugzilla>54412</bugzilla>),
see description in New and Noteworthy section.
<ul>
    <li>Distributed testing now uses MODE_STRIPPED_BATCH, which returns samples in batch mode (every 100 samples
     or every minute by default). Note also that MODE_STRIPPED_BATCH strips response data from SampleResult,
     so if you need it change to another mode (mode property in jmeter.properties)</li>
    <li>Result data are now saved to CSV by default (jmeter.save.saveservice.output_format in jmeter.properties)</li>
</ul>
</p>

<h4>* XPath Assertion now enables using a JMeter variable as input</h4>
<p>
<figure width="800" height="317" image="changes/2.9/14_xpath_assertion.png"></figure>
</p>

<h3><u>GUI and ergonomy Improvements:</u></h3>
<h4>* Search feature has been improved to search within more internal fields of elements and expand search results</h4>
<h4>* Copy/paste is now possible between 2 JMeter instances &gt;= 2.9 version</h4>
<p>Copy element(s) from one JMeter instance:
<figure width="618" height="262" image="changes/2.9/06_copy_paste_between_2_jmeter1.png"></figure>
</p>
<p>Paste element(s) into a second JMeter instance:
<figure width="617" height="278" image="changes/2.9/06_copy_paste_between_2_jmeter2.png"></figure>
</p>
<h4>* HTTP Header Manager</h4>
<p>Allow copy from clipboard to HeaderPanel, headers are supposed to be separated by new line
 and have the following form <i>name:value</i>
<figure width="661" height="263" image="changes/2.9/07_header_panel_add_from_clipboard.png"></figure>
</p>
<h4>* Module Controller</h4>
<p>Module Controller has been improved to better render referenced controller and expand it by clicking on a new button
<figure width="832" height="274" image="changes/2.9/08_module_controller_improvements.png"></figure>
</p>
<h4>* HTTP Proxy Server</h4>
<p>HTTP Proxy Server now has a button to add a set of default exclusions for URL patterns,
this list can be configured through property : <i>proxy.excludes.suggested</i>
<figure width="811" height="214" image="changes/2.9/09_proxy_excludes_suggested.png"></figure>
</p>
<h4>* Rendering of target controller has been improved in HTTP Proxy Server</h4>

<h3><u>HTTP Proxy Server recording:</u></h3>
<p>* HTTP Proxy Server now automatically uses HTTP Request with Raw Post Body mode for
samples that only have one unnamed argument (JSON, XML, GWT, &hellip;)</p>
<p>* HTTP Proxy Server does not force user to select the type of Sampler in HTTP Sampler Settings,
 this allows easier switch between implementations as Sampler do not have this information set anymore</p>
 <p>
<figure width="484" height="307" image="changes/2.9/10_http_proxy_dont_force_http_type.png"></figure>
</p>
<p>* SamplerCreator interface has been enriched to meet new requirements for plug-in providers</p>
<p>* It is now possible to create binary sampler for x-www-form-urlencoded POST request by
modifying <i>proxy.binary.types</i> property to add application/x-www-form-urlencoded </p>
<p>* Improved timestamp format auto-detection when reading CSV files</p>

<!--  =================== Known bugs =================== -->

<h2>Known bugs</h2>

<p>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>Listeners don't show iteration counts when a If Controller has a condition which is always false from the first iteration (see <bugzilla>52496</bugzilla>).
A workaround is to add a sampler at the same level as (or superior to) the If Controller.
For example a Test Action sampler with 0 wait time (which doesn't generate a sample),
or a Debug Sampler with all fields set to False (to reduce the sample size).
</p>

<p>Webservice sampler does not consider the HTTP response status to compute the status of a response, thus a response 500 containing a non empty body will be considered as successful, see <bugzilla>54006</bugzilla>.
To workaround this issue, ensure you always read the response and add a Response Assertion checking text inside the response.
</p>

<p>
Changing language can break part of the configuration of the following elements (see <bugzilla>53679</bugzilla>):
<ul>
    <li>CSV Data Set Config (sharing mode will be lost)</li>
    <li>Constant Throughput Timer (Calculate throughput based on will be lost)</li>
</ul>
</p>

<p>
The numbers that appear to the left of the green box are the number of active threads / total number of threads,
these only apply to a locally run test; they do not include any threads started on remote systems when using client-server mode, (see <bugzilla>54152</bugzilla>).
</p>

<p>
Note that there is a bug in Java on some Linux systems that manifests
itself as the following error when running the test cases or JMeter itself:
<pre>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</pre>
This does not affect JMeter operation.
</p>

<!-- =================== Incompatible changes =================== -->

<h2>Incompatible changes</h2>

<p><b>JMeter requires now a Java 6 runtime or higher.</b></p>

<p>Some configuration defaults have changed to improve performances by default (see <bugzilla>54412</bugzilla>),
see description in New and Noteworthy section.</p>

<p>Webservice sampler now adds to request the headers that are set through Header Manager, these were previously ignored</p>

<p><i>jdbcsampler.cachesize</i> property has been removed, it previously limited the size of a per connection cache of Map &lt; String,
PreparedStatement &gt; , it also limited the size of this
map which held the PreparedStatement for SQL queries. This limitation provoked a bug <bugzilla>53995</bugzilla>.
It has been removed so now size of these 2 maps is not limited anymore. This change changes behaviour as starting from
this version no PreparedStatement will be closed during the test.</p>

<p>Starting with this version, there are some important changes on JSR223 Test Elements:
<ul>
    <li>JSR223 Test Elements that have an invalid filename (not existing or unreadable) will make test fail instead of
    making the element silently work</li>
    <li>In JSR223 Test Elements: responseCodeOk, responseMessageOK and successful are set before
     script is executed, if responseData is set it will not be overridden anymore by a toString() on script return value</li>
</ul>
</p>

<p>View Results Tree now considers response with missing content type as text.</p>

<p>In remote Test mode, JMeter now exits in error if one of the remote engines cannot be configured,
previously it started the test with available engines.</p>

<!-- =================== Bug fixes =================== -->

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li>Don't log spurious warning messages when using concurrent pool embedded downloads with Cache Manager or CookieManager</li>
<li><bugzilla>54057</bugzilla>- Proxy option to set user and password at startup (-u and -a) not working with HTTPClient 4</li>
<li><bugzilla>54187</bugzilla> - Request tab does not show headers if request fails</li>
<li><bugzilla>53840</bugzilla> - Proxy Recording : Response message: URLDecoder: Illegal hex characters in escape (%) pattern - For input string: "" "</li>
<li><bugzilla>54351</bugzilla> - HC4 and URI fragments is failing</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>53997</bugzilla> - LDAP Extended Request: Escape ampersand (&amp;), left angle bracket (&lt;)
and right angle bracket (&gt;) in search filter tag in XML response data</li>
<li><bugzilla>53995</bugzilla> - AbstractJDBCTestElement shares PreparedStatement between multi-threads</li>
<li><bugzilla>54119</bugzilla> - HTTP 307 response is not redirected</li>
<li><bugzilla>54326</bugzilla> - AjpSampler send file in post throws FileNotFoundException</li>
<li><bugzilla>54331</bugzilla> - AjpSampler throws null pointer on GET request that are protected</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>54088</bugzilla> - The type video/f4m is text, not binary</li>
<li><bugzilla>54166</bugzilla> - ViewResultsTree could not render the HTML response: handle failure to parse HTML</li>
<li><bugzilla>54287</bugzilla> - Incorrect Timestamp in Response Time Graph when using a date with time in Date format field</li>
<li><bugzilla>54451</bugzilla> - Response Time Graph reports wrong times when the are many samples for same time</li>
<li><bugzilla>54459</bugzilla> - CSVSaveService does not handle date parsing very well</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>54058</bugzilla> - In HTTP Request Defaults, the value of field "Embedded URLs must match: is not saved if the check box "Retrieve All  Embedded Resources" is not checked.</li>
<li><bugzilla>54375</bugzilla> - Regular Expression Extractor : When regex syntax is wrong, post processing is stopped</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>53975</bugzilla> - Variables replacement doesn't work with option "Delay thread creation until needed"</li>
<li><bugzilla>54055</bugzilla> - View Results tree: = signs are stripped from parameter values at HTTP tab</li>
<li><bugzilla>54129</bugzilla> - Search Feature does not find text although existing in elements </li>
<li><bugzilla>54023</bugzilla> - Unable to start JMeter from a root directory and if the full path of JMeter installation contains one or more spaces (Unix/linux)</li>
<li><bugzilla>54172</bugzilla> - Duplicate shortcut key not working and CTRL+C / CTRL+V / CTRL+V do not cancel default event</li>
<li><bugzilla>54057</bugzilla> - Proxy option to set user and password at startup (-u and -a) not working with HTTPClient 4</li>
<li><bugzilla>54267</bugzilla> - Start Next Thread Loop setting doesn't work in custom thread groups</li>
<li><bugzilla>54413</bugzilla> - DataStrippingSampleSender returns 0 for number of bytes of any response</li>
</ul>

<!-- =================== Improvements =================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
<li><bugzilla>54185</bugzilla> - Allow query strings in paths that start with HTTP or HTTPS</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>54004</bugzilla> - Webservice Sampler : Allow adding headers to request with Header Manager</li>
<li><bugzilla>54106</bugzilla> - JSR223TestElement should check for file existence when a filename is set instead of using Text Area content </li>
<li><bugzilla>54107</bugzilla> - JSR223TestElement : Enable compilation and caching of Script Text</li>
<li><bugzilla>54109</bugzilla> - JSR223TestElement : SampleResult properties should be set before entering script to allow user setting different code</li>
<li><bugzilla>54230</bugzilla> - TCP Sampler, additions of "Close Connection", "SO_LINGER" and "End of line(EOL) byte value" options</li>
<li><bugzilla>54182</bugzilla> - Support sending of ByteMessage for JMS Publisher.</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>54131</bugzilla> - ForEach Controller : Add start and end index for looping over variables</li>
<li><bugzilla>54132</bugzilla> - Module Controller GUI : Improve rendering of referenced controller</li>
<li><bugzilla>54155</bugzilla> - ModuleController : Add a shortcut button to unfold the tree up to referenced controller and highlight it</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>54200</bugzilla> - Add support of several document types (like Apache OpenOffice's files, MS Office's files, PDF's files, etc.)
to the elements View Results Tree, Assertion Response and Regular Expression Extractor (using Apache Tika)</li>
<li><bugzilla>54226</bugzilla> - View Results Tree : Show response even when server does not return ContentType header</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>54259</bugzilla> - Introduce a new Extractor that uses CSS or jquery-like selector syntax</li>
<li><bugzilla>45772</bugzilla> - RegEx User Parameters Post Processor</li>
<li><bugzilla>54160</bugzilla> - Add support for xpath assertion to apply to a JMeter variable.</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>54189</bugzilla> - Add a function to quote ORO regexp meta characters</li>
<li><bugzilla>54418</bugzilla> - UUID Function</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>54005</bugzilla> - HTTP Mirror Server : Add special headers "X-" to control Response status and response content</li>
<li><bugzilla>53875</bugzilla> - Include suggested defaults for URL filters on HTTP Proxy</li>
<li><bugzilla>54031</bugzilla> - Add tooltip to running/total threads indicator </li>
<li>Webservice (SOAP) Request has been deprecated</li>
<li><bugzilla>54161</bugzilla> - Proxy : be able to create binary sampler for x-www-form-urlencoded POST request</li>
<li><bugzilla>54154</bugzilla> - HTTP Proxy Server should not force user to select the type of Sampler in HTTP Sampler Settings</li>
<li><bugzilla>54165</bugzilla> - Proxy Server: Improve rendering of target controller</li>
<li><bugzilla>46677</bugzilla> - Copying Test Elements between test plans</li>
<li><bugzilla>54204</bugzilla> - Result Status Action Handler : Add start next thread loop option</li>
<li><bugzilla>54232</bugzilla> - Search Feature : Add a button to search and expand results</li>
<li><bugzilla>54251</bugzilla> - Add tristate checkbox implementation</li>
<li><bugzilla>54257</bugzilla> - Enhance SamplerCreator interface to meet new requirements</li>
<li><bugzilla>54258</bugzilla> - Proxy : Use Raw Post Body when Sampler has one unnamed argument, useful for Samplers using POST method by of type JSON, XML, GWT body</li>
<li><bugzilla>54268</bugzilla> - Improve CPU and memory usage</li>
<li><bugzilla>54376</bugzilla> - ScopePanel : Allow configuring more precisely scopes</li>
<li><bugzilla>54412</bugzilla> - Changing JMeter defaults to ensure better performances by default</li>
<li><bugzilla>54414</bugzilla> - Remote Test should not start if one of the engines fails to start correctly</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li><bugzilla>53956</bugzilla> - Add ability to paste (a list of values) from clipboard for Header Manager</li>
<li>Updated to HttpComponents Client 4.2.3 (from 4.2.1)</li>
<li>Updated to HttpComponents Core 4.2.3 (from 4.2.2)</li>
<li><bugzilla>54110</bugzilla> - BSFTestElement and JSR223TestElement should use shared super-class for common fields</li>
<li><bugzilla>54199</bugzilla> - Move to Java 6</li>
<li>Upgraded to rhino 1.7R4</li>
</ul>

<!--  =================== 2.8 =================== -->

<h1>Version 2.8</h1>

<h2>New and Noteworthy</h2>

<h3>Core Improvements:</h3>

<h4>Thread Group: New Option <i>Delay thread creation until needed</i></h4>
<p>New Option "Delay thread creation until needed" that will create and start threads when needed instead of creating them on Test startup<br></br>
<b>This new feature allows running tests with a huge number of short lived threads.</b>
<figure width="817" height="296" image="changes/2.8/12_delay_thread_creation.png"></figure>
</p>

<h4>HTTP Cookie Manager (IPv6 support)</h4>
<p>Add HTTPClient 4 cookie implementation in JMeter. <br/>
Cookie Manager has now the default HC3.1 implementation and a new choice HC4 implementation (compliant with IPv6 address)
<figure width="635" height="239" image="changes/2.8/11_hc4_cookie.png"></figure>
</p>

<h4>Memory and performance improvements</h4>
<p>Significant improvements have been done in this version on memory usage of JMeterThread</p>
<p>JSR223 Elements (enable using Groovy, scala, &hellip; as scripting languages) have been improved to enable:
<ul>
    <li>usage of Compilable interface when available to boost CPU usage</li>
    <li>caching of Compilation when scripts are used as Files</li>
</ul>
See <a href="https://cwiki.apache.org/confluence/display/JMETER/JMeterPerformance">JMeter Performances across versions</a>
</p>

<h4>OS Process Sampler</h4>
<p>Allow defining files for stdout/stderr/stdin.
<figure width="820" height="531" image="changes/2.8/06_os_sampler_stdout-err-in.png"></figure>
</p>

<h4>HTTP Request: PATCH verb</h4>
<p>Add PATCH verb to HTTP sampler
<figure width="615" height="340" image="changes/2.8/01_http_patch_verb.png"></figure>
</p>

<h4>HTTP Request: HTTPClient 4 is now the default implementation</h4>
<p>HTTPClient 4 is now the default HTTP Request implementation (and for Proxy element when generating HTTP requests).<br/>
Previously the default was the HTTP Java implementation (i.e. the implementation provided by the JVM)
<figure width="558" height="288" image="changes/2.8/02_http_default_hc4.png"></figure>
</p>

<h4>HTTP Request</h4>
<p>Add Embedded URL Filter to HTTP Request Defaults Control (it was already present for HTTP Requests)
<figure width="586" height="682" image="changes/2.8/05_http_defaults_url_filter.png"></figure>
</p>

<h4>Miscellaneous</h4>
<ul>
    <li>CSV Dataset : Embedded new lines are now supported in quoted data</li>
    <li>JMX files now contain the version of JMeter that created the file</li>
    <li>JMeter Version is now available as property "jmeter.version"</li>
</ul>
<h3>Reporting Improvements:</h3>

<h4>Response Time Graph</h4>
<p>Add a new visualizer Response Time Graph to draw a line graph showing the evolution of response time for a test
<figure width="993" height="549" image="changes/2.8/09_resp_time_graph.png"></figure>
</p>
<p>Settings for Response Time Graph
<figure width="989" height="602" image="changes/2.8/08_resp_time_graph_settings.png"></figure>
</p>

<h4>View Results in Table</h4>
<p>Add latency to View Result in Table listener
<figure width="998" height="324" image="changes/2.8/10_latency_view_results_table.png"></figure>
</p>

<h4>Aggregate Graph</h4>
<p>Small improvements: legend at left or right is now on 1 column (instead of 1 large line), &hellip;
<figure width="989" height="418" image="changes/2.8/07_aggregate_graph_legend_left_right.png"></figure>
</p>

<h3>GUI and ergonomy Improvements:</h3>
<h4>HTTP Proxy Server simplifications</h4>
<p>HTTPS Spoofing options have been removed from Proxy as HTTPS recording is directly available since JMeter 2.4.
<figure width="940" height="277" image="changes/2.8/03_remove_https_spoofing1.png"></figure>
</p>

<h4>HTTP Proxy Server</h4>
<p>Allow URL Filters to be pasted from clipboard
<figure width="707" height="614" image="changes/2.8/15_add_from_clipboard_filter.png"></figure>
</p>

<h4>Find in JMeter</h4>
<p>CTRL + F for the new Find feature
<figure width="477" height="157" image="changes/2.8/14_ctrl_F_shortcut.png"></figure>

ESC key now closes popups.
</p>

<h4>User Interface in GNOME 3</h4>
<p>Display 'Apache JMeter' title in app title bar in Gnome 3
<figure width="441" height="253" image="changes/2.8/13_gnome3_title.png"></figure>
</p>

<!--  =================== Known bugs =================== -->

<h2>Known bugs</h2>

<p>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>Listeners don't show iteration counts when a If Controller has a condition which is always false from the first iteration (see <bugzilla>52496</bugzilla>).
A workaround is to add a sampler at the same level as (or superior to) the If Controller.
For example a Test Action sampler with 0 wait time (which doesn't generate a sample),
or a Debug Sampler with all fields set to False (to reduce the sample size).
</p>

<p>
Changing language can break part of the configuration of the following elements (see <bugzilla>53679</bugzilla>):
<ul>
    <li>CSV Data Set Config (sharing mode will be lost)</li>
    <li>Constant Throughput Timer (Calculate throughput based on will be lost)</li>
</ul>
</p>

<p>
Note that there is a bug in Java on some Linux systems that manifests
itself as the following error when running the test cases or JMeter itself:
<pre>
 [java] WARNING: Couldn't flush user prefs:
 java.util.prefs.BackingStoreException:
 java.lang.IllegalArgumentException: Not supported: indent-number
</pre>
This does not affect JMeter operation.
</p>

<!-- =================== Incompatible changes =================== -->

<h2>Incompatible changes</h2>

<p>
When using CacheManager, JMeter now caches responses for GET queries provided header Cache-Control is different from "no-cache" as described in specification.
Furthermore it doesn't put anymore in Cache deprecated entries for "no-cache" responses. See <bugzilla>53521</bugzilla> and <bugzilla>53522</bugzilla>
</p>

<p>
A major change has occurred on JSR223 Test Elements, previously variables set up before script execution where stored in ScriptEngineManager which was created once per execution,
now ScriptEngineManager is a singleton shared by all JSR223 elements and only ScriptEngine is created once per execution, variables set up before script execution are now stored
in Bindings created on each execution, see <bugzilla>53365</bugzilla>.
</p>

<p>
JSR223 Test Elements using Script file are now Compiled if ScriptEngine supports this feature, see <bugzilla>53520</bugzilla>.
</p>

<p>
Shortcut for Function Helper Dialog is now CTRL+F1 (CMD + F1 for Mac OS), CTRL+F (CMD+F1 for Mac OS) now opens Search Dialog.
</p>

<p>
By default, the TestCompiler now stores details of which pairs it has seen in Controller instances rather than in a static Set.
[<bugzilla>53796</bugzilla>]
This gives much better memory behaviour for delayed start test plans, as memory used is proportional to the number of concurrent threads.
With the static Set memory usage was proportional to the total thread count.
This change is very unlikely to cause a problem.
The original behaviour can be restored by setting the property <code>TestCompiler.useStaticSet=true</code>
</p>

<p>
HTTPS Spoofing options have been removed from Proxy as HTTPS recording is directly available since JMeter 2.4.
</p>
<!-- =================== Bug fixes =================== -->

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>53521</bugzilla> - Cache Manager should cache content with Cache-control=private</li>
<li><bugzilla>53522</bugzilla> - Cache Manager should not store at all response with header "no-cache" and store other types of Cache-Control having max-age value</li>
<li><bugzilla>53838</bugzilla> - Pressing "Stop" does not interrupt the TCP sampler</li>
<li><bugzilla>53911</bugzilla> - JmeterKeystore does not allow for key down the list of certificate</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>53348</bugzilla> - JMeter JMS Point-to-Point Request-Response sampler doesn't work when Request-queue and Receive-queue are different</li>
<li><bugzilla>53357</bugzilla> - JMS Point to Point reports too high response times in Request Response Mode</li>
<li><bugzilla>53440</bugzilla> - SSL connection leads to ArrayStoreException on JDK 6 with some KeyManagerFactory SPI</li>
<li><bugzilla>53511</bugzilla> - access log sampler SessionFilter throws NullPointerException - cookie manager not initialized properly</li>
<li><bugzilla>53715</bugzilla> - JMeter does not load WSDL</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>53742</bugzilla> - When jmeter.save.saveservice.sample_count is set to true, elapsed time read by listener is always equal to 0</li>
<li><bugzilla>53774</bugzilla> - RequestViewRaw does not show headers unless samplerData is non-null</li>
<li><bugzilla>53802</bugzilla> - IdleTime values are not saved to CSV log</li>
<li><bugzilla>53874</bugzilla> - View Results Tree : If some parameter containing special characters like % is not encoded, RequestViewHTTP fails with java.lang.IllegalArgumentException: URLDecoder: Illegal hex characters in escape (%) pattern and Response is not displayed</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>51512</bugzilla> - Cookies aren't inserted into HTTP request with IPv6 Host header</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>53365</bugzilla> - JSR223TestElement should cache ScriptEngineManager</li>
<li><bugzilla>53520</bugzilla> - JSR223 Elements : Use Compilable interface to improve performances on File scripts</li>
<li><bugzilla>53501</bugzilla> - Synchronization timer blocks test end.</li>
<li><bugzilla>53750</bugzilla> - TestCompiler saves unnecessary entries in pairing collection</li>
<li><bugzilla>52266</bugzilla> - Code:Inconsistent synchronization</li>
<li><bugzilla>53841</bugzilla> - CSVSaveService reads file using JVM default file encoding instead of using the one configured in saveservice.properties</li>
<li><bugzilla>53953</bugzilla> New: Typo in monitor test plan documentation</li>
</ul>

<!-- =================== Improvements =================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
<li><bugzilla>53675</bugzilla> - Add PATCH verb to HTTP sampler</li>
<li><bugzilla>53931</bugzilla> - Define HTTPClient 4 for the default HTTP Request (and Proxy element to generate the HTTP requests). Before the default, it was the HTTP Java Sampler</li>
<li><bugzilla>53934</bugzilla> - Removes HTTPS spoofing options in JMeter HTTP Proxy Server. Since JMeter 2.4, the HTTPS protocol is directly supported by the proxy</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>55310</bugzilla> - TestAction should implement Interruptible</li>
<li><bugzilla>53318</bugzilla> - Add Embedded URL Filter to HTTP Request Defaults Control </li>
<li><bugzilla>53782</bugzilla> - Enhance JavaSampler handling of JavaSamplerClient cleanup to use less memory</li>
<li><bugzilla>53168</bugzilla> - OS Process - allow specification of stdout/stderr/stdin</li>
<li><bugzilla>53844</bugzilla> - JDBC related elements should check class of Variable Name supposed to contain JDBC Connection Configuration to avoid ClassCastException </li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>53671</bugzilla> - tearDown thread group to run even if shutdown test happens</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>53566</bugzilla> - Don't log partial responses to the jmeter log</li>
<li><bugzilla>53716</bugzilla> - Small improvements in aggregate graph: legend at left or right is now on 1 column (instead of 1 large line), no border to the reference's square color, reduce width on some fields</li>
<li><bugzilla>53718</bugzilla> - Add a new visualizer 'Response Time Graph' to draw a line graph showing the evolution of response time for a test</li>
<li><bugzilla>53738</bugzilla> - Keep track of number of threads started and finished</li>
<li><bugzilla>53753</bugzilla> -  Summariser: no point displaying fractional time in most cases</li>
<li><bugzilla>53749</bugzilla> - TestListener interface could perhaps be split up.
This should reduce per-thread memory requirements and processing,
as only test elements that actually use testIterationStart functionality now need to be handled.</li>
<li><bugzilla>53941</bugzilla> - Add latency to View Result table listener</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>53755</bugzilla> - Adding a HttpClient 4 cookie implementation in JMeter.
Cookie Manager has now the default HC3.1 implementation and a new choice HC4 implementation (compliant with IPv6 address)</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>51527</bugzilla> - __time() function : add another option to __time() to provide *seconds* since epoch</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>53364</bugzilla> - Sort list of Functions in Function Helper Dialog</li>
<li><bugzilla>53418</bugzilla> - New Option "Delay thread creation until needed" that will create and start threads when needed instead of creating them on Test startup</li>
<li><bugzilla>42245</bugzilla> - Show clear passwords in HTTP Authorization Manager</li>
<li><bugzilla>53616</bugzilla> - Display 'Apache JMeter' title in app title bar in Gnome 3</li>
<li><bugzilla>53759</bugzilla> - ClientJMeterEngine performs unnecessary traverse using SearchByClass(TestListener)</li>
<li><bugzilla>52601</bugzilla> - CTRL + F for the new Find feature</li>
<li><bugzilla>53796</bugzilla> - TestCompiler uses static Set which can grow huge</li>
<li><bugzilla>53673</bugzilla> - Add JMeter version in the jmx file</li>
<li>Add support for HeapDump to the JMeter non-GUI and GUI client</li>
<li><bugzilla>53862</bugzilla> - Would be nice to have the JMeter Version available as a property</li>
<li><bugzilla>53806</bugzilla> -  FileServer should provide thread-safe parsing</li>
<li><bugzilla>53807</bugzilla> - CSV Dataset does not handle embedded new lines in quoted data</li>
<li><bugzilla>53879</bugzilla> - GUI : Allow Popups to be closed with ESC key</li>
<li><bugzilla>53876</bugzilla> - Allow URL Filters (HTTP Proxy) to be pasted from clipboard</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li><bugzilla>53311</bugzilla> - JMeterUtils#runSafe should not throw Error when interrupted</li>
<li>Updated to commons-net-3.1 (from 3.0.1)</li>
<li>Updated to HttpComponents Core 4.2.2 (from 4.1.4) and HttpComponents Client 4.2.1 (from 4.1.3)</li>
<li><bugzilla>53765</bugzilla> - Switch to commons-lang3-3.1</li>
<li><bugzilla>53884</bugzilla> - wrong Maven groupId for commons-lang</li>
</ul>

<!--  =================== 2.7 =================== -->

<h1>Version 2.7</h1>

<h2>New and Noteworthy</h2>

<h3>OS Process Sampler</h3>
<p>A new System Sampler that can be used to execute commands on the local machine.
<figure width="629" height="497" image="changes/2.7/01_os_process_sampler.png"></figure>
</p>

<p>OS Process Sampler results example with DNS lookup command 'dig'
<figure width="877" height="470" image="changes/2.7/02_os_process_example_results.png"></figure>
</p>

<h3>JMS Samplers improvements</h3>
<p>Addition of a "Non Persistent Delivery" option to send "Non-Persistent" (Guaranteed to be delivered at most once. Message loss is not a concern.) JMS messages
<figure width="953" height="336" image="changes/2.7/11_jms_non_persistent_delivery_mode.png"></figure>
</p>

<p>Support sending of JMS Object Messages to enable sending Objects unmarshalled from XML by XStream
<figure width="808" height="726" image="changes/2.7/12_jms_sending_objects.png"></figure>
</p>

<p>Enable setting JMS Properties through JMS Publisher sampler
<figure width="1029" height="470" image="changes/2.7/13_jms_properties.png"></figure>
</p>

<h3>Test Action sampler</h3>
<p>Allow premature exit from a loop
<figure width="862" height="167" image="changes/2.7/07_test_action_next_iter.png"></figure>
</p>

<h3>Webservice Sampler improvements</h3>
<p>Add a jmeter property soap.document_cache to control size of Document Cache
<figure width="270" height="59" image="changes/2.7/14_ws_document_cache.png"></figure>
</p>

<p>Make Maintain HTTP Session configurable
<figure width="833" height="505" image="changes/2.7/15_ws_maintain_session.png"></figure>
</p>

<h3>Aggregate graph: Clustered Bar char with average, median, 90% line, min and max columns</h3>
<p>Aggregate graph changes to Clustered Bar chart, add more columns (median, 90% line, min, max) and options, fixed some bugs
<figure width="1177" height="503" image="changes/2.7/03_aggregate_graph_with_new_cols.png"></figure>
</p>

<p>New settings for aggregate graph
<figure width="1173" height="433" image="changes/2.7/04_aggregate_graph_parameters.png"></figure>
</p>

<h3>Improvements of HTML report design generated by JMeter Ant task in extras folder</h3>
<p>HTML report example
<figure width="1264" height="506" image="changes/2.7/05_jmeter_ant_task_report_success.png"></figure>
</p>

<p>HTML report example with some assertion errors
<figure width="1267" height="550" image="changes/2.7/06_jmeter_ant_task_report_errors.png"></figure>
</p>

<h3>Mailer Visualizer</h3>
<p><ul>
<li>Enable authentication, and connection security with SSL or TLS</li>
<li>Improve GUI design</li>
<li>Add internationalisation (i18n) support</li>
</ul>
<figure width="860" height="403" image="changes/2.7/10_mailer_visualizer_gui.png"></figure>
</p>

<h3>New Visual Indicator of number of ERROR/FATAL messages in logs</h3>
<p>Indicator shows number of ERROR/FATAL messages in logs, it can be clicked to toggle Log Viewer panel
<figure width="815" height="633" image="changes/2.7/16_log_errors_counter.png"></figure>
</p>

<h3>Dialog box to show detail of a parameter row</h3>
<p>Add a detail button on parameters table to show detail of a Row
<figure width="824" height="165" image="changes/2.7/08_param_button_detail.png"></figure>
</p>

<p>Detail box example
<figure width="702" height="454" image="changes/2.7/09_detail_box.png"></figure>
</p>

<h3>Plugin writers</h3>
<p>
New interface org.apache.jmeter.engine.util.ConfigMergabilityIndicator has been introduced to tell whether a ConfigTestElement can be merged in Sampler (see <bugzilla>53042</bugzilla>):<br/>
<pre>public boolean applies(ConfigTestElement configElement);</pre>
</p>

<p>New interface org.apache.jmeter.protocol.http.proxy.SamplerCreator to allow plugging HTTP based samplers that differ from default HTTP Samplers through Proxy during Recording Phase (see <bugzilla>52674</bugzilla>):<br/>
<pre>public String[] getManagedContentTypes();</pre>
<pre>public HTTPSamplerBase createSampler(HttpRequestHdr request, Map&lt;String, String&gt; pageEncodings, Map&lt;String, String&gt; formEncodings);</pre>
<pre>public void populateSampler(HTTPSamplerBase sampler, HttpRequestHdr request, Map&lt;String, String&gt; pageEncodings, Map&lt;String, String&gt; formEncodings) throws Exception;</pre>
</p>


<!--  =================== Known bugs =================== -->

<h2>Known bugs</h2>

<p>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>Listeners don't show iteration counts when a If Controller has a condition which is always false from the first iteration (see <bugzilla>52496</bugzilla>).
A workaround is to add a sampler at the same level as (or superior to) the If Controller.
For example a Test Action sampler with 0 wait time (which doesn't generate a sample),
or a Debug Sampler with all fields set to False (to reduce the sample size).
</p>

<!-- =================== Incompatible changes =================== -->

<h2>Incompatible changes</h2>

<p>
When doing replacement of User Defined Variables, Proxy will not substitute partial values anymore when "Regexp matching" is used. It will use Perl 5 word matching ("\b")
</p>

<p>
In User Defined Variables, Test Plan, HTTP Sampler Arguments Table, Java Request Defaults, JMS Sampler and Publisher, LDAP Request Defaults and LDAP Extended Request Defaults, rows with
empty Name and Value are no more saved.
</p>

<p>
JMeter now expands the Test Plan tree to the testplan level and no further and selects the root of the tree. Furthermore default value of onload.expandtree is false.
</p>

<p>
Graph Full Results Listener has been removed.
</p>

<p>
When calling "Clear All" command, if Log Viewer is displayed its content will be cleared.
</p>
<!-- =================== Bug fixes =================== -->

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>52613</bugzilla> - Using Raw Post Body option, text gets encoded</li>
<li><bugzilla>52781</bugzilla> - Content-Disposition header garbled even if browser compatible headers is checked (HC4) </li>
<li><bugzilla>52796</bugzilla> - MonitorHandler fails to clear variables when starting a new parse</li>
<li><bugzilla>52871</bugzilla> - Multiple Certificates not working with HTTP Client 4</li>
<li><bugzilla>52885</bugzilla> - Proxy : Recording issues with HTTPS, cookies starting with secure are partly truncated</li>
<li><bugzilla>52886</bugzilla> - Proxy : Recording issues with HTTPS when spoofing is on, secure cookies are not always changed</li>
<li><bugzilla>52897</bugzilla> - HTTPSampler : Using PUT method with HTTPClient4 and empty Content Encoding and sending files leads to NullPointerException</li>
<li><bugzilla>53145</bugzilla> - HTTP Sampler - function in path evaluated too early</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>51737</bugzilla> - TCPSampler : Packet gets converted/corrupted</li>
<li><bugzilla>52868</bugzilla> - BSF language list should be sorted</li>
<li><bugzilla>52869</bugzilla> - JSR223 language list currently uses BSF list which is wrong</li>
<li><bugzilla>52932</bugzilla> - JDBC Sampler : Sampler is not marked in error in an Exception which is not of class IOException, SQLException, IOException occurs</li>
<li><bugzilla>52916</bugzilla> - JDBC Exception if there is an empty user defined variable</li>
<li><bugzilla>52937</bugzilla> - Webservice Sampler : Clear Soap Documents Cache at end of Test </li>
<li><bugzilla>53027</bugzilla> - JMeter starts throwing exceptions while using SMTP Sample in a test plan with HTTP Cookie Mngr or HTTP Request Defaults</li>
<li><bugzilla>53072</bugzilla> - JDBC PREPARED SELECT statements should return results in variables like non prepared SELECT</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>52968</bugzilla> - Option Start Next Loop in Thread Group does not mark parent Transaction Sampler in error when an error occurs</li>
<li><bugzilla>50898</bugzilla> - IncludeController : NullPointerException loading script in non-GUI mode if Includers use same element name</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>43450</bugzilla> - Listeners/Savers assume SampleResult count is always 1; fixed Generate Summary Results</li>
</ul>

<h3>Assertions</h3>
<ul>
<li><bugzilla>52848</bugzilla> - NullPointer in "XPath Assertion"</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
<li><bugzilla>52551</bugzilla> - Function Helper Dialog does not switch language correctly</li>
<li><bugzilla>52552</bugzilla> - Help reference only works in English</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>52639</bugzilla> - JSplitPane divider for log panel should be hidden if log is not activated</li>
<li><bugzilla>52672</bugzilla> - Change Controller action deletes all but one child samplers</li>
<li><bugzilla>52694</bugzilla> - Deadlock in GUI related to non AWT Threads updating GUI</li>
<li><bugzilla>52678</bugzilla> - Proxy : When doing replacement of UserDefinedVariables, partial values should not be substituted</li>
<li><bugzilla>52728</bugzilla> - CSV Data Set Config element cannot coexist with BSF Sampler in same Thread Plan</li>
<li><bugzilla>52762</bugzilla> - Problem with multiples certificates: first index not used until indexes are restarted</li>
<li><bugzilla>52741</bugzilla> - TestBeanGUI default values do not work at second time or later</li>
<li><bugzilla>52783</bugzilla> - oro.patterncache.size property never used due to early init</li>
<li><bugzilla>52789</bugzilla> - Proxy with Regexp Matching can fail with NullPointerException in Value Replacement if value is null</li>
<li><bugzilla>52645</bugzilla> - Recording with Proxy leads to OutOfMemory</li>
<li><bugzilla>52679</bugzilla> - User Parameters columns narrow</li>
<li><bugzilla>52843</bugzilla> - Sample headerSize and bodySize not being accumulated for subsamples</li>
<li><bugzilla>52967</bugzilla> - The function __P() couldn't use default value when running with remote server in GUI mode.</li>
<li><bugzilla>50799</bugzilla> - Having a non-HTTP sampler in a http test plan prevents multiple header managers from working</li>
<li><bugzilla>52997</bugzilla> - JMeter should not exit without saving Test Plan if saving before exit fails</li>
<li><bugzilla>53136</bugzilla> - Catching Throwable needs to be carefully handled</li>
</ul>

<!-- =================== Improvements =================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>52775</bugzilla> - JMS Publisher : Add Non Persistent Delivery option</li>
<li><bugzilla>52810</bugzilla> - Enable setting JMS Properties through JMS Publisher sampler</li>
<li><bugzilla>52938</bugzilla> - Webservice Sampler : Add a jmeter property soap.document_cache to control size of Document Cache</li>
<li><bugzilla>52939</bugzilla> - Webservice Sampler : Make MaintainSession configurable</li>
<li><bugzilla>53073</bugzilla> - Allow to assign the OUT result of a JDBC CALLABLE to JMeter variables</li>
<li><bugzilla>53164</bugzilla> - New System Sampler</li>
<li><bugzilla>53172</bugzilla> - OS Process Sampler - allow specification of Environment Variables</li>
<li><bugzilla>52936</bugzilla> - JMS Publisher : Support sending of JMS Object Messages</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>52603</bugzilla> - MailerVisualizer : Enable SSL , TLS and Authentication</li>
<li><bugzilla>52698</bugzilla> - Remove Graph Full Results Listener</li>
<li><bugzilla>53070</bugzilla> - Change Aggregate graph to Clustered Bar chart, add more columns (median, 90% line, min, max) and options, fixed some bugs</li>
<li><bugzilla>53246</bugzilla> - Mailer Visualizer: improve GUI design and I18N</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
<li>Mailer Visualizer has been internationalized. French translation added. (see <bugzilla>53246</bugzilla>)</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>45839</bugzilla> - Test Action : Allow premature exit from a loop</li>
<li><bugzilla>52614</bugzilla> - MailerModel.sendMail has strange way to calculate debug setting</li>
<li><bugzilla>52782</bugzilla> - Add a detail button on parameters table to show detail of a Row</li>
<li><bugzilla>52674</bugzilla> - Proxy : Add a Sampler Creator to allow plugging HTTP based samplers using potentially non textual POST Body (AMF, Silverlight, &hellip;) and customizing them for others</li>
<li><bugzilla>52934</bugzilla> - GUI : Open Test plan with the tree expanded to the testplan level and no further and select the root of the tree</li>
<li><bugzilla>52941</bugzilla> - Improvements of HTML report design generated by JMeter Ant task extra</li>
<li><bugzilla>53042</bugzilla> - Introduce a new method in Sampler interface to allow Sampler to decide whether a config element applies to Sampler</li>
<li><bugzilla>52771</bugzilla> - Documentation : Added RSS feed on JMeter Home page under link "Subscribe to What's New"</li>
<li><bugzilla>42784</bugzilla> - Show the number of errors logged in the GUI</li>
<li><bugzilla>53256</bugzilla> - Make Clear All command clean LogViewer content</li>
<li><bugzilla>53261</bugzilla> - Make "Error/fatal" counter added in <bugzilla>42784</bugzilla> open Log Viewer panel when Warn Indicator is clicked</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li>Upgraded to rhino 1.7R3 (was js-1.7R2.jar).
Note: the Maven coordinates for the jar were changed from rhino:js to org.mozilla:rhino.
This does not affect JMeter directly, but might cause problems if using JMeter in a Maven project
with other code that depends on an earlier version of the Rhino Javascript jar.
</li>
<li><bugzilla>52675</bugzilla> - Refactor Proxy and HttpRequestHdr to allow Sampler Creation by Proxy</li>
<li><bugzilla>52680</bugzilla> - Mention version in which function was introduced</li>
<li><bugzilla>52788</bugzilla> - HttpRequestHdr : Optimize code to avoid useless work</li>
<li>JMeter Ant (ant-jmeter-1.1.1.jar) task was upgraded from 1.0.9 to 1.1.1</li>
<li>Updated to commons-io 2.2 (from 2.1)</li>
<li><bugzilla>53129</bugzilla> - Upgrade XStream from 1.3.1 to 1.4.2</li>
<li>Updated to httpcomponents-client 4.1.3 (from 4.1.2)</li>
<li>Updated JMeter distributed testing guide (jmeter_distributed_testing_step_by_step.pdf). Changes source format to OpenOffice odt (from sxw)</li>
</ul>

<!--  =================== 2.6 =================== -->

<h1>Version 2.6</h1>

<h2>New and Noteworthy</h2>

<h3>Toolbar</h3>
<p>A new toolbar on JMeter's main window
<figure width="986" height="91" image="changes/2.6/01_toolbar.png"></figure>
</p>

<h3>JMeter start test button</h3>
<p>A new menu option and button allow to start a test ignoring the Pause Timers
<figure width="201" height="58" image="changes/2.6/02_ignore_pause_timers.png"></figure>
</p>

<h3>JMeter GUI Look and Feel</h3>
<p>Allow System or CrossPlatform LAF to be set from options menu
<figure width="373" height="162" image="changes/2.6/03_look_and_feel.png"></figure>
</p>

<h3>JMeter GUI - duplicate node</h3>
<p>Add "duplicate node" in context menu
<figure width="323" height="136" image="changes/2.6/04_duplicate_context_menu.png"></figure>
</p>

<h3>JMeter tree view - search facility</h3>
<p>Functionality to search by keyword in Samplers Tree View
<figure width="554" height="219" image="changes/2.6/05_search_tree.png"></figure>
</p>

<h3>HTTP Request - raw request pane</h3>
<p>Improve HTTP Request GUI to better show parameters without name (GWT RPC request or SOAP request for example)
<figure width="759" height="461" image="changes/2.6/06_post_data.png"></figure>
</p>

<h3>HTTP Request - other changes</h3>
<p><ul>
<li>Allow multiple selection in arguments panel</li>
<li>Allow to add (paste) entries from the clipboard to an arguments list</li>
<li>Ability to move variables up or down in HTTP Request</li>
</ul>
<figure width="875" height="218" image="changes/2.6/07_multiple_selection_params.png"></figure>
</p>

<h3>HTTP Request - file protocol</h3>
<p>Better support for file: protocol in HTTP sampler
<figure width="489" height="662" image="changes/2.6/08_file_protocol.png"></figure>
</p>
<p>Retrieve embedded resources with file: protocol
<figure width="700" height="138" image="changes/2.6/09_file_protocol_embedded.png"></figure>
</p>

<h3>HTTP Request - Ignore embedded resources failed</h3>
<p>Enable "ignore failed" for embedded resources
<figure width="820" height="246" image="changes/2.6/26_ignore_child_failed.png"></figure>
</p>
<p>Parent success with a embedded resource failed
<figure width="590" height="214" image="changes/2.6/27_succes_with_child_failed.png"></figure>
</p>

<h3>View Results in Table - child sample display</h3>
<p>Add option to TableVisualiser to display child samples instead of parent
<figure width="911" height="619" image="changes/2.6/10_child_sampler.png"></figure>
</p>

<h3>Key Store - multiple certificates</h3>
<p>Allowing multiple certificates (JKS)
<figure width="324" height="166" image="changes/2.6/11_jks_keystore.png"></figure>
</p>

<h3>Aggregate graph improvements</h3>
<p>Some improvements on Aggregate Graph Listener:
<ul><li>new GUI for settings</li>
<li>dynamic graph size</li>
<li>allow to change fonts for title graph and legend</li>
<li>allow to change bar color (background and text values)</li>
<li>allow to draw or not bars outlines</li>
<li>allow to select only some samplers by a regexp filter</li>
<li>allow to define Y axis maximum scale</li>
</ul>
<figure width="850" height="411" image="changes/2.6/12_aggregate_graph_settings.png"></figure>
</p>

<p>Aggregate Graph bar
<figure width="851" height="506" image="changes/2.6/13_aggregate_graph_bar.png"></figure>
</p>

<h3>Counter - new reset option</h3>
<p>Add an option to reset counter on each Thread Group iteration
<figure width="345" height="257" image="changes/2.6/14_reset_counter.png"></figure>
</p>

<h3>Functions</h3>
<p><ul>
<li>Add a new function __RandomString to generate random Strings</li>
<li>Add a new function __TestPlanName returning the name of the current "Test Plan"</li>
<li>Add a new function __machineIP returning IP address</li>
<li>Add a new function  __jexl2 to support Jexl2</li>
</ul>
<figure width="697" height="236" image="changes/2.6/15_random_string.png"></figure>
</p>

<h3>User Defined Variable improvements</h3>
<p><ul><li>Add a comment field in User Defined Variables</li>
<li>Allow to add (paste) entries from the clipboard to an arguments list</li>
<li>Ability to move up or down variables in User Defined Variables</li>
</ul>
<figure width="543" height="237" image="changes/2.6/16_udv_comments.png"></figure>
</p>

<h3>View Results Tree</h3>
<p>In View Results Tree rather than showing just a message if the results are to big, show as much of the result as are configured
<figure width="953" height="98" image="changes/2.6/17_vrt_max_size_display.png"></figure>
</p>

<h3>Controllers - change elements</h3>
<p>Add ability to Change Controller elements
<figure width="643" height="112" image="changes/2.6/18_change_ctl_type.png"></figure>
</p>

<h3>JDBC pre- and post-processor</h3>
<p>Add JDBC pre- and post-processor
<figure width="535" height="217" image="changes/2.6/19_jdbc_pre_post_proc.png"></figure>
</p>

<h3>JDBC transaction isolation option</h3>
<p>Allow to set the transaction isolation in the JDBC Connection Configuration
<figure width="437" height="351" image="changes/2.6/20_jdbc_trans_isolation.png"></figure>
</p>

<h3>Poisson Timer</h3>
<p>Add a Poisson based timer
<figure width="358" height="156" image="changes/2.6/21_poisson_timer.png"></figure>
</p>

<h3>GUI and OS interaction</h3>
<p>Support for file Drag and Drop.
<figure width="776" height="508" image="changes/2.6/22_drag_and_drop.png"></figure>
</p>

<h3>Confirm Remove Dialog box</h3>
<p>Add a dialog box to confirm removing the element(s) when Remove action is called
<figure width="583" height="210" image="changes/2.6/23_confirm_remove.png"></figure>
The dialogue can be skipped by setting the JMeter property <code>confirm.delete.skip=true</code>
</p>

<h3>Remote batching support</h3>
<p>Use external store to hold samples during distributed testing,
Added DiskStore remote sample sender: like Hold, but saves samples to disk until end of test
<figure width="998" height="273" image="changes/2.6/24_diskstore.png"></figure>
</p>

<h3>JMS Subscriber sampler</h3>
<p>With JMS Subscriber, ability to use Selectors
<figure width="705" height="297" image="changes/2.6/25_selector.png"></figure>
</p>

<h3>New Logger Panel</h3>
<p>A new Log Viewer  has been added to the GUI and can be enabled from menu Options &rarr; Log Viewer:
<figure width="326" height="147" image="changes/2.6/28_loggerpanel_option.png"></figure>
</p>
<p>This Log Viewer shows the jmeter.log file, and useful (for example) to debug BeanShell/BSF scripts:
<figure width="953" height="466" image="changes/2.6/28_loggerpanel.png"></figure>
</p>

<h3>The menu item Options / Choose Language is now fully functional</h3>
<p>
The menu item Options / Choose Language now changes all the displayed text to the new language provided
all messages are translated. You can help on this by translating into your language.
</p>

<h3>Legacy JMX and JTL Avalon format support restored</h3>
<p>
Support for reading/writing the original Avalon XML format of JMX (script) and JTL (sample result) files was dropped in JMeter version 2.4.
JMeter can now read the Avalon format files again, however there is no support for saving files in the old format.
</p>

<h3>JMeter jars available from Maven repository</h3>
<p>
JMeter jars are now available from Maven repository.
</p>

<!--  =================== Known bugs =================== -->

<h2>Known bugs</h2>

<p>
The Include Controller has some problems in non-GUI mode (see Bugs 40671, 41286, 44973, 50898).
In particular, it can cause a NullPointerException if there are two include controllers with the same name.
</p>

<p>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>Listeners don't show iteration counts when a If Controller has a condition which is always false from the first iteration (see <bugzilla>52496</bugzilla>).
A workaround is to add a sampler at the same level as (or superior to) the If Controller.
For example a Test Action sampler with 0 wait time (which doesn't generate a sample),
or a Debug Sampler with all fields set to False (to reduce the sample size).
</p>

<!-- =================== Incompatible changes =================== -->

<h2>Incompatible changes</h2>

<p>
JMeter versions since 2.1 failed to create a container sample when loading embedded resources.
This has been corrected; can still revert to the <bugzilla>51939</bugzilla> behaviour by setting the following property:
<code>httpsampler.separate.container=false</code>
</p>
<p>
Mirror server now uses default port 8081, was 8080 before 2.5.1.
</p>
<p>
TCP Sampler handles SocketTimeoutException, SocketException and InterruptedIOException differently since 2.6, when
these occurs, Sampler is marked as failed.
</p>
<p>
Sample Sender implementations now resolve their configuration on Client side since 2.6.
This behaviour can be changed with property sample_sender_client_configured (set it to false).
</p>

<p>
The HTTP User Parameter Modifier test element has been removed; it has been deprecated for a long time.
</p>

<!-- =================== Bug fixes =================== -->

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>51932</bugzilla> - CacheManager does not handle cache-control header with any attributes after max-age</li>
<li><bugzilla>51918</bugzilla> - GZIP compressed traffic produces errors, when multiple connections allowed</li>
<li><bugzilla>51939</bugzilla> - Should generate new parent sample if necessary when retrieving embedded resources</li>
<li><bugzilla>51942</bugzilla> - Synchronisation issue on CacheManager when Concurrent Download is used</li>
<li><bugzilla>51957</bugzilla> - Concurrent get can hang if a task does not complete</li>
<li><bugzilla>51925</bugzilla> - Calling Stop on Test leaks executor threads when concurrent download of resources is on</li>
<li><bugzilla>51980</bugzilla> - HtmlParserHTMLParser double-counts images used in links</li>
<li><bugzilla>52064</bugzilla> - OutOfMemory Risk in CacheManager</li>
<li><bugzilla>51919</bugzilla> - Random ConcurrentModificationException or NoSuchElementException in CookieManager#removeMatchingCookies when using Concurrent Download</li>
<li><bugzilla>52126</bugzilla> - HttpClient4 does not clear cookies between iterations</li>
<li><bugzilla>52129</bugzilla> - Reported Body Size is wrong when using HTTP Client 4 and Keep Alive connection</li>
<li><bugzilla>52137</bugzilla> - Problems with HTTP Cache Manager</li>
<li><bugzilla>52221</bugzilla> - Nullpointer Exception with use Retrieve Embedded Resource without HTTP Cache Manager</li>
<li><bugzilla>52310</bugzilla> - variable in IPSource failed HTTP request if "Concurrent Pool Size" is enabled</li>
<li><bugzilla>52371</bugzilla> - API Incompatibility - Methods in HTTPSampler2 now require PostMethod instead of HttpMethod[Base]. Reverted to original types.</li>
<li><bugzilla>49950</bugzilla> - Proxy : IndexOutOfBoundsException when recording with Proxy server</li>
<li><bugzilla>52409</bugzilla> - HttpSamplerBase#errorResult modifies sampleResult passed as parameter;
fix code which assumes that a new instance is created (i.e. when adding a sub-sample)
</li>
<li><bugzilla>52507</bugzilla> - Delete Http User Parameters modifier (deprecated, obsolete)</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>51996</bugzilla> - JMS Initial Context leak newly created Context when Multiple Thread enter InitialContextFactory#lookupContext at the same time</li>
<li><bugzilla>51691</bugzilla> - Authorization does not work for JMS Publisher and JMS Subscriber</li>
<li><bugzilla>52036</bugzilla> - Durable Subscription fails with ActiveMQ due to missing clientId field</li>
<li><bugzilla>52044</bugzilla> - JMS Subscriber used with many threads leads to javax.naming.NamingException: Something already bound with ActiveMQ</li>
<li><bugzilla>52072</bugzilla> - LengthPrefixedBinaryTcpClientImpl may end a sample prematurely</li>
<li><bugzilla>52390</bugzilla> - AbstractJDBCTestElement:Memory leak and synchronization issue in perConnCache</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>51865</bugzilla> - Infinite loop inside thread group does not work properly if "Start next loop after a Sample error" option set</li>
<li><bugzilla>51868</bugzilla> - A lot of exceptions in jmeter.log while using option "Start next loop" for thread</li>
<li><bugzilla>51866</bugzilla> - Counter under loop doesn't work properly if "Start next loop on error" option set for thread group</li>
<li><bugzilla>52296</bugzilla> - TransactionController + Children ThrouputController or InterleaveController leads to ERROR sampleEnd called twice java.lang.Throwable: Invalid call sequence when TPC does not run sample</li>
<li><bugzilla>52330</bugzilla> - With next-Loop-On-Error after error samples are not executed in next loop</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>52357</bugzilla> - View results in Table does not allow for multiple result samples</li>
<li><bugzilla>52491</bugzilla> - Incorrect parsing of Post data parameters in Tree Listener / Http Request view</li>
</ul>

<h3>Assertions</h3>
<ul>
<li><bugzilla>52519</bugzilla> - XMLSchemaAssertion uses JMeter JVM file.encoding instead of response encoding</li>
</ul>

<h3>Functions</h3>
<ul>
<li>The CRLF example for the char function was wrong; CRLF=(0xD,0xA), not (0xC,0xA)</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>51937</bugzilla> - JMeter does not handle missing TestPlan entry well</li>
<li><bugzilla>51988</bugzilla> - CSV Data Set Configuration does not resolve default delimiter for header parsing when variables field is empty</li>
<li><bugzilla>52003</bugzilla> - View Results Tree "Scroll automatically" does not scroll properly in case nodes are expanded</li>
<li><bugzilla>27112</bugzilla> - User Parameters should use scrollbars</li>
<li><bugzilla>52029</bugzilla> - Command-line shutdown only gets sent to last engine that was started</li>
<li><bugzilla>52093</bugzilla> - Toolbar ToolTips don't switch language</li>
<li><bugzilla>51733</bugzilla> - SyncTimer is messed up if you a interrupt a test plan</li>
<li><bugzilla>52118</bugzilla> - New toolbar : shutdown and stop buttons not disabled when no test is running</li>
<li><bugzilla>52125</bugzilla> - StatCalculator.addAll(StatCalculator calc) joins incorrect if there are more samples with the same response time in one of the TreeMap</li>
<li><bugzilla>52339</bugzilla> - JMeter Statistical mode in distributed testing shows wrong response time</li>
<li><bugzilla>52215</bugzilla> - Confusing synchronization in StatVisualizer, SummaryReport ,Summariser and issue in StatGraphVisualizer</li>
<li><bugzilla>52216</bugzilla> - TableVisualizer : currentData field is badly synchronized</li>
<li><bugzilla>52217</bugzilla> - ViewResultsFullVisualizer : Synchronization issues on root and treeModel</li>
<li><bugzilla>43294</bugzilla> - XPath Extractor namespace problems</li>
<li><bugzilla>52224</bugzilla> - TestBeanHelper does not support NOT_UNDEFINED == Boolean.FALSE</li>
<li><bugzilla>52279</bugzilla> - Switching to another language loses icons in Tree and logs error Can't obtain GUI class from &hellip;</li>
<li><bugzilla>52280</bugzilla> - The menu item Options / Choose Language does not change all the displayed text to the new language</li>
<li><bugzilla>52376</bugzilla> - StatCalculator#addValue(T val, int sampleCount) should use long, not int</li>
<li><bugzilla>49374</bugzilla> - Encoding of embedded element URLs depend on the file.encoding property</li>
<li><bugzilla>52399</bugzilla> - URLRewritingModifier uses default file.encoding to match text content</li>
<li><bugzilla>50438</bugzilla> - code calculates average with integer math, expecting double value</li>
<li><bugzilla>52469</bugzilla> - Changes in Support of SSH-Tunneling of RMI traffic for Remote Testing</li>
<li><bugzilla>52466</bugzilla> - Upgrade Test Plan feature : NameUpdater does not upgrade properties</li>
<li><bugzilla>52503</bugzilla> - Unify File&rarr;Close and Window close file saving behaviour</li>
<li><bugzilla>52537</bugzilla> - Help does not scroll to correct anchor when file is first loaded</li>
</ul>

<!-- =================== Improvements =================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
<li><bugzilla>51981</bugzilla> - Better support for file: protocol in HTTP sampler</li>
<li><bugzilla>52033</bugzilla> - Allowing multiple certificates (JKS)</li>
<li><bugzilla>52352</bugzilla> - Proxy : Support IPv6 URLs capture</li>
<li><bugzilla>44301</bugzilla> - Enable "ignore failed" for embedded resources</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>51419</bugzilla> - JMS Subscriber: ability to use Selectors</li>
<li><bugzilla>52088</bugzilla> - JMS Sampler : Add a selector when REQUEST / RESPONSE is chosen</li>
<li><bugzilla>52104</bugzilla> - TCP Sampler handles badly errors</li>
<li><bugzilla>52087</bugzilla> - TCPClient interface does not allow for partial reads</li>
<li><bugzilla>52115</bugzilla> - SOAP/XML-RPC should not send a POST request when file to send is not found</li>
<li><bugzilla>40750</bugzilla> - TCPSampler : Behaviour when sockets are closed by remote host</li>
<li><bugzilla>52396</bugzilla> - TCP Sampler in "reuse connection mode" reuses previous sampler's connection even if it's configured with other host, port, user or password</li>
<li><bugzilla>52048</bugzilla> - BSFSampler, BSFPreProcessor and BSFPostProcessor should share the same GUI</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>52022</bugzilla> - In View Results Tree rather than showing just a message if the results are to big, show as much of the result as are configured</li>
<li><bugzilla>52201</bugzilla> - Add option to TableVisualiser to display child samples instead of parent </li>
<li><bugzilla>52214</bugzilla> - Save Responses to a file - improve naming algorithm</li>
<li><bugzilla>52340</bugzilla> - Allow remote sampling mode to be changed at run-time</li>
<li><bugzilla>52452</bugzilla> - Improvements on Aggregate Graph Listener (GUI and settings)</li>
<li>Resurrected OldSaveService to allow reading Avalon format JTL (result) files</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>52128</bugzilla> - Add JDBC pre- and post-processor</li>
<li><bugzilla>52183</bugzilla> - SyncTimer could be improved (performance+reliability)</li>
<li><bugzilla>52317</bugzilla> - Counter : Add option to reset counter on each Thread Group iteration</li>
<li><bugzilla>37073</bugzilla> - Add a Poisson based timer</li>
<li><bugzilla>52497</bugzilla> - Improve DebugSampler and DebugPostProcessor</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>52006</bugzilla> - Create a function RandomString to generate random Strings</li>
<li><bugzilla>52016</bugzilla> - It would be useful to support Jexl2</li>
<li>__char() function now supports octal values</li>
<li>New function __machineIP returning IP address</li>
<li><bugzilla>51091</bugzilla> - New function returning the name of the current "Test Plan"</li>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>51892</bugzilla> - Default mirror port should be different from default proxy port</li>
<li><bugzilla>51817</bugzilla> - Moving variables up and down in User Defined Variables control</li>
<li><bugzilla>51876</bugzilla> - Functionality to search in Samplers TreeView</li>
<li><bugzilla>52019</bugzilla> - Add menu option to Start a test ignoring Pause Timers</li>
<li><bugzilla>52027</bugzilla> - Allow System or CrossPlatform LAF to be set from options menu</li>
<li><bugzilla>52037</bugzilla> - Remember user-set LaF over restarts.</li>
<li><bugzilla>51861</bugzilla> - Improve HTTP Request GUI to better show parameters without name (GWT RPC requests for example) (UNDER DEVELOPMENT)</li>
<li><bugzilla>52040</bugzilla> - Add a toolbar in JMeter main window</li>
<li><bugzilla>51816</bugzilla> - Comment Field in User Defined Variables control.</li>
<li><bugzilla>52052</bugzilla> - Using a delimiter to separate result-messages for JMS Subscriber</li>
<li><bugzilla>52103</bugzilla> - Add automatic scrolling option to table visualizer</li>
<li><bugzilla>52097</bugzilla> - Save As should point to same folder that was used to open a file if MRU list is used</li>
<li><bugzilla>52085</bugzilla> - Allow multiple selection in arguments panel</li>
<li><bugzilla>52099</bugzilla> - Allow to set the transaction isolation in the JDBC Connection Configuration</li>
<li><bugzilla>52116</bugzilla> - Allow to add (paste) entries from the clipboard to an arguments list</li>
<li><bugzilla>52160</bugzilla> - Don't display TestBeanGui items which are flagged as hidden</li>
<li><bugzilla>51886</bugzilla> - SampleSender configuration resolved partly on client and partly on server</li>
<li><bugzilla>52161</bugzilla> - Enable plugins to add own translation rules in addition to upgrade.properties.
Loads any additional properties found in META-INF/resources/org.apache.jmeter.nameupdater.properties files</li>
<li><bugzilla>42538</bugzilla> - Add "duplicate node" in context menu</li>
<li><bugzilla>46921</bugzilla> - Add Ability to Change Controller elements</li>
<li><bugzilla>52240</bugzilla> - TestBeans should support Boolean, Integer and Long</li>
<li><bugzilla>52241</bugzilla> - GenericTestBeanCustomizer assumes that the default value is the empty string</li>
<li><bugzilla>52242</bugzilla> - FileEditor does not allow output to be saved in a File </li>
<li><bugzilla>51093</bugzilla> - when loading a selection previously stored by "Save Selection As", show the file name in the blue window bar</li>
<li><bugzilla>50086</bugzilla> - Password fields not Hidden in JMS Publisher, JMS Subscriber, Mail Reader sampler, SMTP sampler and Database Configuration</li>
<li><bugzilla>29352</bugzilla> - Use external store to hold samples during distributed testing, Added DiskStore remote sample sender: like Hold, but saves samples to disk until end of test.</li>
<li><bugzilla>52333</bugzilla> - Reduce overhead in calculating SampleResult#nanoTimeOffset</li>
<li><bugzilla>52346</bugzilla> - Shutdown detects if there are any non-daemon threads left which prevent JVM exit.</li>
<li><bugzilla>52281</bugzilla> - Support for file Drag and Drop</li>
<li><bugzilla>52471</bugzilla> - Improve Mirror Server performance by Using Pool of threads instead of launching a Thread for each request</li>
<li>Resurrected OldSaveService to allow reading Avalon format JMX files (removed in 2.4)</li>
<li>Add a dialog box to confirm removing the element(s) when Remove action is called</li>
<li><bugzilla>41788</bugzilla> - Log viewer (console window) needed as an option</li>
<li>Add option to change the pause time (default 2000ms) in the daemon thread which checks for successful JVM exit.
The thread is not now started unless the pause time is greater than 0.
</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li>fixes to build.xml: support scripts; localise re-usable property names</li>
<li><bugzilla>51923</bugzilla> - Counter function bug or documentation issue ? (fixed docs)</li>
<li>Update velocity.jar to 1.7 (from 1.6.2)</li>
<li>Update js.jar to 1.7R3 (from 1.6R5)</li>
<li>Update commons-codec 1.5 &rArr; 1.6</li>
<li>Update commons-io 2.0.1 &rArr; 2.1</li>
<li>Update commons-jexl 2.0.1 &rArr; 2.1.1</li>
<li>Update jdom 1.1 &rArr; 1.1.2</li>
<li>Update junit 4.9 &rArr; 4.10</li>
<li><bugzilla>51954</bugzilla> - Generated documents include &lt;/br&gt; entries which cause extra blank lines </li>
<li><bugzilla>52075</bugzilla> - JMeterProperty.clone() currently returns Object; it should return JMeterProperty</li>
<li>Updated httpcore to 4.1.4</li>
<li><bugzilla>49753</bugzilla> - Please publish jMeter artifacts on Maven central repository</li>
</ul>

<!--  ========== 2.5.1 ===========  -->

<h1>Version 2.5.1</h1>

<h2>Summary of main changes</h2>

<ul>
<li>HttpClient4 sampler now re-uses connections properly (previously it would use one per sample, which could quickly cause resource exhaustion).</li>
<li>Various fixes to JMS samplers</li>
<li>Functions are no longer spuriously invoked when used with a Configuration element</li>
<li>WebService sampler GUI has been re-organized for better design and more user-friendliness. Some improvements on WSDL configuration assistant</li>
<li>Better handling of test shutdown. System.exit now only called if there is no other option; even this can be disabled.</li>
</ul>


<h2>Known bugs</h2>

<p>
The Include Controller has some problems in non-GUI mode.
In particular, it can cause a NullPointerException if there are two include controllers with the same name.
</p>

<p>The Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>The If Controller may cause an infinite loop if the condition is always false from the first iteration.
A workaround is to add a sampler at the same level as (or superior to) the If Controller.
For example a Test Action sampler with 0 wait time (which doesn't generate a sample),
or a Debug Sampler with all fields set to False (to reduce the sample size).
</p>

<p>
The menu item Options / Choose Language does not change all the displayed text to the new language.
[The behaviour has improved, but language change is still not fully working]
To override the default local language fully, set the JMeter property "language" before starting JMeter.
</p>

<h2>Incompatible changes</h2>

<p>
The HttpClient4 and Commons HttpClient 3.1 samplers previously used a retry count of 3.
This has been changed to default to 1, to be compatible with the Java implementation.
The retry count can be overridden by setting the relevant JMeter property, for example:
<pre>
httpclient4.retrycount=3
httpclient3.retrycount=3
</pre>
</p>

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li>Fix HttpClient 4 sampler so it reuses HttpClient instances and connections where possible.</li>
<li>Temporary fix to HC4 sampler to work round HTTPCLIENT-1120.</li>
<li><bugzilla>51863</bugzilla> - Lots of ESTABLISHED connections with HttpClient 4 implementation (vs HttpClient 3.1 impl)</li>
<li><bugzilla>51750</bugzilla> - Retrieve all embedded resources doesn't follow IFRAME</li>
<li><bugzilla>51752</bugzilla> - HTTP Cache is broken when using "Retrieve all embedded resources" with concurrent pool</li>
<li><bugzilla>39219</bugzilla> - HTTP Server: You can't stop it after File&rarr;Open</li>
<li><bugzilla>51775</bugzilla> - Port number duplicates in Host header when capturing by HttpClient (3.1 and 4.x)</li>
<li><bugzilla>50617</bugzilla> - Monitor Results legend show "dead" server although values from the server are retrieved</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>50424</bugzilla> - Web Methods drop down list box inconsistent</li>
<li><bugzilla>43293</bugzilla> - Java Request fields not cleared when creating new sampler</li>
<li><bugzilla>51830</bugzilla> - Webservice Soap Request triggers too many popups when Webservice WSDL URL is down</li>
<li>WebService(SOAP) request - add a connect timeout to get the wsdl used to populate Web Methods when server doesn't response</li>
<li><bugzilla>51841</bugzilla> - JMS : If an error occurs in ReceiveSubscriber constructor or Publisher, then Connections will stay open</li>
<li><bugzilla>51691</bugzilla> - Authorization does not work for JMS Publisher and JMS Subscriber</li>
<li><bugzilla>51840</bugzilla> - JMS : Cache of InitialContext has some issues</li>
<li><bugzilla>47888</bugzilla> - JUnit Sampler re-uses test object</li>
</ul>

<h3>Controllers</h3>
<ul>
<li>If Controller - Fixed two regressions introduced by <bugzilla>50032</bugzilla> (see <bugzilla>50618</bugzilla> too)</li>
<li>If Controller - Catches a StackOverflowError when a condition returns always false (after at least one iteration with return true) See <bugzilla>50618</bugzilla></li>
<li><bugzilla>51869</bugzilla> - NullPointer Exception when using Include Controller</li>
</ul>

<h3>Listeners</h3>
<ul>
</ul>

<h3>Assertions</h3>
<ul>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>48943</bugzilla> - Functions are invoked additional times when used in combination with a Config Element</li>
</ul>

<h3>I18N</h3>
<ul>
<li>WebService(SOAP) request - add I18N for some labels</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>51831</bugzilla> - Cannot disable UDP server or change the maximum UDP port</li>
<li><bugzilla>51821</bugzilla> - Add short-cut for Enabling / Disabling (sub)tree or branches in test plan.</li>
<li><bugzilla>47921</bugzilla> - Variables not released for GC after JMeterThread exits.</li>
<li><bugzilla>51839</bugzilla> - "&hellip; end of run" printed prematurely</li>
<li><bugzilla>51847</bugzilla> - Some JUnit tests are Locale sensitive and fail if Locale is different from US</li>
<li><bugzilla>51855</bugzilla> - Parent samples may have slightly inaccurate elapsed times</li>
<li><bugzilla>51880</bugzilla> - The shutdown command is not working if I invoke it before all the thread are started</li>
<li>Remote Shut host menu item was not being enabled.</li>
<li><bugzilla>51888</bugzilla> - Occasional deadlock when stopping a testplan</li>
</ul>

<!-- ==================================================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
<li><bugzilla>51380</bugzilla> - Control reuse of cached SSL Context from iteration to iteration</li>
<li><bugzilla>51882</bugzilla> - HTTPHC3Client uses a default retry count of 3, make it configurable; default is now 1</li>
<li>Change the default HttpClient 4 sampler retry count to 1</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li>Beanshell Sampler now supports Interruptible interface</li>
<li><bugzilla>51605</bugzilla> - WebService(SOAP) Request - WebMethod field value changes surreptitiously for all the requests when a value is selected in a request</li>
<li>WebService(SOAP) Request - Reorganized GUI for better design and more user-friendliness</li>
</ul>

<h3>Controllers</h3>
<ul>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>42246</bugzilla> - Need for a 'auto-scroll' option in "View Results Tree" and "Assertion Results"</li>
<li>View Results Tree: Regexp Tester - little improvements on user interface</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>51885</bugzilla> - Allow a JMeter Variable as input to XPathExtractor</li>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>51822</bugzilla> - (part 1) save 1 invocation of GuiPackage#getCurrentGui</li>
<li>Added AsynchSampleSender which sends samples from server to client asynchronously.</li>
<li>Upgraded to htmlparser 2.1; JavaMail 1.4.4; JUnit 4.9</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li><bugzilla>49976</bugzilla> - FormCharSetFinder visibility is default instead of public. </li>
<li><bugzilla>50917</bugzilla> - Property CookieManager.save.cookies not honored when set from test plan</li>
<li>Improve error logging when Javascript errors are detected.</li>
<li>Updated documentation footer</li>
</ul>

<!--  ========== 2.5 ===========  -->

<h1>Version 2.5</h1>

<h2>Summary of main changes</h2>

<ul>
<li>The HTTP implementation can now be selected at run-time, and JMeter now also supports Apache HttpComponents HttpClient 4.x.
Note that Commons HttpClient 3.1 is no longer actively developed, and support may be removed from JMeter in a future release.
</li>
<li>The HTTP sampler now allows concurrent downloads of embedded resources in an HTML page</li>
<li>The HTTP Sampler can now report the size of a request before decompression.</li>
<li>The JMS and Mail samplers have been improved.</li>
<li>The new Test Fragment Test Element makes using Include Controllers easier</li>
<li>There are various improvements to the View Results Tree Listener</li>
<li><bugzilla>30563</bugzilla> - Thread Group should have a start next loop option on Sample Error</li>
<li>There are two new Thread Group types - setUp and tearDown - which are run before and after the main Thread groups.</li>
<li>Client-Server mode now supports external stop/shutdown via UDP<br></br>
multiple JMeter server instances can be started on the same host without needing to change the port property.</li>
<li><bugzilla>50516</bugzilla> - "Host" header in HTTP Header Manager is not included in generated HTTP request</li>
</ul>

<p>
<ul>
</ul>
</p>


<!--  ========================= End of summary ===================================== -->

<h2>Known bugs</h2>

<p>
The Include Controller has some problems in non-GUI mode.
In particular, it can cause a NullPointerException if there are two include controllers with the same name.
</p>

<p>Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>
The menu item Options / Choose Language does not change all the displayed text to the new language.
[The behaviour has improved, but language change is still not fully working]
To override the default local language fully, set the JMeter property "language" before starting JMeter.
</p>

<h2>Incompatible changes</h2>

<p>
Unsupported methods are no longer converted to GET by the Commons HttpClient sampler.
</p>

<p>
Removed method public static long currentTimeInMs().
This has been replaced by the instance method public long currentTimeInMillis().
</p>

<p>
ProxyControl.getSamplerTypeName() now returns a String rather than an int.
This is internal to the workings of the JMeter Proxy &amp; its GUI, so should not affect any user code.
</p>

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>50178</bugzilla> - HeaderManager added as child of Thread Group can create concatenated HeaderManager names and OutOfMemoryException</li>
<li><bugzilla>50392</bugzilla> - value is trimmed when sending the request in Multipart</li>
<li><bugzilla>50686</bugzilla> - HeaderManager logging too verbose when merging instances</li>
<li><bugzilla>50963</bugzilla> - AjpSampler throws java.lang.StringIndexOutOfBoundsException</li>
<li><bugzilla>50516</bugzilla> - "Host" header in HTTP Header Manager is not included in generated HTTP request</li>
<li><bugzilla>50544</bugzilla> - In Apache Common Log the HEAD requests cause problems.</li>
<li><bugzilla>51268</bugzilla> - HTTPS request through an invalid proxy causes NullPointerException and does not show in result tree.
Rather than delegating to the JMeter thread handler for "unexpected" failures, ensure all Exceptions generate a sample error.
</li>
<li><bugzilla>51275</bugzilla> - Cookie Panel clearGui() sets incorrect default policy in Java 1.6</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>50173</bugzilla> - JDBCSampler discards ResultSet from a PreparedStatement</li>
<li>Ensure JSR223 Sampler has access to the current SampleResult</li>
<li><bugzilla>50977</bugzilla> - Unable to set TCP Sampler for individual samples</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>50032</bugzilla> - Last_Sample_Ok along with other controllers doesn't work correctly when the threadgroup has multiple loops</li>
<li><bugzilla>50080</bugzilla> - Transaction controller incorrectly creates samples including timer duration</li>
<li><bugzilla>50134</bugzilla> - TransactionController : Reports bad response time when it contains other TransactionControllers</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>50367</bugzilla> - Clear / Clear all in View results tree does not clear selected element</li>
</ul>

<h3>Assertions</h3>
<ul>
<li><bugzilla>51488</bugzilla> - Assertion: Variable name scope is shared among all assertions (and <bugzilla>51255</bugzilla>)</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>50568</bugzilla> - Function __FileToString(): Could not read file when encoding option is blank/empty</li>
</ul>

<h3>I18N</h3>
<ul>
<li><bugzilla>50811</bugzilla> - Incomplete Spanish translation</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>49734</bugzilla> - Null pointer exception on stop Threads command (Run &rarr; Stop)</li>
<li><bugzilla>49666</bugzilla> - CSV Header read as data after EOF</li>
<li><bugzilla>45703</bugzilla> - Synchronizing Timer</li>
<li><bugzilla>50088</bugzilla> - fix getAvgPageBytes in SamplingStatCalculator so it returns what it should</li>
<li><bugzilla>50203</bugzilla> Cannot set property "jmeter.save.saveservice.default_delimiter=\t"</li>
<li>mirror-server.sh - fix classpath to use : separator (not ;)</li>
<li><bugzilla>50286</bugzilla> - URL Re-writing Modifier: extracted jsessionid value is incorrect when is between XML tags</li>
<li>
System.nanoTime() tends to drift relative to System.currentTimeMillis().
Change SampleResult to recalculate offset each time.
Also enable reversion to using System.currentTimeMillis() only.
</li>
<li><bugzilla>50425</bugzilla> - Remove thread groups from Controller add menu</li>
<li>
<bugzilla>50675</bugzilla> - CVS Data Set Config incompatible with Remote Start
Fixed RMI startup to provide location of JMX file relative to user.dir.
</li>
<li><bugzilla>50221</bugzilla> - Renaming elements in the tree does not resize label</li>
<li><bugzilla>51002</bugzilla> - Stop Thread if CSV file is not available. JMeter now treats IOError as EOF.</li>
<li>Define sun.net.http.allowRestrictedHeaders=true by default. This fixes <bugzilla>51238</bugzilla>.</li>
<li><bugzilla>51645</bugzilla> - CSVDataSet does not read UTF-8 files when file.encoding is UTF-8</li>
</ul>

<!-- ==================================================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
<li>AJP Sampler now implements Interruptible</li>
<li>Allow HTTP implementation to be selected at run-time</li>
<li><bugzilla>50684</bugzilla> - Optionally disable Content-Type and Transfer-Encoding in Multipart POST</li>
<li><bugzilla>50943</bugzilla> - Allowing concurrent downloads of embedded resources in html page</li>
<li><bugzilla>50170</bugzilla> - Bytes reported by http sampler is after GUnZip<br></br>Add optional properties to allow change the method to get response size</li>
<li>Hiding the proxy password on HTTP Sampler (just on GUI, not in JMX file)</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>49622</bugzilla> - Allow sending messages without a subject (SMTP Sampler)</li>
<li><bugzilla>49603</bugzilla> - Allow accepting expired certificates on Mail Reader Sampler</li>
<li><bugzilla>49775</bugzilla> - Allow sending messages without a body</li>
<li><bugzilla>49862</bugzilla> - Improve SMTPSampler Request output.</li>
<li><bugzilla>50268</bugzilla> - Adds static and dynamic destinations to JMS Publisher</li>
<li>JMS Subscriber - Add dynamic destination</li>
<li><bugzilla>50666</bugzilla> - JMSSubscriber: support for durable subscriptions</li>
<li><bugzilla>50937</bugzilla> - TCP Sampler does not provide for / honor connect timeout</li>
<li><bugzilla>50569</bugzilla> - Jdbc Request Sampler to optionally store result set object data</li>
<li><bugzilla>51011</bugzilla> - Mail Reader: upon authentication failure, tell what you tried</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>50475</bugzilla> - Introduction of a Test Fragment Test Element for a better Include flow</li>
</ul>

<h3>Listeners</h3>
<ul>
<li>View Results Tree - Add a dialog's text box on "Sampler result tab &rarr; Parsed" to display the long value with a double click on cell</li>
<li><bugzilla>37156</bugzilla> - Formatted view of Request in Results Tree</li>
<li><bugzilla>49365</bugzilla> - Allow result set to be written to file in a path relative to the loaded script</li>
<li><bugzilla>50579</bugzilla> - Error count is long, sample count is int. Changed sample count to long.</li>
<li>View Results Tree - Add new size fields: response headers and response body (in bytes) - derived from <bugzilla>43363</bugzilla></li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>48015</bugzilla> - Proposal new icons for pre-processor, post-processor and assertion elements</li>
<li><bugzilla>50962</bugzilla> - SizeAssertionGui validation prevents the use of variables for the size</li>
<li>Size Assertion - Add response size scope (full, headers, body, code, message) - derived from <bugzilla>43363</bugzilla></li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>49975</bugzilla> - New function returning the name of the current sampler</li>
</ul>

<h3>I18N</h3>
<ul>
<li>Add French translation for the new labels and reduce size for some labels (by abbreviation) on HTTP Sample</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>30563</bugzilla> - Thread Group should have a start next loop option on Sample Error</li>
<li><bugzilla>50347</bugzilla> - Eclipse setup instructions should remind user to download dependent jars</li>
<li><bugzilla>50490</bugzilla> - Setup and Post Thread Group enhancements for better test flow.</li>
<li>All BeanShell test elements now have the script variables "prev" and "Label" defined.</li>
<li><bugzilla>50708</bugzilla> - Classpath jar order in NewDriver not alphabetically</li>
<li><bugzilla>50659</bugzilla> - JMeter server does not support concurrent tests - prevent client from starting another</li>
<li>Added remote shutdown functionality</li>
<li>Client JMeter engine now supports external stop/shutdown via UDP</li>
<li>UDP shutdown can now use a range of ports, from jmeterengine.nongui.port=4445 to jmeterengine.nongui.maxport=4455,
allowing multiple JMeter instances on the same host without needing to change the port property.</li>
<li>Updated to httpcore 4.1.3 and httpclient 4.1.2</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li><bugzilla>50008</bugzilla> - Allow BatchSampleSender to be subclassed</li>
<li><bugzilla>50450</bugzilla> - use System.array copy in jacobi solver as, being native, is more performant.</li>
<li><bugzilla>50487</bugzilla> - runSerialTest verifies objects that never need persisting</li>
<li>Use Thread.setDefaultUncaughtExceptionHandler() instead of private ThreadGroup</li>
<li>Update to Commons Net 3.0</li>
</ul>

<!--  ========== 2.4 ===========  -->

<h1>Version 2.4</h1>

<h2>Summary of main changes</h2>

<p>
<ul>
<li>JMeter now requires at least Java 1.5.</li>
<li>HTTP Proxy can now record HTTPS sessions.</li>
<li>JUnit sampler now supports JUnit4 annotations.</li>
<li>Added JSR223 (javax.script) test elements.</li>
<li>MailReader Sampler can now use any protocol supported by the underlying implementation.</li>
<li>An SMTP Sampler has been added.</li>
<li>JMeter now allows users to provide their own Thread Group implementations.</li>
<li>View Results Tree now supports more display options, including search and Regex Testing.</li>
<li>StatCalculator performance is much improved; Aggregate Report etc. need far less memory.</li>
<li>
JMS samplers have been extensively reworked, and should no longer lose messages.
Correlation processing is improved.
JMS Publisher and Subscriber now support both Topics and Queues.
</li>
<li>Many other improvements have been made, please see below and in the manual.</li>
</ul>
</p>


<!--  ========================= End of summary ===================================== -->

<h2>Known bugs</h2>

<p>
The Include Controller has some problems in non-GUI mode.
In particular, it can cause a NullPointerException if there are two include controllers with the same name.
</p>

<p>Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>
The menu item Options / Choose Language does not change all the displayed text to the new language.
[The behaviour has improved, but language change is still not fully working]
To override the default local language fully, set the JMeter property "language" before starting JMeter.
</p>

<h2>Incompatible changes</h2>

<p>
HTTP Redirect now defaults to "Follow Redirects" rather than "Redirect Automatically".
This is to enable JMeter to track cookies that may be sent during redirects.
This does not affect existing test plans; it only affects the default for new HTTP Samplers.
</p>

<p>
The Avalon file format for JMX and JTL files is no longer supported.
Any such files will need to be converted by reading them in JMeter 2.3.4 and resaving them.
</p>

<p>
The XPath Assertion and XPath Extractor elements no longer fetch external DTDs by default; this can be changed in the GUI.
</p>

<p>
JMSConfigGui has been renamed as JMSSamplerGui.
This does not affect existing test plans.
</p>

<p>
The constructor public SampleResult(SampleResult res) has been changed to become a true "copy constructor".
It no longer calls addSubResult(). This may possibly affect some 3<sup>rd</sup> party add-ons.
</p>

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>47445</bugzilla> - Using Proxy with https-spoofing secure cookies need to be unsecured</li>
<li><bugzilla>47442</bugzilla> - Missing replacement of https by http for certain conditions using https-spoofing</li>
<li><bugzilla>48451</bugzilla> - Error in: SoapSampler.setPostHeaders(PostMethod post) in the else branch</li>
<li><bugzilla>48542</bugzilla> - SoapSampler uses wrong response header field to decide if response is gzip encoded</li>
<li><bugzilla>48568</bugzilla> - CookieManager broken for AjpSampler</li>
<li><bugzilla>48570</bugzilla> - AjpSampler doesn't support query parameters (GET/POST)</li>
<li><bugzilla>46901</bugzilla> - HTTP Sampler does not process var/func refs correctly in first file parameter</li>
<li><bugzilla>43678</bugzilla> - Handle META tag http-equiv charset?</li>
<li><bugzilla>49294</bugzilla> - Images not downloaded from redirected-to pages</li>
<li><bugzilla>49560</bugzilla> - wrong "size in bytes" when following redirections</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>47420</bugzilla> - LDAP extended request not closing connections during add request</li>
<li><bugzilla>48573</bugzilla> - LDAPExtSampler directory context handling</li>
<li><bugzilla>47870</bugzilla> - JMSSubscriber fails due to NPE</li>
<li><bugzilla>47899</bugzilla> - NullPointerExceptions in JMS ReceiveSubscriber constructor</li>
<li><bugzilla>48144</bugzilla> - NPE in JMS OnMessageSubscriber</li>
<li><bugzilla>47992</bugzilla> - JMS Point-to-Point Request - Response option doesn't work</li>
<li><bugzilla>48579</bugzilla> - Single Bind does not show config information when LdapExt Sampler is accessed</li>
<li><bugzilla>49111</bugzilla> - "Message With ID Not Found" Error on JMS P2P sampler.</li>
<li><bugzilla>47949</bugzilla> - JMS Subscriber never receives all the messages</li>
<li><bugzilla>46142</bugzilla> - JMS Point-to-Point correlation problems</li>
<li><bugzilla>48747</bugzilla> - TCP Sampler swallows exceptions</li>
<li><bugzilla>48709</bugzilla> - TCP Sampler Config setting "classname" has no effect</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>47385</bugzilla> - TransactionController should set AllThreads and GroupThreads</li>
<li><bugzilla>47940</bugzilla> - Module controller incorrectly creates the replacement Sub Tree</li>
<li><bugzilla>47592</bugzilla> - Run Thread groups consecutively with "Stop test" on error, JMeter will not mark to finished</li>
<li><bugzilla>48786</bugzilla> - Run Thread groups consecutively: with "Stop test now" on error or manual stop, JMeter leaves the green box active</li>
<li><bugzilla>48727</bugzilla> - Cannot stop test if all thread groups are disabled</li>
</ul>

<h3>Listeners</h3>
<ul>
<li><bugzilla>48603</bugzilla> - Mailer Visualiser sends two emails for a single failed response</li>
<li>Correct calculation of min/max/std.dev for aggregated samples (Summary Report)</li>
<li><bugzilla>48889</bugzilla> - Wrong response time with mode=Statistical and num_sample_threshold &gt; 1</li>
<li><bugzilla>47398</bugzilla> - SampleEvents are sent twice over RMI in distributed testing and non gui mode</li>
</ul>

<h3>Assertions</h3>
<ul>
</ul>

<h3>Functions</h3>
<ul>
</ul>

<h3>I18N</h3>
<ul>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>47646</bugzilla> -  NullPointerException in the "Random Variable" element</li>
<li>Disallow adding any child elements to JDBC Configuration</li>
<li>BeanInfoSupport now caches getBeanDescriptor() - should avoid an NPE on non-Sun JVMs when using CSVDataSet (and some other TestBeans)</li>
<li><bugzilla>48350</bugzilla> - Deadlock on distributed testing with 2 clients</li>
<li><bugzilla>48901</bugzilla> - Endless wait by adding Synchronizing Timer</li>
<li><bugzilla>49149</bugzilla> - usermanual/index.html has typo in link to "Regular Expressions" page</li>
<li><bugzilla>49394</bugzilla> - Classcast Exception in ActionRouter.postActionPerformed</li>
<li><bugzilla>48136</bugzilla> - Essential files missing from source tarball.<br/>
Source archives now contain all source files, including source files previously only provided in the binary archives.
</li>
<li><bugzilla>48331</bugzilla> - XpathExtractor does not return XML string representations for a Nodeset</li>
</ul>

<!-- ==================================================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
<li><bugzilla>47622</bugzilla> - enable recording of HTTPS sessions</li>
<li>Allow Proxy Server to be specified on HTTP Sampler GUI and HTTP Config GUI</li>
<li><bugzilla>47461</bugzilla> - Update Cache Manager to handle Expires HTTP header</li>
<li><bugzilla>48153</bugzilla> - Support for Cache-Control and Expires headers</li>
<li><bugzilla>47946</bugzilla> - Proxy should enable Grouping inside a Transaction Controller</li>
<li><bugzilla>48300</bugzilla> - Allow override of IP source address for HTTP HttpClient requests</li>
<li><bugzilla>49083</bugzilla> - collapse '/pathsegment/..' in redirect URLs</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li>JUnit sampler now supports JUnit4 tests (using annotations)</li>
<li><bugzilla>47900</bugzilla> - Allow JMS SubscriberSampler to be interrupted</li>
<li>Added JSR223 Sampler</li>
<li><bugzilla>47556</bugzilla> - JMS-PointToPoint-Sampler Timeout field should use Strings</li>
<li><bugzilla>47947</bugzilla> - Mail Reader Sampler should allow port to be overridden</li>
<li><bugzilla>48155</bugzilla> - Multiple problems / enhancements with JMS protocol classes</li>
<li>Allow MailReader sampler to use arbitrary protocols</li>
<li><bugzilla>45053</bugzilla> - SMTP-Sampler for JMeter</li>
<li><bugzilla>49552</bugzilla> - Add Message Headers on SMTPSampler</li>
<li>
JMS Publisher and Subscriber now support both Topics and Queues.
Added read Timeout to JMS Subscriber.
General clean-up of JMS code.
</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>47909</bugzilla> - TransactionController should sum the latency</li>
<li><bugzilla>41418</bugzilla> - Exclude timer duration from Transaction Controller runtime in report</li>
<li><bugzilla>48749</bugzilla> - Allowing custom Thread Groups</li>
<li><bugzilla>43389</bugzilla> - Allow Include files to be found relative to the current JMX file</li>
</ul>

<h3>Listeners</h3>
<ul>
<li>Added DataStrippingSample sender - supports "Stripped" and "StrippedBatch" modes.</li>
<li>Added Comparison Assertion Visualizer</li>
<li><bugzilla>47907</bugzilla> - Improvements (enhancements and I18N) Comparison Assertion and Comparison Visualizer</li>
<li><bugzilla>36726</bugzilla> - add search function to Tree View Listener</li>
<li><bugzilla>47869</bugzilla> - Ability to cleanup fields of SampleResult</li>
<li><bugzilla>47952</bugzilla> - Added JSR223 Listener</li>
<li><bugzilla>47474</bugzilla> - View Results Tree support for plugin renderers</li>
<li>Allow Idle Time to be saved to sample log files</li>
<li><bugzilla>48259</bugzilla> - Improve StatCalculator performance by using TreeMap</li>
<li>Listeners using SamplingStatCalculator have much reduced memory needs
as the Sample cache has been moved to the new CachingStatCalculator class.
In particular, Aggregate Report can now handle large numbers of samples.
</li>
<li>Aggregate Report and Summary Report now allow column headers to be optionally excluded</li>
<li><bugzilla>49506</bugzilla> - Add .csv File Extension in open dialog box from "read from file" functionality of listeners</li>
<li><bugzilla>49545</bugzilla> - Formatted (parsed) view of Sample Result in Results Tree</li>
</ul>

<h3>Timers, Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>47338</bugzilla> - XPath Extractor forces retrieval of document DTD</li>
<li>Added Comparison Assertion</li>
<li><bugzilla>47952</bugzilla> - Added JSR223 PreProcessor and PostProcessor</li>
<li>Added JSR223 Assertion</li>
<li>Added BSF Timer and JSR223 Timer</li>
<li><bugzilla>48511</bugzilla> - add parent,child,all selection to regex extractor</li>
<li>Add Sampler scope selection to XPathExtractor</li>
<li>Regular Expression Extractor, Response Assertion and Size Assertion can now be applied to a JMeter variable</li>
<li><bugzilla>46790</bugzilla> - CSV Data Set Config should be able to parse CSV headers</li>
</ul>

<h3>Functions</h3>
<ul>
<li><bugzilla>47565</bugzilla> - [Function] FileToString</li>
</ul>

<h3>I18N</h3>
<ul>
<li><bugzilla>47938</bugzilla> -  Adding some French translations for new elements</li>
<li><bugzilla>48714</bugzilla> -  add new French messages</li>
</ul>

<h3>General</h3>
<ul>
<li><bugzilla>47223</bugzilla> - Slow Aggregate Report Performance (StatCalculator)</li>
<li><bugzilla>47980</bugzilla> - hostname resolves to 127.0.0.1 - specifying IP not possible</li>
<li><bugzilla>47943</bugzilla> - DisabledComponentRemover is not used in Start class</li>
<li>HeapDumper class for runtime generation of dumps</li>
<li>Basic read-only JavaMail provider implementation for reading raw mail files</li>
<li><bugzilla>49540</bugzilla> - Sort "Add" menus alphabetically</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li>Beanshell, JavaMail and JMS API (Apache Geronimo) jars are now included in the binary archive.</li>
<li>Add TestBean Table Editor support</li>
<li>Removed all external libraries from SVN; added download_jars Ant target</li>
<li>Updated various jar files:
<ul>
<li>BeanShell - 2.0b4 &rArr; 2.0b5</li>
<li>Commons Codec - 1.3 &rArr; 1.4</li>
<li>Commons-Collections - 3.2 &rArr; 3.2.1</li>
<li>JTidy &rArr; r938</li>
<li>JUnit - 3.8.2 &rArr; 4.8.1</li>
<li>Logkit - 1.2 &rArr; 2.0</li>
<li>Xalan Serializer = 2.7.1 (previously erroneously shown as 2.9.1)</li>
<li>Xerces xml-apis = 1.3.04 (previously erroneously shown as 2.9.1)</li>
<li>Some jar files were renamed.</li>
</ul>
</li>
</ul>

<!--  ========== 2.3.4 ===========  -->

<h1>Version 2.3.4</h1>

<h2>Summary of main changes</h2>

<p>
This is a minor bug-fix release, mainly to correct some bugs that were accidentally added in 2.3.3.
</p>


<h2>Known bugs</h2>

<p>
The Include Controller has some problems in non-GUI mode.
In particular, it can cause a NullPointerException if there are two include controllers with the same name.
</p>

<p>Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>
The menu item Options / Choose Language does not change all the displayed text to the new language.
[The behaviour has improved, but language change is still not fully working]
To override the default local language fully, set the JMeter property "language" before starting JMeter.
</p>

<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>47321</bugzilla> -  HTTPSampler2 response timeout not honored</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li><bugzilla>47290</bugzilla> -  Infinite loop on connection factory lookup (JMS)</li>
<li>JDBC Sampler should not close Prepared or Callable statements as these are cached</li>
</ul>

<h3>Controllers</h3>
<ul>
<li><bugzilla>39509</bugzilla> -  Once-only controller running twice</li>
</ul>

<h3>Listeners</h3>
<ul>
<li>Change ResultCollector to only warn if the directory was not created</li>
<li>Fix some synchronisation issues in ResultCollector and SampleResult (wrong locks were being used)</li>
</ul>

<h3>I18N</h3>
<ul>
<li>Fixed bug introduced in 2.3.3: JMeter does not start up if there is no messages.properties file for the default Locale.</li>
</ul>

<h3>General</h3>
<ul>
<li>Fix problems with remote clients - bug introduced in 2.3.3</li>
<li><bugzilla>47377</bugzilla> - Make ClassFinder more robust and close zipfile resources</li>
<li>Fix some errors in generating the documentation (latent bug revealed in 2.3.3 when Velocity was upgraded)</li>
</ul>

<h2>Improvements</h2>

<h3>Other samplers</h3>
<ul>
<li><bugzilla>47266</bugzilla> - FTP Request Sampler: allow specifying an FTP port, other than the default</li>
</ul>

<!--  ===================  -->

<h1>Version 2.3.3</h1>

<h2>Summary of main changes</h2>

<p>
The handling of test closedown is much improved.
The gradual "Shutdown" command now waits until all threads have stopped,
and does not report an error if threads don't stop within 5 seconds.
The immediate "Stop" command can now be used if "Shutdown" takes too long.
Also the immediate "Stop" command is able to interrupt samplers which support the new Interruptible interface (e.g. HTTP and SOAP, FTP).
This allows immediate completion of pending responses.
Non-GUI mode tests can also now be sent a "Shutdown" or "Stop" message.
<complink name="Test Action"/> now supports a "Stop Now" action,
as do the <complink name="Thread Group"/> and <complink name="Result Status Action Handler"/> Post Processor elements.
</p>

<p>
HTTP Cookie handling is improved, and HTTP POST can now use variable file names correctly.
HTTP, SOAP/XML-RPC and WebService(SOAP) sampler character encodings updated to be more consistent.
HTTP Samplers now support connection and response timeouts (requires JVM 1.5 for the HTTP Java sampler).
Together with the closedown improvements described above, this should avoid most cases where a test run hangs.
Multiple Header Manager elements are now supported for a single HTTP sampler.
The Proxy Server is improved, and no longer stores "Host" headers by default.
</p>

<p>
JDBC Request can optionally save the results of Select statements to variables.
JDBC Request now handles quoted strings and UTF-8, and can handle arbitrary variable types.
</p>

<p>
There are several new <a href="usermanual/functions.html">functions</a>:
__char() function: allows arbitrary Unicode characters to be entered in fields.
__unescape() function: allows Java-escaped strings to be used.
_unescapeHtml() function: decodes Html-encoded text.
__escapeHtml() function: encodes text using Html-encoding.
A reference to a missing function - e.g. ${__missing(a)} - is now treated the same as a missing variable.
Previously the function name - and leading { - were dropped. This makes it easier to debug test plans.
</p>

<p>
Some Assertions can now be applied to sub-samples as well as (or instead of) just the parent sample.
There is a new <complink name="Random Variable"/> Configuration element.
</p>

<p>
JMS samplers are much improved (see details below). The <complink name="TCP Sampler"/> now supports some additional clients and is a bit more flexible.
</p>

<p>
Client-server mode has been improved, and the server can optionally use a fixed RMI port, which should help with setting up firewalls.
</p>

<p>
Various I18N changes have been made; language change works better (though not perfect yet).
There are improved French translations as well as new Polish and Brazilian Portuguese translations.
</p>

<p>
The BeanShell jar is now included with the binary archive; there is no need to download it separately.
</p>

<!--  ========================= End of summary ===================================== -->

<h2>Known bugs</h2>

<p>
The Include Controller has some problems in non-GUI mode.
In particular, it can cause a <code>NullPointerException</code> if there are two include controllers with the same name.
</p>

<p>Once Only controller behaves correctly under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>
The menu item <menuchoice><guimenuitem>Options</guimenuitem><guimenuitem>Choose Language</guimenuitem></menuchoice>
does not change all the displayed text to the new language.
[The behaviour has improved, but language change is still not fully working]
To override the default local language fully, set the JMeter property "<code>language</code>" before starting JMeter.
</p>

<h2>Incompatible changes</h2>
<p>
When loading sample results from a file, previous results are no longer cleared.
This allows one to merge multiple files.
If the previous behaviour is required,
use the menu item <menuchoice>
  <guimenuitem>Run</guimenuitem>
  <guimenuitem>Clear</guimenuitem>
  <shortcut>
    <keycombo>
      <keysym>Ctrl</keysym><keysym>Shift</keysym><keysym>E</keysym>
    </keycombo>
  </shortcut>
</menuchoice> or <menuchoice>
  <guimenuitem>Run</guimenuitem>
  <guimenuitem>Clear All</guimenuitem>
  <shortcut>
    <keycombo>
     <keysym>Ctrl</keysym><keysym>E</keysym>
    </keycombo>
  </shortcut>
</menuchoice> before loading the file.
</p>
<p>
The test elements "Save Results to a file" and "Generate Summary Results" are now shown as Listeners.
They were previously shown as Post-Processors, even though they are implemented as Listeners.
</p>
<p>
The Cookie Manager no longer saves incoming cookies as variables by default.
To save cookies as variables, define the property "<code>CookieManager.save.cookies=true</code>".
Also, cookies names are prefixed with "<code>COOKIE_</code>" before they are stored (this avoids accidental corruption of local variables)
To revert to the original behaviour, define the property "<code>CookieManager.name.prefix= </code>" (one or more spaces).
</p>
<p>
The Counter element is now shown as a Configuration element.
It was previously shown as a Pre-Processor, even though it is implemented as a Config item.
</p>
<p>
The above changes only affect the icons that are displayed and the locations in the GUI pop-up menus.
They do not affect test plans or test behaviour.
</p>
<p>
The PreProcessors are now invoked directly by the JMeterThread class,
rather than by the TestCompiler#configureSampler() method. (JMeterThread handles the PostProcessors).
This does not affect test plans or behaviour, but could perhaps affect 3<sup>rd</sup> party add-ons (very unlikely).
</p>
<p>
Moved the Scoping Rules sub-section from Section 3. "Building a Test Plan"  to Section 4. "Elements of a test plan"
</p>

<p>
The While controller now trims leading and trailing spaces from the condition value before it is compared
with <code>LAST</code>, blank or false.
</p>

<p>
The "threadName" variable in the _jexl() and __javaScript() functions was previously misspelt as "theadName".
</p>

<p>
The following deprecated methods were removed from JOrphanUtils: booleanToString(boolean) and valueOf(boolean).
Java 1.4+ has these methods in the Boolean class.
</p>

<p>
The TestElement interface has some new methods:
<ul>
<li>void setProperty(String key, String value, String dflt)</li>
<li>void setProperty(String key, boolean value, boolean dflt)</li>
<li>void setProperty(String key, int value)</li>
<li>void setProperty(String key, int value, int dflt)</li>
<li>int getPropertyAsInt(String key, int defaultValue)</li>
</ul>
These are implemented in the AbstractTestElement class which all elements should extend so this is unlikely to cause a problem.
</p>
<h2>Bug fixes</h2>

<h3>HTTP Samplers and Proxy</h3>
<ul>
<li><bugzilla>46332</bugzilla> - HTTP Cookie Manager ignores manually defined cookies (bug introduced in r707810)</li>
<li>Cookie Manager was not passing cookie policy to runtime threads so they always used compatibility mode</li>
<li>Add version attribute to JMeter Cookie class (needed for proper cookie support)</li>
<li>Cookie Manager now saves/restores cookie versions</li>
<li>Check validity of cookies before storing them.</li>

<li>HTTPSamplers can now use variables in POSTed file names</li>
<li>Fix processing of first file name in HTTP POST so functions/variables work (bug introduced with multiple file support)</li>
<li><bugzilla>45831</bugzilla> - WS Sampler reports incorrect throughput if SOAP packet creation fails</li>
<li>HTTP, SOAP/XML-RPC and WebService(SOAP) sampler character encodings updated to be more consistent</li>

<li><bugzilla>46148</bugzilla> - HTTP sampler fails on SSL requests when logging for jmeter.util is set to DEBUG</li>
<li>Fix Java 1.6 https error: java.net.SocketException: Unconnected sockets not implemented</li>

<li><bugzilla>46838</bugzilla> - if there was no data, still need to set latency in HTTPSampler</li>
<li><bugzilla>46993</bugzilla> - Saving from Header Manager generates ClassCastException</li>
<li>
<bugzilla>46690</bugzilla> - handling of 302 redirects with invalid relative paths.
JMeter now removes extraneous leading "../" segments (as do many browsers)
</li>
<li><bugzilla>44521</bugzilla> - empty variables for a POST in the HTTP Request don't get ignored</li>
<li><bugzilla>46977</bugzilla> - JMeter does not handle HTTP headers not delimited by whitespace</li>
<li>Fix bug in HTTP file: handling - read bytes, not characters in the default encoding.</li>

<li>Remove Host from headers saved by the Proxy server, as that will normally be generated by the HTTP stack</li>
<li><bugzilla>45199</bugzilla> - don't try to replace blank variables in Proxy recording</li>
<li>Change HTTPS spoofing so https: links are replaced even when URL match fails</li>
<li><bugzilla>46436</bugzilla> - Improve error reporting in Proxy Gui</li>
<li><bugzilla>46435</bugzilla> - More verbose error msg for error 501 (Proxy Server)</li>
</ul>

<h3>Other Samplers</h3>
<ul>
<li>The "prev" and "sampler" objects are now defined for BSF test elements</li>
<li>Fix NPE (in DataSourceElement) when using JDBC in client-server mode</li>
<li><bugzilla>45425</bugzilla> - JDBC Request does not support Unicode (changed sampler to use UTF-8)</li>
<li><bugzilla>46522</bugzilla> - Incorrect "Response data" in JDBC sample when column names are missing</li>
<li><bugzilla>46821</bugzilla> - JDBC select request doesn't store the first column in the variables</li>
<li><bugzilla>43791</bugzilla> - ensure QueueReceiver is closed in JMS Point to Point sampler</li>
<li><bugzilla>46016</bugzilla> - avoid possible NPE in JMSSampler</li>
<li><bugzilla>46142</bugzilla> - JMS Receiver now uses MessageID</li>
<li><bugzilla>45458</bugzilla> - Point to Point JMS in combination with authentication</li>
<li><bugzilla>45460</bugzilla> - JMS TestPlan elements depend on resource property</li>
<li>Various ReceiveSubscriber thread-safety fixes</li>
<li>JMSPublisher and Subscriber fixes: thread-safety, support dynamic locale changes, locale independence for JMX attribute values</li>
<li>FTP Sampler now logs out before disconnecting.</li>
<li>TCP sampler now calls setupTest() and teardownTest() methods</li>
<li><bugzilla>45887</bugzilla> - TCPSampler: timeout property incorrectly set</li>
</ul>

<h3>Controllers</h3>
<ul>
<li>Fix NPE when using nested Transaction Controllers with parent samples</li>
<li>Fix processing of Transaction Controller parent mode so current sampler is set to actual sampler</li>
<li><bugzilla>44941</bugzilla> - Throughput controllers should not share global counters</li>
<li><bugzilla>47120</bugzilla> - Throughput Controller: change percent executions to total executions, the value is stored in a String and interpreted as 1 execution</li>
<li><bugzilla>47150</bugzilla> - ThreadGroup with a loop count of zero causes infinite loop</li>
<li><bugzilla>47009</bugzilla> - Insert parent caused child controller name to be reset</li>
<li><bugzilla>47165</bugzilla> - Using duplicate Module Controller names in command line mode causes NPE</li>
</ul>

<h3>Listeners</h3>
<ul>
<li>Mailer Visualizer documentation now agrees with code i.e. failure/success counts need to be exceeded to trigger the mail.</li>
<li>Mailer Visualizer now shows the failure count</li>
<li>Mailer Visualiser - fix parsing of multiple e-mail address when using Test button</li>
<li><bugzilla>45976</bugzilla> - incomplete result file when using remote testing with more than 1 server</li>
<li>Fix Summariser so it works in client server mode</li>
<li><bugzilla>34096</bugzilla> - Duplicate samples not eliminated when writing to CSV files</li>
<li>Save "Include group Name in Label" setting in Aggregate and Summary reports</li>
<li>The JMeter variable "sample_variables" is sent to all server instances to ensure the data is available to the client.</li>
<li>CSVSaveService - check for EOF while reading quoted string</li>
</ul>

<h3>Assertions</h3>
<ul>
<li><bugzilla>45749</bugzilla> - Response Assertion does not work with a substring that happens to be an invalid RE</li>
<li><bugzilla>45904</bugzilla> - Allow 'Not' Response Assertion to succeed with null sample</li>
</ul>

<h3>Functions</h3>
<ul>
<li>Fix regex function - was failing to process $m$mid$n$ correctly</li>
<li>Protect against possible NPE in RegexFunction if called during test shutdown.</li>
<li>Avoid NPE if XPath function does not match any nodes</li>
<li>Correct the variable name "theadName" to "threadName" in the __jexl() and __javaScript() functions</li>
<li>A reference to a missing function - e.g. ${__missing(a)} - is now treated the same as a missing variable. Previously the function name - and leading { - were dropped.</li>
</ul>

<h3>I18N</h3>
<ul>
<li>Fixed language change handling for menus (does not yet work for TestBeans)</li>
<li>Add HeaderAsPropertyRenderer to support header resource names; use this to fix locale changes in various GUI elements</li>
<li><bugzilla>46424</bugzilla> - corrections to French translation</li>
<li><bugzilla>46844</bugzilla> -  "Library" label in test plan are not I18N</li>
<li><bugzilla>47064</bugzilla> - fixes for Mac LAF</li>
<li><bugzilla>47127</bugzilla> -  Unable to change language to pl_PL</li>
<li><bugzilla>47137</bugzilla> - Labels in View Results Tree aren't I18N</li>
<li><bugzilla>46423</bugzilla> - I18N of Proxy Recorder</li>
<li><bugzilla>45928</bugzilla> - AJP/1.3 Sampler doesn't retrieve its label from messages.properties</li>
</ul>

<h3>General</h3>
<ul>
<li>Prompt to overwrite an existing file when first saving a new test plan</li>
<li>Amend TestBeans to show the correct popup menu for Listeners</li>
<li><bugzilla>45185</bugzilla> - CSV dataset blank delimiter causes OOM</li>
<li>Fix incorrect GUI classifications:
"Save Results to a file" and "Generate Summary Results" are now shown as Listeners.
"Counter" is now shown as a Configuration element.
</li>
<li><bugzilla>41608</bugzilla> - misleading warning log message removed</li>
<li><bugzilla>46359</bugzilla> - BSF JavaScript Preprocessor cannot access sampler variable on first iteration (Implement temporary work-round for BSF-22)</li>
<li><bugzilla>46407</bugzilla> - BSF elements do not load script files, attempt to interpret filename as script</li>
<li>Better handling of Exceptions during test shutdown</li>
<li>Fix potential thread safety issue in JMeterThread class</li>
<li><bugzilla>46491</bugzilla> - Incorrect value for the last variable in "CSV Data Set Config" (error in processing quoted strings)</li>

</ul>

<!-- ==================================================== -->

<h2>Improvements</h2>

<h3>HTTP Samplers</h3>
<ul>
<li><bugzilla>45479</bugzilla> - Support for multiple HTTP Header Manager nodes</li>
<li>HTTP Samplers now support connection and request timeouts (requires Java 1.5 for Java Http sampler)</li>
<li>Apache SOAP 2.3.1 does not give access to HTTP response code/message, so WebService sampler now treats an empty response as an error</li>
<li>Mirror server now supports "X-Sleep" header - if this is set, the responding thread will wait for the specified number of milliseconds</li>
<li><bugzilla>45694</bugzilla> - Support GZIP compressed logs in Access Log Sampler</li>
</ul>

<h3>Other samplers</h3>
<ul>
<li>JDBC Request can optionally save the results of Select statements to variables.</li>
<li>JDBC Request now handles quoted strings.</li>
<li>JDBC Request now handles arbitrary variable types.</li>
<li>LDAP result data now formatted with line breaks</li>
<li><bugzilla>45200</bugzilla> - MailReaderSampler: store the whole MIME message in the SamplerResult</li>
<li><bugzilla>45571</bugzilla> - JMS Sampler correlation enhancement</li>
<li><bugzilla>46030</bugzilla> - Extend TCP Sampler to Support Length-Prefixed Binary Data</li>
<li>Add classname field to TCP Sampler GUIs</li>
</ul>

<h3>Controllers</h3>
<ul>
<li>Allow If Controller to use variable expressions (not just Javascript)</li>
<li>Trim spaces from While Controller condition before comparing against LAST, blank or false</li>
</ul>

<h3>Listeners</h3>
<ul>
<li>Save Responses to a file can save the generated filename(s) to variables.</li>
<li>Add option to skip suffix generation in Save Responses to a File</li>
<li><bugzilla>43119</bugzilla> - Save Responses to file: optionally omit the file number</li>
<li>Add BSF Listener element</li>
<li><bugzilla>47176</bugzilla> -  Monitor Results : improve load status graphic</li>
<li><bugzilla>40045</bugzilla> - Allow Results monitor to select a specific connector</li>
<li>Read XML JTL files more efficiently - pass samples to visualizers as they are read, rather than saving them all and then processing them</li>
</ul>

<h3>Assertions, Config, Pre- &amp; Post-Processors</h3>
<ul>
<li><bugzilla>45903</bugzilla> - allow Assertions to apply to sub-samples</li>
<li>Add Body (unescaped) source option to Regular Expression Extractor.</li>
<li>Random Variable - new configuration element to create random numeric variables</li>
</ul>

<h3>Functions</h3>
<ul>
<li>Add OUT and log variables to __jexl() function</li>
<li>Use Script to evaluate __jexl() function so can have multiple statements.</li>
<li>Add log variable to the __javaScript() function</li>
<li>Added __char() function: allows arbitrary Unicode characters to be entered in fields.</li>
<li>Added __unescape() function: allows Java-escaped strings to be used.</li>
<li>Added __unescapeHtml() function: decodes Html-encoded text.</li>
<li>Added __escapeHtml() function: encodes text using Html-encoding.</li>
</ul>

<h3>I18N</h3>
<ul>
<li><bugzilla>45929</bugzilla> - improved French translations</li>
<li><bugzilla>47132</bugzilla> - Brazilian Portuguese translations</li>
<li><bugzilla>46900</bugzilla> - Polish translations</li>
<li>Added locales.add property to allow for new Locales</li>
</ul>

<h3>General</h3>
<ul>
<li>Allow spaces in JMeter path names (apply work-round for <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4496398">Java Bug 4496398</a>)</li>
<li>Process JVM_ARGS last in script files so users can override default settings</li>
<li><bugzilla>46636</bugzilla> - Allow server mode to optionally use a fixed rmi port</li>
<li>Make some samplers interruptible: HTTP (both), SoapSampler, FTPSampler</li>
<li>Test Action now supports "Stop Now" action, as do the Thread Group and Result Status Post Processor elements</li>
<li>The Menu items Stop and Shutdown now behave better. Shutdown will now wait until all threads exit.
In GUI mode it can be cancelled and Stop run instead.
Stop now reports if some threads will not exit, and exits if running in non-GUI mode</li>
<li>Add UDP server to wait for shutdown message if running in non-GUI mode; add UDP client to send the message.</li>
<li><bugzilla>41209</bugzilla> - JLabeled* and ToolTips</li>
<li>Include BeanShell 2.0b4 jar in binary download.</li>
</ul>

<h2>Non-functional changes</h2>
<ul>
<li>Introduce AbstractListenerGui class to make it easier to create Listeners with no visual output</li>
<li>Assertions are run after PostProcessors; change order of pop-up menus accordingly</li>
<li>Remove unnecessary clone() methods from function classes</li>
<li>Moved PreProcessor invocation to JMeterThread class</li>
<li>Made HashTree Map field final</li>
<li>Improve performance of calling ResultCollector#isSampleWanted() for multiple samples</li>
<li>Updated to new versions of: xmlgraphics-commons (1.3.1), jdom (1.1), xstream (1.3.1), velocity (1.6.2)</li>
</ul>


<!--  ===================  -->

<h2>Version 2.3.2</h2>

<h3>Summary of main changes</h3>

<h4>Bug fixes</h4>
<p>
Version 2.3.1 changed the way binary and text content types were determined as far as the View Results Tree Listener was concerned:
originally everything except "image/" content types were considered text, but 2.3.1 introduced a check
for specific content types. This has caused problems,
as several popular types were omitted and these were no longer shown by default in the Response tab.
Rather than try to list all the possible text types, JMeter now just checks for the following binary types:
<ul>
<li>image/*</li>
<li>audio/*</li>
<li>video/*</li>
</ul>
All other types are now assumed to be text.
</p>

<p>
JMeter 2.3.1 introduced a bug in the Cookie Manager
- if "Clear Cookie each iteration" was selected, all threads would see the same cookies.
This bug has been corrected.
</p>

<h4>Improvements</h4>

<p>
The Proxy server can now record binary requests.
By default the content types
application/x-amf and application/x-java-serialized-object
will be treated as binary and saved in a file.
To change the content types, update the property <b>proxy.binary.types</b>.
</p>

<p>
The CSV Dataset configuration element has new file sharing options: per thread group, per thread, per identifier.
This allows for more flexible file processing, e.g. each thread can process the same data in the same order.
</p>

<p>Switch Controller now works properly with functions and variables,
and the condition can now be a name instead of a number.
Simple Controller now works properly under a While Controller</p>

<p>CSV fields in JTL files can now contain delimiters.
CSV and XML files can now contain additional variables (define the JMeter property <b>sample_variables</b>).</p>

<p>Response Assertion can now match on substrings (i.e. not regular expression).
Regex extractor can operate on variables.</p>

<p>
XPath processing is improved; Tidy errors are handled better.
</p>

<p>Save Table Data buttons added to Summary and Aggregate reports to allow easy saving of the calculated data.</p>

<p>
HTTP samplers can now save just the MD5 hash of responses, rather than the entire response.
As a special case, if the HTTP Sampler path starts with "http://" or "https://" then this is used as the full URL,
overriding the host and port fields.
The HTTP Samplers can now POST multiple files.
Webservice(SOAP) Sampler can now load local WSDL files using the "file:" protocol.
</p>

<p>
A simple HTTP Cache Manager has been added. This needs further development.
</p>

<p>
View Results Tree Listener now uses Tidy to display XML.
This should allow more content to be displayed successfully.
It also avoids the need to download remote DTD files, which can slow the rendering considerably.
</p>

<p>
MailReader sampler now supports POP3S and IMAPS protocols. Individual mails are now added as sub-samples.
</p>

<p>
Various improvements to the BSF Sampler: now supports Jexl, and Javascript bug works properly.
Added BSF PreProcessor, PostProcessor and Assertion test elements.
All now have access to "props" JMeter Properties object.
</p>

<p>Number of classes loaded in non-GUI mode is much reduced.</p>

<h3>Known bugs</h3>

<p>
The Include Controller has some problems in non-GUI mode.
In particular, it can cause a NullPointerException if there are two include controllers with the same name.
</p>

<p>Once Only controller behaves OK under a Thread Group or Loop Controller,
but otherwise its behaviour is not consistent (or clearly specified).</p>

<p>
The menu item Options / Choose Language does not change all the displayed text to the new language.
To override the default local language, set the JMeter property "language" before starting JMeter.
</p>
<h3>Incompatible changes</h3>
<ul>
<li>
To reduce the number of classes loaded in non-GUI mode,
Functions will only be found if their classname contains the string
'.functions.' and does not contain the string '.gui.'.
All existing JMeter functions conform to this restriction.
To revert to earlier behaviour, comment or change the properties classfinder.functions.* in jmeter.properties.
</li>
<li>The reference value parameter for intSum() is now optional.
As a consequence, if a variable name is used, it must not be a valid integer.</li>
<li>The supplied TCPClient implementation no longer treats tcp.eolByte=0 as special.
To skip EOL checking, set tcp.eolByte=1000 (or some other value which is not a valid byte)
</li>
<li>
Leading and trailing spaces are trimmed from variable names in function calls.
For example, ${__Random(1,63,&nbsp;LOTTERY&nbsp;)} will use the variable 'LOTTERY' rather than '&nbsp;LOTTERY&nbsp;'.
</li>
<li>
Synchronization has been removed from the RunningSample class (it was not fully threadsafe anyway).
Developers of 3<sup>rd</sup> party add-ons that use the class may need to synchronize access.
</li>
</ul>

<h3>Bug fixes</h3>
<ul>
<li>Check that the CSV delimiter is reasonable.</li>
<li>Fix Switch Controller to work properly with functions and variables</li>
<li><bugzilla>44011</bugzilla> - application/soap+xml not treated as a text type</li>
<li><bugzilla>43427</bugzilla> - Simple Controller is only partly executed in While loop</li>
<li><bugzilla>33954</bugzilla> - Stack Overflow in If/While controllers (may have been fixed previously)</li>
<li><bugzilla>44022</bugzilla> - Memory Leak when closing test plan</li>
<li><bugzilla>44042</bugzilla> - Regression in Cookie Manager (Bug introduced in 2.3.1)</li>
<li><bugzilla>41028</bugzilla> - JMeter server doesn't alert the user when the host is defined as a loopback address</li>
<li><bugzilla>44142</bugzilla> - Function __machineName causes NPE if parameters are omitted.</li>
<li><bugzilla>44144</bugzilla> - JMS point-to-point: request response test does not work</li>
<li><bugzilla>44314</bugzilla> - Not possible to add more than one SyncTimer</li>
<li>Capture Tidy console error output and log it</li>
<li>Fix problems using Tidy(tolerant parser) in XPath Assertion and XPath Extractor</li>
<li><bugzilla>44374</bugzilla> - improve timer calculation</li>
<li>Regular Expression Extractor now deletes all stale variables from previous matches.</li>
<li><bugzilla>44707</bugzilla> - Running remote test changes internal test plan</li>
<li><bugzilla>44625</bugzilla> - Cannot have two or more FTP samplers with different "put" and "get" actions</li>
<li><bugzilla>40850</bugzilla> - BeanShell memory leak</li>
<li>Ensure ResponseCode and ResponseMessage are set for successful JDBC samples</li>
<li>FTPSampler now detects and reports failure to open the remote file</li>
<li>Class directories defined in search_paths and user.classpath no longer need trailing "/"</li>
<li><bugzilla>44852</bugzilla> SOAP/ XML-RPC Request does not show Request details in View Results Tree</li>
<li>WebService(SOAP) Sampler ResponseData now includes the EOLs sent by server</li>
<li><bugzilla>44910</bugzilla> - close previous socket (if any) in TCP Sampler</li>
<li><bugzilla>44912</bugzilla> - Filter not working in Log Parser</li>
<li>The BeanShell and BSF component documentation made some incorrect references to the "SampleResponse" object;
this has been corrected to "SampleResult"</li>
<li>BSF Sampler now works properly with Javascript</li>
<li>Test Action "Stop Test" now works</li>
<li><bugzilla>42833</bugzilla> - Argument class uses LinkedHashMap in getArgumentsAsMap() to preserve ordering</li>
<li><bugzilla>45093</bugzilla> - SizeAssertion did not call getBytes()</li>
<li><bugzilla>45007</bugzilla> - Rewrite Location headers when using Proxy HTTPS spoofing</li>
<li>Use CRLF rather than LF in Proxy when returning headers to the client</li>
<li><bugzilla>45007</bugzilla> - fix content length header if content may have been changed</li>
</ul>

<h3>Improvements</h3>
<ul>
<li>CSV files can now handle fields with embedded delimiters.</li>
<li>longSum() function added</li>
<li><bugzilla>43382</bugzilla> - configure Tidy output (warnings, errors) for XPath Assertion and Post-Processor</li>
<li><bugzilla>43984</bugzilla> - trim spaces from port field</li>
<li>Add optional comment to __log() function</li>
<li>Make Random function variable name optional</li>
<li>Reduce class loading in non-GUI mode by only looking for Functions in class names
that contain '.functions.' and don't contain '.gui.'</li>
<li><bugzilla>43379</bugzilla> - Switch Controller now supports selection by name as well as number</li>
<li>Can specify list of variable names to be written to JTL files (CSV and XML format)</li>
<li>Now checks that the remoteStart options -r and -R are only used with non_GUI -n option</li>
<li><bugzilla>44184</bugzilla> - Allow header to be saved with Aggregate Graph data</li>
<li>Added "Save Table Data" buttons to Aggregate and Summary Reports - save table as CSV format with header</li>
<li>Allow most functions to be used on the Test Plan.
Note __evalVar(), __split() and __regex() cannot be used on the Test Plan.</li>
<li>Allow Global properties to be loaded from a file, e.g. -Gglobal.properties</li>
<li>Add "Substring" option to Response Assertion</li>
<li><bugzilla>44378</bugzilla> - Turkish localisation</li>
<li>Add optional output variable name to Jexl function</li>
<li>Add application/vnd.wap.xhtml+xml as a text type</li>
<li>Add means to override maximum display size in View Results Tree - set the property: view.results.tree.max_size</li>
<li>Use Tidy to display XML in View Results Tree Listener (avoids fetching DTDs)</li>
<li><bugzilla>44487</bugzilla> - German translation</li>
<li>
As a special case, if the HTTP Sampler path starts with "http://" or "https://" then this is used as the full URL.
</li>
<li><bugzilla>44575</bugzilla> - Result Saver can now save only successful results</li>
<li><bugzilla>44650</bugzilla> - CSV Dataset now handles quoted column values</li>
<li><bugzilla>44600</bugzilla> - 1-ms resolution timer when running with Java 1.5+</li>
<li><bugzilla>44632</bugzilla> - Text input enhancement to FTP Sampler</li>
<li><bugzilla>42204</bugzilla> - add thread group name to Aggregate and Summary reports</li>
<li>FTP Sampler sets latency = time to login</li>
<li>FTP Sampler sets a URL if it can</li>
<li><bugzilla>41921</bugzilla> - add option for samplers to store MD5 of response; done for HTTP Samplers.</li>
<li>Regex Function can now also be applied to a variable rather than just the previous sample result.</li>
<li>Remove HTML Parameter Mask,HTTP User Parameter Modifier from menus as they are deprecated</li>
<li><bugzilla>44807</bugzilla> - allow session ids to be terminated by backslash</li>
<li><bugzilla>44784</bugzilla> - allow for broken server returning additional charset</li>
<li>Added TESTSTART.MS property / variable = test start time in milliseconds</li>
<li>Add POP3S and IMAPS protocols to Mail Reader Sampler.</li>
<li>Mail Reader Sampler now creates a sub-sample for each mail.</li>
<li>The supplied TCPClient implementation no longer treats tcp.eolByte=0 as special.
To skip EOL checking, set tcp.eolByte=1000 (or some other value which is not a valid byte)
</li>
<li>JUnit sampler GUI now also finds Test classes defined in user.classpath</li>
<li>
Leading and trailing spaces are trimmed from variable names in function calls.
For example, ${__Random(1,63,&nbsp;LOTTERY&nbsp;)} will use the variable 'LOTTERY' rather than '&nbsp;LOTTERY&nbsp;'
</li>
<li>Webservice(SOAP) Sampler can now load local WSDL files using the file: protocol</li>
<li><bugzilla>44872</bugzilla> - Add "All Files" filter to Open File dialogs</li>
<li>Mirror server can now be run independently (mirror-server.cmd and mirror-server.sh)</li>
<li><bugzilla>19128</bugzilla> - Added multiple file POST support to HTTP Samplers</li>
<li>Allow use of special name LAST to mean the last test run; applies to -t, -l, -j flags</li>
<li><bugzilla>44418</bugzilla>/42178 - CSV Dataset file handling improvements</li>
<li>Give BeanShell, Javascript and Jexl functions access to JMeter properties via the "props" object</li>
<li>Give BSF Sampler access to JMeter Properties via "props" object</li>
<li>Add Jexl as a supported BSF Sampler language</li>
<li>Give Beanshell test elements access to JMeter Properties via "props" object</li>
<li>Added BSF PreProcessor, PostProcessor and Assertion test elements</li>
<li>All BSF elements now have access to System.out via the variable "OUT"</li>
<li>Summariser updated to handle variable names</li>
<li>Synchronisation added to Summary and Aggregate Report to try to prevent occasional lost samples</li>
<li><bugzilla>44808</bugzilla>,<bugzilla>39641</bugzilla> - Proxy support for binary requests</li>
<li><bugzilla>28502</bugzilla> - HTTP Resource Cache</li>
</ul>

<h3>Non-functional changes</h3>
<ul>
<li>Better handling of MirrorServer startup problems and improved unit test.</li>
<li>Build process now detects missing 3<sup>rd</sup> party libraries and reports need for both binary and source archives</li>
<li>Skip BeanShell tests if jar is not present</li>
<li>Update to Xerces 2.9.1, Xalan 2.7.1, Commons IO 1.4, Commons Lang 2.4, Commons-Logging 1.1.1, XStream 1.3, XPP3 1.1.4c</li>
<li>Use properties for log/logn function descriptions</li>
<li>Check that all jmx files in the demos directory can be loaded OK</li>
<li>Update copyright to 2008; use copy tag instead of numeric character in HTML output</li>
<li>Methods called from constructors must not be overridable: make GUI init methods private</li>
<li>Make static variables final if possible</li>
<li>Split changes into current and previous</li>
</ul>

<!--  ===================  -->

<h3>Version 2.3.1</h3>
<h4>Summary of changes</h4>

<h5>JMeter Proxy</h5>

<p>
The Proxy spoof function was broken in 2.3; it has been fixed.
Spoof now supports an optional parameter to limit spoofing to particular URLs.
This is useful for HTTPS pages that have insecure content - e.g. images/stylesheets may be accessed using HTTP.
Spoofed responses now drop the default port (443) from https links to make them work better.
</p>
<p>
Ignored proxy samples are now visible in Listeners - the label is enclosed in [ and ] as an indication.
Proxy documentation has been improved.
</p>

<h5>GUI changes</h5>

<p>The Add menus show element types in the order in which they are processed
- see <a href="usermanual/test_plan.html#executionorder">Test Plan Execution Order</a>.
It is no longer possible to add test elements to inappropriate parts of the tree
- e.g. samplers cannot be added directly under a test plan.
This also applies to Paste and drag and drop.
</p>

<p>
The File menu now supports a "Revert" option, which reloads the current file.
Also the last few file names used are remembered for easy reloading.
</p>

<p>
The Options Menu now supports Collapse All and Expand All items to collapse and expand the test tree.
</p>

<h5>Remote testing</h5>

<p>
The JMeter server now starts the RMI server directly (by default).
This simplifies testing, and means that the RMI server will be stopped when the server stops.
</p>

<p>
Functions can now be used in Listener filenames (variables do not work).
</p>

<p>
Command-line option -G can now be used to define properties for remote servers.
Option -X can be used to stop a remote server after a non-GUI run.
Server can be set to automatically exit after a single test (set property server.exitaftertest=true).
</p>

<h5>Other enhancements</h5>

<p>
JMeter startup no longer loads as many classes; this should reduce memory requirements.
</p>

<p>
Parameter and file support added to all BeanShell elements.
Javascript function now supports access to JMeter objects;
Jexl function always did have access, but the documentation has now been included.
New functions __eval() and __evalVar() for evaluating variables.
</p>

<p>
CSV files with the correct header column names are now automatically recognised when loaded.
There is no need to configure the properties.
</p>

<p>
The hostname can now be saved in CSV and XML output files.
New "Successes only" option added when saving result files.
Errors / Successes only option is now supported when loading XML and CSV files.
</p>

<p>
General documentation improvements.
</p>

<h5>HTTP</h5>

<p>PUT and DELETE should now work properly.
Cookie Manager no longer clears manually entered cookies.
</p>
<p>Now handles the META tag http-equiv charset</p>

<h5>JDBC</h5>

<p>JDBC Sampler now allows INOUT and OUT parameters for Called procedures.
JDBC Sampler now allows per-thread connections - set Max Connections = 0 in JDBC Config.
</p>

<hr></hr>
<!-- ========================================================= -->

<h4>Incompatible changes</h4>
<ul>
<li>JMeter server now creates the RMI registry by default.
If the RMI registry has already been started externally, this will generate a warning message, but the server will continue.
This should not affect JMeter testing.
However, if you are also using the RMI registry for other applications there may be problems.
For example, when the JMeter server shuts down it will stop the RMI registry.
Also user-written command files may need to be adjusted (the ones supplied with JMeter have been updated).
To revert to the earlier behaviour, define the JMeter property: <b>server.rmi.create=false</b>.
</li>
<li>The Proxy server removes If-Modified-Since and If-None-Match headers from generated Header Managers.
To revert to the previous behaviour, define the property proxy.headers.remove with no value</li>
</ul>

<h4>Bug fixes</h4>
<ul>
<li><bugzilla>43430</bugzilla> - Count of active threads is incorrect for remote samples</li>
<li>Throughput Controller was not working for "all thread" counts</li>
<li>If a POST body is built from parameter values only, these are now encoded if the checkbox is set.</li>
<li><bugzilla>43584</bugzilla> - Assertion Failure Message contains a comma that is also used as the delimiter for CSV files</li>
<li>HTTP Mirror Server now always returns the exact same content, it used to return incorrect data if UTF-8 encoding was used for HTTP POST body, for example</li>
<li><bugzilla>43612</bugzilla> - HTTP PUT does not honor request parameters</li>
<li><bugzilla>43694</bugzilla> - ForEach Controller (empty collection processing error)</li>
<li><bugzilla>42012</bugzilla> - Variable Listener filenames do not get processed in remote tests.
Filenames can now include function references; variable references do not work.</li>
<li>Ensure Listener nodes get own save configuration when copy-pasted</li>
<li>Correct Proxy Server include and exclude matching description - port and query are included, contrary to previously documented.</li>
<li>Aggregate Graph and Aggregate Report Column Header is KB/Sec; fixed the values to be KB rather than bytes</li>
<li>
Fix SamplingStatCalculator so it no longer adds elapsed time to endTime, as this is handled by SampleResult.
This corrects discrepancies between Summary Report and Aggregate Report throughput calculation.
</li>
<li>Default HTTPSampleResult to ISO-8859-1 encoding</li>
<li>Fix default encoding for blank encoding</li>
<li>Fix Https spoofing (port problem) which was broken in 2.3</li>
<li>Fix HTTP (Java) sampler so http.java.sampler.retries means retries, i.e. does not include initial try</li>
<li>Fix SampleResult dataType checking to better detect TEXT documents</li>
</ul>

<h4>Improvements</h4>
<ul>
<li>Add run_gui Ant target, to package and then start the JMeter GUI from Ant</li>
<li>Add File&rarr;Revert to easily drop the current changes and reload the project file currently loaded</li>
<li><bugzilla>31366</bugzilla> - Remember recently opened file(s)</li>
<li><bugzilla>43351</bugzilla> - Add support for Parameters and script file to all BeanShell test elements</li>
<li>SaveService no longer needs to instantiate classes</li>
<li>New functions: __eval() and __evalVar()</li>
<li>Menu items now appear in execution order</li>
<li>Test Plan items can now only be dropped/pasted/merged into parts of the tree where they are allowed</li>
<li>Property Display to show the value of System and JMeter properties and allow them to be changed</li>
<li><bugzilla>43451</bugzilla> - Allow Regex Extractor to operate on Response Code/Message</li>
<li>JDBC Sampler now allows INOUT and OUT parameters for Called procedures</li>
<li>JDBC Sampler now allows per-thread connections</li>
<li>Cookie Manager not longer clears cookies defined in the GUI</li>
<li>HTTP Parameters without names are ignored (except for POST requests with no file)</li>
<li>"Save Selection As" added to main menu; now checks only item is selected</li>
<li>Test Plan now has Paste menu item (paste was already supported via ^V)</li>
<li>If the default delimiter does not work when loading a CSV file, guess the delimiter by analysing the header line.</li>
<li>Add optional "loopback" protocol for HttpClient sampler</li>
<li>HTTP Mirror Server now supports blocking waiting for more data to appear, if content-length header is present in request</li>
<li>HTTP Mirror Server GUI now has the Start and Stop buttons in a more visible place</li>
<li>Server mode now creates the RMI registry; to disable set the JMeter property server.rmi.create=false</li>
<li>HTTP Sampler now supports using MIME Type field to specify content-type request header when body is constructed from parameter values</li>
<li>Enable exit after a single server test - define JMeter property server.exitaftertest=true</li>
<li>Added -G option to set properties in remote servers</li>
<li>Added -X option to stop remote servers after non-GUI run</li>
<li><bugzilla>43485</bugzilla> - Ability to specify keep-alive on SOAP/XML-RPC request</li>
<li><bugzilla>43678</bugzilla> - Handle META tag http-equiv charset</li>
<li><bugzilla>42555</bugzilla> - [I18N] Proposed corrections for the french translation</li>
<li><bugzilla>43727</bugzilla> - Test Action does not support variables or functions</li>
<li>The Proxy server removes If-Modified-Since and If-None-Match headers from generated Header Managers by default.
To change the list of removed headers, define the property proxy.headers.remove as a comma-separated list of headers to remove</li>
<li>The javaScript function now has access to JMeter variables and context etc. See <a href="usermanual/functions.html#__javaScript">JavaScript function</a></li>
<li>Use drop-down list for BSF Sampler language field</li>
<li>Add hostname to items that can be saved in CSV and XML output files.</li>
<li>Errors only flag is now supported when loading XML and CSV files</li>
<li>Ensure ResultCollector uses SaveService encoding</li>
<li>Proxy now rejects attempts to use it with https</li>
<li>Proxy spoofing can now use RE matching to determine which urls to spoof (useful if images are not https)</li>
<li>Proxy spoofing now drops the default HTTPS port (443) when converting https: links to http:</li>
<li>Add Successes Only logging and display</li>
<li>The JMeter log file name is formatted as a SimpleDateFormat (applied to the current date) if it contains paired single-quotes,  .e.g. 'jmeter_'yyyyMMddHHmmss'.log'</li>
<li>Added Collapse All and Expand All Option menu items</li>
<li>Allow optional definition of extra content-types that are viewable as text</li>
</ul>

<h4>Non-functional Improvements</h4>
<ul>
<li>Functor code tightened up; Functor can now be used with interfaces, as well as pre-defined targets and parameters.</li>
<li>Save graphics function now prompts before overwriting an existing file</li>
<li>Debug Sampler and Debug PostProcessor added.</li>
<li>Fixed up method names in Calculator and SamplingStatCalculator</li>
<li>Tidied up Listener documentation.</li>
</ul>

<!--  ===================  -->

<h3>Version 2.3</h3>

<h3>Fixes since 2.3RC4</h3>

<h4>Bug fixes</h4>
<ul>
<li>Fix NPE in SampleResultConverter - XStream PrettyPrintWriter cannot handle nulls</li>
<li>If Java HTTP sampler sees null ResponseMessage, replace with HTTP header</li>
<li><bugzilla>43332</bugzilla> - 2.3RC4 does not clear Guis based on TestBean</li>
<li><bugzilla>42948</bugzilla> - Problems with Proxy gui table fields in Java 1.6</li>
<li>Fixup broken jmeter-server script</li>
<li><bugzilla>43364</bugzilla> - option to revert If Controller to pre 2.3RC3 behaviour</li>
<li><bugzilla>43449</bugzilla> - Statistical Remote mode does not handle Latency</li>
<li><bugzilla>43450</bugzilla> (partial fix) - Allow SampleCount and ErrorCount to be saved to/restored from files</li>
</ul>

<h4>Improvements</h4>
<ul>
<li>Add nameSpace option to XPath extractor</li>
<li>Add NULL parameter option to JDBC sampler</li>
<li>Add documentation links for Rhino and BeanShell to functions; clarify variables and properties</li>
<li>Ensure uncaught exceptions are logged</li>
<li>Look for user.properties and system.properties in JMeter bin directory if not found locally</li>
</ul>

<h4>Fixes since 2.3RC3</h4>
<ul>
<li>Fixed NPE in Summariser (bug introduced in 2.3RC3)</li>
<li>Fixed setup of proxy port (bug introduced in 2.3RC3)</li>
<li>Fixed errors when running non-GUI on a headless host (bug introduced in 2.3RC3)</li>
<li><bugzilla>43054</bugzilla> - SSLManager causes stress tests to saturate and crash (bug introduced in 2.3RC3)</li>
<li>Clarified HTTP Request Defaults usage of the port field</li>
<li><bugzilla>43006</bugzilla> - NPE if icon.properties file not found</li>
<li><bugzilla>42918</bugzilla> - Size Assertion now treats an empty response as having zero length</li>
<li><bugzilla>43007</bugzilla> - Test ends before all threadgroups started</li>
<li>Fix possible NPE in HTTPSampler2 if 302 does not have Location header.</li>
<li><bugzilla>42919</bugzilla> - Failure Message blank in CSV output [now records first non-blank message]</li>
<li>Add link to Extending JMeter PDF</li>
<li>Allow for quoted charset in Content-Type parsing</li>
<li><bugzilla>39792</bugzilla> - ClientJMeter synchronisation needed</li>
<li><bugzilla>43122</bugzilla> - GUI changes not always picked up when short-cut keys used (bug introduced in 2.3RC3)</li>
<li><bugzilla>42947</bugzilla> - TestBeanGUI changes not picked up when short-cut keys used</li>
<li>Added serializer.jar (needed for update to xalan 2.7.0)</li>
<li><bugzilla>38687</bugzilla> - Module controller does not work in non-GUI mode</li>
</ul>

<h4>Improvements since 2.3RC3</h4>
<ul>
<li>Add stop thread option to CSV Dataset</li>
<li>Updated commons-httpclient to 3.1</li>
<li><bugzilla>28715</bugzilla> - allow variable cookie values (set CookieManager.allow_variable_cookies=false to disable)</li>
<li><bugzilla>40873</bugzilla> - add JMS point-to-point non-persistent delivery option</li>
<li><bugzilla>43283</bugzilla> - Save action adds .jmx if not present; checks for existing file on Save As</li>
<li><keycombo><keysym>Control</keysym><keysym>A</keysym></keycombo> key does not work for Save All As;
    changed to <keycombo><keysym>Control</keysym><keysym>Shift</keysym><keysym>S</keysym></keycombo></li>
<li><bugzilla>40991</bugzilla> - Allow Assertions to check Headers</li>
</ul>

<h3>Version 2.3RC3</h3>

<h4>Known problems/restrictions:</h4>
<p>
The JMeter remote server does not support multiple concurrent tests - each remote test should be run in a separate server.
Otherwise tests may fail with random Exceptions, e.g. ConcurrentModification Exception in StandardJMeterEngine.
See <bugzilla>43168</bugzilla>.
</p>
<p>
The default HTTP Request (not HTTPClient) sampler may not work for HTTPS connections via a proxy.
This appears to be due to a Java bug, see <bugzilla>39337</bugzilla>.
To avoid the problem, try a more recent version of Java, or switch to the HTTPClient version of the HTTP Request sampler.
</p>
<p>Transaction Controller parent mode does not support nested Transaction Controllers.
Doing so may cause a Null Pointer Exception in TestCompiler.
</p>
<p>Thread active counts are always zero in CSV and XML files when running remote tests.
</p>
<p>The property file_format.testlog=2.1 is treated the same as 2.2.
However JMeter does honour the 3 testplan versions.</p>
<p>
<bugzilla>22510</bugzilla> - JMeter always uses the first entry in the keystore.
</p>
<p>
Remote mode does not work if JMeter is installed in a directory where the path name contains spaces.
</p>
<p>
BeanShell test elements leak memory.
This can be reduced by using a file instead of including the script in the test element.
</p>
<p>
Variables and functions do not work in Listeners in client-server (remote) mode so they cannot be used
to name log files in client-server mode.
</p>
<p>
CSV Dataset variables are defined after configuration processing is completed,
so they cannot be used for other configuration items such as JDBC Config.
(see <bugzilla>40394</bugzilla>)
</p>

<h4>Summary of changes (for more details, see below)</h4>
<p>
Some of the main enhancements are:
</p>
<ul>
<li>Htmlparser 2.0 now used for parsing</li>
<li>HTTP Authorization now supports domain and realm</li>
<li>HttpClient options can be specified via httpclient.parameters file</li>
<li>HttpClient now behaves the same as Java Http for SSL certificates</li>
<li>HTTP Mirror Server to allow local testing of HTTP samplers</li>
<li>HTTP Proxy supports XML-RPC recording, and other proxy improvements</li>
<li>__V() function allows support of nested variable references</li>
<li>LDAP Ext sampler optionally parses result sets and supports secure mode</li>
<li>FTP Sampler supports Ascii/Binary mode and upload</li>
<li>Transaction Controller now optionally generates a Sample with subresults</li>
<li>HTTPS session contexts are now per-thread, rather than shared. This gives better emulation of multiple users</li>
<li>BeanShell elements now support ThreadListener and TestListener interfaces</li>
<li>Coloured icons in Tree View Listener and elsewhere to better differentiate failed samples.</li>
</ul>
<p>
The main bug fixes are:
</p>
<ul>
<li>HTTPS (SSL) handling now much improved</li>
<li>Various Remote mode bugs fixed</li>
<li><keycombo><keysym>Control</keysym><keysym>C</keysym></keycombo>
    and <keycombo><keysym>Control</keysym><keysym>V</keysym></keycombo> now work in the test tree</li>
<li>Latency and Encoding now available in CSV log output</li>
<li>Test elements no longer default to previous contents; test elements no longer cleared when changing language.</li>
</ul>

<h4>Incompatible changes (usage):</h4>
<p>
<b>N.B. The javax.net.ssl properties have been moved from jmeter.properties to system.properties,
and will no longer work if defined in jmeter.properties.</b>
<br></br>
The new arrangement is more flexible, as it allows arbitrary system properties to be defined.
</p>
<p>
SSL session contexts are now created per-thread, rather than being shared.
This generates a more realistic load for HTTPS tests.
The change is likely to slow down tests with many SSL threads.
The original behaviour can be enabled by setting the JMeter property:
<pre>
https.sessioncontext.shared=true
</pre>
</p>
<p>
The LDAP Extended Sampler now uses the same panel for both Thread Bind and Single-Bind tests.
This means that any tests using the Single-bind test will need to be updated to set the username and password.
</p>
<p>
<bugzilla>41140</bugzilla>: JMeterThread behaviour was changed so that PostProcessors are run in forward order
(as they appear in the test plan) rather than reverse order as previously.
The original behaviour can be restored by setting the following JMeter property:
<br/>
jmeterthread.reversePostProcessors=true
</p>
<p>
The HTTP Authorization Manager now has extra columns for domain and realm,
so the temporary work-round of using '\' and '@' in the username to delimit the domain and realm
has been removed.
</p>
<p>
<keycombo><keysym>Control</keysym><keysym>Z</keysym></keycombo> no longer used for Remote Start All - this
now uses <keycombo><keysym>Control</keysym><keysym>Shift</keysym><keysym>R</keysym></keycombo>
</p>
<p>
HttpClient now uses pre-emptive authentication.
This can be changed by setting the following:
<pre>
jmeter.properties:
httpclient.parameters.file=httpclient.parameters

httpclient.parameters:
http.authentication.preemptive$Boolean=false
</pre>
</p>

<p>
The port field in HTTP Request Defaults is no longer ignored for https samplers if it is set to 80.
</p>

<h4>Incompatible changes (development):</h4>
<p>
<b>N.B.</b>The clear() method was defined in the following interfaces: Clearable, JMeterGUIComponent and TestElement.
The methods serve different purposes, so two of them were renamed:
the Clearable method is now clearData() and the JMeterGUIComponent method is now clearGui().
3<sup>rd</sup> party add-ons may need to be rebuilt.
</p>
<p>
Calculator and SamplingStatCalculator classes no longer provide any formatting of their data.
Formatting should now be done using the jorphan.gui Renderer classes.
</p>
<p>
Removed deprecated method JMeterUtils.split() - use JOrphanUtils version instead.
</p>
<p>
Removed method saveUsingJPEGEncoder() from SaveGraphicsService.
It was unused so far, and used the only Sun-specific class in JMeter.
</p>


<h4>New functionality/improvements:</h4>
<ul>
<li>Add Domain and Realm support to HTTP Authorization Manager</li>
<li>HttpClient now behaves the same as the JDK http sampler for invalid certificates etc</li>
<li>Added httpclient.parameters.file to allow HttpClient parameters to be defined</li>
<li><bugzilla>33964</bugzilla> - Http Requests can send a file as the entire post body if name/type are omitted</li>
<li><bugzilla>41705</bugzilla> - add content-encoding option to HTTP samplers for POST requests</li>
<li><bugzilla>40933</bugzilla>,<bugzilla>40945</bugzilla> - optional RE matching when retrieving embedded resource URLs</li>
<li><bugzilla>27780</bugzilla> - (patch 19936) create multipart/form-data HTTP request without uploading file</li>
<li><bugzilla>42098</bugzilla> - Use specified encoding for parameter values in HTTP GET</li>
<li><bugzilla>42506</bugzilla> - JMeter threads now use independent SSL sessions</li>
<li><bugzilla>41707</bugzilla> - HTTP Proxy XML-RPC support</li>
<li><bugzilla>41880</bugzilla> - Add content-type filtering to HTTP Proxy Server</li>
<li><bugzilla>41876</bugzilla> - Add more options to control what the HTTP Proxy generates</li>
<li><bugzilla>42158</bugzilla> - Improve support for multipart/form-data requests in HTTP Proxy server</li>
<li><bugzilla>42173</bugzilla> - Let HTTP Proxy handle encoding of request, and undecode parameter values</li>
<li><bugzilla>42674</bugzilla> - default to pre-emptive HTTP authorisation if not specified</li>
<li>Support "file" protocol in HTTP Samplers</li>
<li>Http Autoredirects are now enabled by default when creating new samplers</li>

<li><bugzilla>40103</bugzilla> - various LDAP enhancements</li>
<li><bugzilla>40369</bugzilla> - LDAP: Stable search results in sampler</li>
<li><bugzilla>40381</bugzilla> - LDAP: more descriptive strings</li>

<li>BeanShell Post-Processor no longer ignores samples with zero-length result data</li>
<li>Added beanshell.init.file property to run a BeanShell script at startup</li>
<li><bugzilla>39864</bugzilla> - BeanShell init files now found from current or bin directory</li>
<li>BeanShell elements now support ThreadListener and TestListener interfaces</li>
<li>BSF Sampler passes additional variables to the script</li>

<li>Added timeout for WebService (SOAP) Sampler</li>

<li><bugzilla>40825</bugzilla> - Add JDBC prepared statement support</li>
<li>Extend JDBC Sampler: Commit, Rollback, AutoCommit</li>

<li><bugzilla>41457</bugzilla> - Add TCP Sampler option to not re-use connections</li>

<li><bugzilla>41522</bugzilla> - Use JUnit sampler name in sample results</li>

<li><bugzilla>42223</bugzilla> - FTP Sampler can now upload files</li>

<li><bugzilla>40804</bugzilla> - Change Counter default to max = Long.MAX_VALUE</li>

<li>Use property jmeter.home (if present) to override user.dir when starting JMeter</li>
<li>New -j option to easily change jmeter log file</li>

<li>HTTP Mirror Server Workbench element</li>

<li><bugzilla>41253</bugzilla> - extend XPathExtractor to work with non-NodeList XPath expressions</li>
<li><bugzilla>42088</bugzilla> - Add XPath Assertion for booleans</li>

<li>Added __V variable function to resolve nested variable names</li>

<li><bugzilla>40369</bugzilla> - Equals Response Assertion</li>
<li><bugzilla>41704</bugzilla> - Allow charset encoding to be specified for CSV DataSet</li>
<li><bugzilla>41259</bugzilla> - Comment field added to all test elements</li>
<li>Add standard deviation to Summary Report</li>
<li><bugzilla>41873</bugzilla> - Add name to AssertionResult and display AssertionResult in ViewResultsFullVisualizer</li>
<li><bugzilla>36755</bugzilla> - Save XML test files with UTF-8 encoding</li>
<li>Use ISO date-time format for Tree View Listener (previously the year was not shown)</li>
<li>Improve loading of CSV files: if possible, use header to determine format; guess timestamp format if not milliseconds</li>
<li><bugzilla>41913</bugzilla> - TransactionController now creates samples as sub-samples of the transaction</li>
<li><bugzilla>42582</bugzilla> - JSON pretty printing in Tree View Listener</li>
<li><bugzilla>40099</bugzilla> - Enable use of object variable in ForEachController</li>

<li><bugzilla>39693</bugzilla> - View Result Table uses icon instead of check box</li>
<li><bugzilla>39717</bugzilla> - use icons in the results tree</li>
<li><bugzilla>42247</bugzilla> - improve HCI</li>
<li>Allow user to cancel out of Close dialogue</li>
</ul>

<h4>Non-functional improvements:</h4>
<ul>
<li>Functor calls can now be unit tested</li>
<li>Replace com.sun.net classes with javax.net</li>
<li>Extract external jar definitions into build.properties file</li>
<li>Use specific jar names in build classpaths so errors are detected sooner</li>
<li>Tidied up ORO calls; now only one cache, size given by oro.patterncache.size, default 1000</li>
<li><bugzilla>42326</bugzilla> - Order of elements in .jmx files changes</li>
</ul>

<h4>External jar updates:</h4>
<ul>
<li>Htmlparser 2.0-20060923</li>
<li>xstream 1.2.1/xpp3_min-1.1.3.4.O</li>
<li>Batik 1.6</li>
<li>BSF 2.4.0</li>
<li>commons-collections 3.2</li>
<li>commons-httpclient-3.1-rc1</li>
<li>commons-jexl 1.1</li>
<li>commons-lang-2.3 (added)</li>
<li>JUnit 3.8.2</li>
<li>velocity 1.5</li>
<li>commons-io 1.3.1 (added)</li>
</ul>

<h4>Bug fixes:</h4>
<ul>
<li><bugzilla>39773</bugzilla> - NTLM now needs local host name - fix other call</li>
<li><bugzilla>40438</bugzilla> - setting "httpclient.localaddress" has no effect</li>
<li><bugzilla>40419</bugzilla> - Chinese messages translation fix</li>
<li><bugzilla>39861</bugzilla> - fix typo</li>
<li><bugzilla>40562</bugzilla> - redirects no longer invoke RE post processors</li>
<li><bugzilla>40451</bugzilla> - set label if not set by sampler</li>
<li>Fix NPE in CounterConfig.java in Remote mode</li>
<li><bugzilla>40791</bugzilla> - Calculator used by Summary Report</li>
<li><bugzilla>40772</bugzilla> - correctly parse missing fields in CSV log files</li>
<li><bugzilla>40773</bugzilla> - XML log file timestamp not parsed correctly</li>
<li><bugzilla>41029</bugzilla> - JMeter -t fails to close input JMX file</li>
<li><bugzilla>40954</bugzilla> - Statistical mode in distributed testing shows wrong results</li>
<li>Fix ClassCast Exception when using sampler that returns null, e..g TestAction</li>
<li><bugzilla>41140</bugzilla> - Post-processors are run in reverse order</li>
<li><bugzilla>41277</bugzilla> - add Latency and Encoding to CSV output</li>
<li><bugzilla>41414</bugzilla> - Mac OS X may add extra item to -jar classpath</li>
<li>Fix NPE when saving thread counts in remote testing</li>
<li><bugzilla>34261</bugzilla> - NPE in HtmlParser (allow for missing attributes)</li>
<li><bugzilla>40100</bugzilla> - check FileServer type before calling close</li>
<li><bugzilla>39887</bugzilla> - jmeter.util.SSLManager: Couldn't load keystore error message</li>
<li><bugzilla>41543</bugzilla> - exception when webserver returns "500 Internal Server Error" and content-length is 0</li>
<li><bugzilla>41416</bugzilla> - don't use chunked input for text-box input in SOAP-RPC sampler</li>
<li><bugzilla>39827</bugzilla> - SOAP Sampler content length for files</li>
<li>Fix Class cast exception in Clear.java</li>
<li><bugzilla>40383</bugzilla> - don't set content-type if already set</li>
<li>Mailer Visualiser test button now works if test plan has not yet been saved</li>
<li><bugzilla>36959</bugzilla> - Shortcuts "ctrl c" and "ctrl v" don't work on the tree elements</li>
<li><bugzilla>40696</bugzilla> - retrieve embedded resources from STYLE URL() attributes</li>
<li><bugzilla>41568</bugzilla> - Problem when running tests remotely when using a 'Counter'</li>
<li>Fixed various classes that assumed timestamps were always end time stamps:
<ul>
<li>SamplingStatCalculator</li>
<li>JTLData</li>
<li>RunningSample</li>
</ul>
</li>
<li><bugzilla>40325</bugzilla> - allow specification of proxyuser and proxypassword for WebServiceSampler</li>
<li>Change HttpClient proxy definition to use NTCredentials; added http.proxyDomain property for this</li>
<li><bugzilla>40371</bugzilla> - response assertion "pattern to test" scrollbar problem</li>
<li><bugzilla>40589</bugzilla> - Unescape XML entities in embedded URLs</li>
<li><bugzilla>41902</bugzilla> - NPE in HTTPSampler when responseCode = -1</li>
<li><bugzilla>41903</bugzilla> - ViewResultsFullVisualizer : status column looks bad when you do copy and paste</li>
<li><bugzilla>41837</bugzilla> - Parameter value corruption in proxy</li>
<li><bugzilla>41905</bugzilla> - Can't cut/paste/select Header Manager fields in Java 1.6</li>
<li><bugzilla>41928</bugzilla> - Make all request headers sent by HTTP Request sampler appear in sample result</li>
<li><bugzilla>41944</bugzilla> - Subresults not handled recursively by ResultSaver</li>
<li><bugzilla>42022</bugzilla> - HTTPSampler does not allow multiple headers of same name</li>
<li><bugzilla>42019</bugzilla> - Content type not stored in redirected HTTP request with subresults</li>
<li><bugzilla>42057</bugzilla> - connection can be null if method is null</li>
<li><bugzilla>41518</bugzilla> - JMeter changes the HTTP header Content Type for POST request</li>
<li><bugzilla>42156</bugzilla> - HTTPRequest HTTPClient incorrectly urlencodes parameter value in POST</li>
<li><bugzilla>42184</bugzilla> - Number of bytes for subsamples not added to sample when sub samples are added</li>
<li><bugzilla>42185</bugzilla> - If a HTTP Sampler follows a redirect, and is set up to download images, then images are downloaded multiple times</li>
<li><bugzilla>39808</bugzilla> - Invalid redirect causes incorrect sample time</li>
<li><bugzilla>42267</bugzilla> - Concurrent GUI update failure in Proxy Recording</li>
<li><bugzilla>30120</bugzilla> - Name of simple controller is resetted if a new simple controller is added as child</li>
<li><bugzilla>41078</bugzilla> - merge results in name change of test plan</li>
<li><bugzilla>40077</bugzilla> - Creating new Elements copies values from Existing elements</li>
<li><bugzilla>42325</bugzilla> - Implement the "clear" method for the LogicControllers</li>
<li><bugzilla>25441</bugzilla> - TestPlan changes sometimes detected incorrectly (isDirty)</li>
<li><bugzilla>39734</bugzilla> - Listeners shared after copy/paste operation</li>
<li><bugzilla>40851</bugzilla> - Loop controller with 0 iterations, stops evaluating the iterations field</li>
<li><bugzilla>24684</bugzilla> - remote startup problems if spaces in the path of the jmeter</li>
<li>Use Listener configuration when loading CSV data files</li>
<li>Function methods setParameters() need to be synchronized</li>
<li>Fix CLI long optional argument to require "=" (as for short options)</li>
<li>Fix SlowSocket to work properly with Httpclient (both http and https)</li>
<li><bugzilla>41612</bugzilla> - Loop nested in If Controller behaves erratically</li>
<li><bugzilla>42232</bugzilla> - changing language clears UDV contents</li>
<li>Jexl function did not allow variables</li>
</ul>

<h3>Version 2.2</h3>

<h4>Incompatible changes:</h4>
<p>
The time stamp is now set to the sampler start time (it was the end).
To revert to the previous behaviour, change the property <b>sampleresult.timestamp.start</b> to false (or comment it)
</p>
<p>The JMX output format has been simplified and files are not backwards compatible</p>
<p>
The JMeter.BAT file no longer changes directory to JMeter home, but runs from the current working directory.
The jmeter-n.bat and jmeter-t.bat files change to the directory containing the input file.
</p>
<p>
Listeners are now started slightly later in order to allow variable names to be used.
This may cause some problems; if so define the following in jmeter.properties:
<br/>
jmeterengine.startlistenerslater=false
</p>

<p>
The GUI now expands the tree by default when loading a test plan.
This can be disabled by setting the JMeter property <b>onload.expandtree=false</b>
</p>

<h4>Known problems:</h4>
<ul>
<li>Post-processors run in reverse order (see <bugzilla>41140</bugzilla>)</li>
<li>Module Controller does not work in non-GUI mode</li>
<li>Aggregate Report and some other listeners use increasing amounts of memory as a test progresses</li>
<li>Does not always handle non-default encoding properly</li>
<li>Spaces in the installation path cause problems for client-server mode</li>
<li>Change of Language does not propagate to all test elements</li>
<li>SamplingStatCalculator keeps a List of all samples for calculation purposes;
this can cause memory exhaustion in long-running tests</li>
<li>Does not properly handle server certificates if they are expired or not installed locally</li>
</ul>

<h4>New functionality:</h4>
<ul>
<li>Report function</li>
<li>XPath Extractor Post-Processor. Handles single and multiple matches.</li>
<li>Simpler JMX file format (2.2)</li>
<li>BeanshellSampler code can update ResponseData directly</li>
<li><bugzilla>37490</bugzilla> - Allow UDV as delay in Duration Assertion</li>
<li>Slow connection emulation for HttpClient</li>
<li>Enhanced JUnitSampler so that by default assert errors and exceptions are not appended to the error message.
Users must explicitly check append in the sampler</li>
<li>Enhanced the documentation for webservice sampler to explain how it works with CSVDataSet</li>
<li>Enhanced the documentation for javascript function to explain escaping comma</li>
<li>Allow CSV Data Set file names to be absolute</li>
<li>Report Tree compiler errors better</li>
<li>Don't reset Regex Extractor variable if default is empty</li>
<li>includecontroller.prefix property added</li>
<li>Regular Expression Extractor sets group count</li>
<li>Can now save entire screen as an image, not just the right-hand pane</li>
<li><bugzilla>38901</bugzilla> - Add optional SOAPAction header to SOAP Sampler</li>
<li>New BeanShell test elements: Timer, PreProcessor, PostProcessor, Listener</li>
<li>__split() function now clears next variable, so it can be used with ForEach Controller</li>
<li><bugzilla>38682</bugzilla> - add CallableStatement functionality to JDBC Sampler</li>
<li>Make it easier to change the RMI/Server port</li>
<li>Add property jmeter.save.saveservice.xml_pi to provide optional xml processing instruction in JTL files</li>
<li>Add bytes and URL to items that can be saved in sample log files (XML and CSV)</li>
<li>The Post-Processor "Save Responses to a File" now saves the generated file name with the
sample, and the file name can be included in the sample log file.
</li>
<li>Change jmeter.bat DOS script so it works from any directory</li>
<li>New -N option to define nonProxyHosts from command-line</li>
<li>New -S option to define system properties from input file</li>
<li><bugzilla>26136</bugzilla> - allow configuration of local address</li>
<li>Expand tree by default when loading a test plan - can be disabled by setting property onload.expandtree=false</li>
<li><bugzilla>11843</bugzilla> - URL Rewriter can now cache the session id</li>
<li>Counter Pre-Processor now supports formatted numbers</li>
<li>Add support for HEAD PUT OPTIONS TRACE and DELETE methods</li>
<li>Allow default HTTP implementation to be changed</li>
<li>Optionally save active thread counts (group and all) to result files</li>
<li>Variables/functions can now be used in Listener file names</li>
<li>New __time() function; define START.MS/START.YMD/START.HMS properties and variables</li>
<li>Add Thread Name to Tree and Table Views</li>
<li>Add debug functions: What class, debug on, debug off</li>
<li>Non-caching Calculator - used by Table Visualiser to reduce memory footprint</li>
<li>Summary Report - similar to Aggregate Report, but uses less memory</li>
<li><bugzilla>39580</bugzilla> - recycle option for CSV Dataset</li>
<li><bugzilla>37652</bugzilla> - support for Ajp Tomcat protocol</li>
<li><bugzilla>39626</bugzilla> - Loading SOAP/XML-RPC requests from file</li>
<li><bugzilla>39652</bugzilla> - Allow truncation of labels on AxisGraph</li>
<li>Allow use of htmlparser 1.6</li>
<li><bugzilla>39656</bugzilla> - always use SOAP action if it is provided</li>
<li>Automatically include properties from user.properties file</li>
<li>Add __jexl() function - evaluates Commons JEXL expressions</li>
<li>Optionally load JMeter properties from user.properties and system properties from system.properties.</li>
<li><bugzilla>39707</bugzilla> - allow Regex match against URL</li>
<li>Add start time to Table Visualiser</li>
<li>HTTP Samplers can now extract embedded resources for any required media types</li>
</ul>

<h4>Bug fixes:</h4>
<ul>
<li>Fix NPE when no module selected in Module Controller</li>
<li>Fix NPE in XStream when no ResponseData present</li>
<li>Remove ?xml prefix when running with Java 1.5 and no x-jars</li>
<li><bugzilla>37117</bugzilla> - setProperty() function should return ""; added optional return of original setting</li>
<li>Fix CSV output time format</li>
<li><bugzilla>37140</bugzilla> - handle encoding better in RegexFunction</li>
<li>Load all cookies, not just the first; fix class cast exception</li>
<li>Fix default Cookie path name (remove page name)</li>
<li>Fixed resultcode attribute name</li>
<li><bugzilla>36898</bugzilla> - apply encoding to RegexExtractor</li>
<li>Add properties for saving subresults, assertions, latency, samplerData, responseHeaders, requestHeaders &amp; encoding</li>
<li><bugzilla>37705</bugzilla> - Synch Timer now works OK after run is stopped</li>
<li><bugzilla>37716</bugzilla> - Proxy request now handles file Post correctly</li>
<li>HttpClient Sampler now saves latency</li>
<li>Fix NPE when using JavaScript function on Test Plan</li>
<li>Fix Base Href parsing in htmlparser</li>
<li><bugzilla>38256</bugzilla> - handle cookie with no path</li>
<li><bugzilla>38391</bugzilla> - use long when accumulating timer delays</li>
<li><bugzilla>38554</bugzilla> - Random function now uses long numbers</li>
<li><bugzilla>35224</bugzilla> - allow duplicate attributes for LDAP sampler</li>
<li><bugzilla>38693</bugzilla> - Webservice sampler can now use https protocol</li>
<li><bugzilla>38646</bugzilla> - Regex Extractor now clears old variables on match failure</li>
<li><bugzilla>38640</bugzilla> - fix WebService Sampler pooling</li>
<li><bugzilla>38474</bugzilla> - HTML Link Parser doesn't follow frame links</li>
<li><bugzilla>36430</bugzilla> - Counter now uses long rather than int to increase the range</li>
<li><bugzilla>38302</bugzilla> - fix XPath function</li>
<li><bugzilla>38748</bugzilla> - JDBC DataSourceElement fails with remote testing</li>
<li><bugzilla>38902</bugzilla> - sometimes -1 seems to be returned unnecessarily for response code</li>
<li><bugzilla>38840</bugzilla> - make XML Assertion thread-safe</li>
<li><bugzilla>38681</bugzilla> - Include controller now works in non-GUI mode</li>
<li>Add write(OS,IS) implementation to TCPClientImpl</li>
<li>Sample Result converter saves response code as "rc". Previously it saved as "rs" but read with "rc"; it will now also read with "rc".
The XSL stylesheets also now accept either "rc" or "rs"</li>
<li>Fix counter function so each counter instance is independent (previously the per-user counters were shared between instances of the function)</li>
<li>Fix TestBean Examples so that they work</li>
<li>Fix JTidy parser so it does not skip body tags with background images</li>
<li>Fix HtmlParser parser so it catches all background images</li>
<li><bugzilla>39252</bugzilla> set SoapSampler sample result from XML data</li>
<li><bugzilla>38694</bugzilla> - WebServiceSampler not setting data encoding correctly</li>
<li>Result Collector now closes input files read by listeners</li>
<li><bugzilla>25505</bugzilla> - First HTTP sampling fails with "HTTPS hostname wrong: should be 'localhost'"</li>
<li><bugzilla>25236</bugzilla> - remove double scrollbar from Assertion Result Listener</li>
<li><bugzilla>38234</bugzilla> - Graph Listener divide by zero problem</li>
<li><bugzilla>38824</bugzilla> - clarify behaviour of Ignore Status</li>
<li><bugzilla>38250</bugzilla> - jmeter.properties "language" now supports country suffix, for zh_CN and zh_TW etc</li>
<li>jmeter.properties file is now closed after it has been read</li>
<li><bugzilla>39533</bugzilla> - StatCalculator added wrong items</li>
<li><bugzilla>39599</bugzilla> - ConcurrentModificationException</li>
<li>HTTPSampler2 now handles Auto and Follow redirects correctly</li>
<li><bugzilla>29481</bugzilla> - fix reloading sample results so subresults not counted twice</li>
<li><bugzilla>30267</bugzilla> - handle AutoRedirects properly</li>
<li><bugzilla>39677</bugzilla> - allow for space in JMETER_BIN variable</li>
<li>Use Commons HttpClient cookie parsing and management. Fix various problems with cookie handling.</li>
<li><bugzilla>39773</bugzilla> - NTCredentials needs host name</li>
</ul>

<h4>Other changes</h4>
<ul>
<li>Updated to HTTPClient 3.0 (from 2.0)</li>
<li>Updated to Commons Collections 3.1</li>
<li>Improved formatting of Request Data in Tree View</li>
<li>Expanded user documentation</li>
<li>Added MANIFEST, NOTICE and LICENSE to all jars</li>
<li>Extract htmlparser interface into separate jarfile to make it possible to replace the parser</li>
<li>Removed SQL Config GUI as no longer needed (or working!)</li>
<li>HTTPSampler no longer logs a warning for Page not found (404)</li>
<li>StringFromFile now callable as __StringFromFile (as well as _StringFromFile)</li>
<li>Updated to Commons Logging 1.1</li>
</ul>

<!--  ===================  -->


<hr/>
<h3>Version 2.1.1</h3>
<h4>New functionality:</h4>
<ul>
<li>New Include Controller allows a test plan to reference an external jmx file</li>
<li>New JUnitSampler added for using JUnit Test classes</li>
<li>New Aggregate Graph listener is capable of graphing aggregate statistics</li>
<li>Can provide additional classpath entries using the property user.classpath and on the Test Plan element</li>
</ul>
<h4>Bug fixes:</h4>
<ul>
<li>AccessLog Sampler and JDBC test elements populated correctly from 2.0 test plans</li>
<li>BSF Sampler now populates filename and parameters from saved test plan</li>
<li><bugzilla>36500</bugzilla> - handle missing data more gracefully in WebServiceSampler</li>
<li><bugzilla>35546</bugzilla> - add merge to right-click menu</li>
<li><bugzilla>36642</bugzilla> - Summariser stopped working in 2.1</li>
<li><bugzilla>36618</bugzilla> - CSV header line did not match saved data</li>
<li>JMeter should now run under JVM 1.3 (but does not build with 1.3)</li>
</ul>


<!--  ===================  -->

<h3>Version 2.1</h3>
<h4>New functionality:</h4>
<ul>
<li>New Test Script file format - smaller, more compact, more readable</li>
<li>New Sample Result file format - smaller, more compact</li>
<li>XSchema Assertion</li>
<li>XML Tree display</li>
<li>CSV DataSet Config item</li>
<li>New JDBC Connection Pool Config Element</li>
<li>Synchronisation Timer</li>
<li>setProperty function</li>
<li>Save response data on error</li>
<li>Ant JMeter XSLT now optionally shows failed responses and has internal links</li>
<li>Allow JavaScript variable name to be omitted</li>
<li>Changed following Samplers to set sample label from sampler name</li>
<li>All Test elements can be saved as a graphics image to a file</li>
<li><bugzilla>35026</bugzilla> - add RE pattern matching to Proxy</li>
<li><bugzilla>34739</bugzilla> - Enhance constant Throughput timer</li>
<li><bugzilla>25052</bugzilla> - use response encoding to create comparison string in Response Assertion</li>
<li>New optional icons</li>
<li>Allow icons to be defined via property files</li>
<li>New stylesheets for 2.1 format XML test output</li>
<li>Save samplers, config element and listeners as PNG</li>
<li>Enhanced support for WSDL processing</li>
<li>New JMS sampler for topic and queue messages</li>
<li>How-to for JMS samplers</li>
<li><bugzilla>35525</bugzilla> - Added Spanish localisation</li>
<li><bugzilla>30379</bugzilla> - allow server.rmi.port to be overridden</li>
<li>enhanced the monitor listener to save the calculated stats</li>
<li>Functions and variables now work at top level of test plan</li>
</ul>
<h4>Bug fixes:</h4>
<ul>
<li><bugzilla>34586</bugzilla> - XPath always remained as /</li>
<li>BeanShellInterpreter did not handle null objects properly</li>
<li>Fix Chinese resource bundle names</li>
<li>Save field names if required to CSV files</li>
<li>Ensure XML file is closed</li>
<li>Correct icons now displayed for TestBean components</li>
<li>Allow for missing optional jar(s) in creating menus</li>
<li>Changed Samplers to set sample label from sampler name as was the case for HTTP</li>
<li>Fix various samplers to avoid NPEs when incomplete data is provided</li>
<li>Fix Cookie Manager to use seconds; add debug</li>
<li><bugzilla>35067</bugzilla> - set up filename when using -t option</li>
<li>Don't substitute TestElement.* properties by UDVs in Proxy</li>
<li><bugzilla>35065</bugzilla> - don't save old extensions in File Saver</li>
<li><bugzilla>25413</bugzilla> - don't enable Restart button unnecessarily</li>
<li><bugzilla>35059</bugzilla> - Runtime Controller stopped working</li>
<li>Clear up any left-over connections created by LDAP Extended Sampler</li>
<li><bugzilla>23248</bugzilla> - module controller didn't remember stuff between save and reload</li>
<li>Fix Chinese locales</li>
<li><bugzilla>29920</bugzilla> - change default locale if necessary to ensure default properties are picked up when English is selected.</li>
<li>Bug fixes for Tomcat monitor captions</li>
<li>Fixed webservice sampler so it works with user defined variables</li>
<li>Fixed screen borders for LDAP config GUI elements</li>
<li><bugzilla>31184</bugzilla> - make sure encoding is specified in JDBC sampler</li>
<li>TCP sampler - only share sockets with same host:port details; correct the manual</li>
<li>Extract src attribute for embed tags in JTidy and Html Parsers</li>
</ul>

<!--  ===================  -->

<h3>Version 2.0.3</h3>
<h4>New functionality:</h4>
<ul>
<li>XPath Assertion and XPath Function</li>
<li>Switch Controller</li>
<li>ForEach Controller can now loop through sets of groups</li>
<li>Allow CSVRead delimiter to be changed (see jmeter.properties)</li>
<li><bugzilla>33920</bugzilla> - allow additional property files</li>
<li><bugzilla>33845</bugzilla> - allow direct override of Home dir</li>
</ul>
<h4>Bug fixes:</h4>
<ul>
<li>Regex Extractor nested constant not put in correct place <bugzilla>32395</bugzilla></li>
<li>Start time reset to now if necessary so that delay works OK.</li>
<li>Missing start/end times in scheduler are assumed to be now, not 1970</li>
<li><bugzilla>28661</bugzilla> - 304 responses not appearing in listeners</li>
<li>DOS scripts now handle different disks better</li>
<li><bugzilla>32345</bugzilla> - HTTP Rewriter does not work with HTTP Request default</li>
<li>Catch Runtime Exceptions so an error in one Listener does not affect others</li>
<li><bugzilla>33467</bugzilla> - __threadNum() extracted number wrongly </li>
<li><bugzilla>29186</bugzilla>,33299 - fix CLI parsing of "-" in second argument</li>
<li>Fix CLI parse bug: -D arg1=arg2. Log more startup parameters.</li>
<li>Fix JTidy and HTMLParser parsers to handle form src= and link rel=stylesheet</li>
<li>JMeterThread now logs Errors to jmeter.log which were appearing on console</li>
<li>Ensure WhileController condition is dynamically checked</li>
<li><bugzilla>32790</bugzilla> ensure If Controller condition is re-evaluated each time</li>
<li><bugzilla>30266</bugzilla> - document how to display proxy recording responses</li>
<li><bugzilla>33921</bugzilla> - merge should not change file name</li>
<li>Close file now gives chance to save changes</li>
<li><bugzilla>33559</bugzilla> - fixes to Runtime Controller</li>
</ul>
<h4>Other changes:</h4>
<ul>
<li>To help with variable evaluation, JMeterThread sets "sampling started" a bit earlier (see jmeter.properties)</li>
<li><bugzilla>33796</bugzilla> - delete cookies with null/empty values</li>
<li>Better checking of parameter count in JavaScript function</li>
<li>Thread Group now defaults to 1 loop instead of forever</li>
<li>All Beanshell access is now via a single class; only need BSH jar at run-time</li>
<li><bugzilla>32464</bugzilla> - document Direct Draw settings in jmeter.bat</li>
<li><bugzilla>33919</bugzilla> - increase Counter field sizes</li>
<li><bugzilla>32252</bugzilla> - ForEach was not initialising counters</li>
</ul>

<!--  ===================  -->

<h3>Version 2.0.2</h3>
<h4>New functionality:</h4>
<ul>
<li>While Controller</li>
<li>BeanShell initialisation scripts</li>
<li>Result Saver can optionally save failed results only</li>
<li>Display as HTML has option not to download frames and images etc</li>
<li>Multiple Tree elements can now be enabled/disabled/copied/pasted at once</li>
<li>__split() function added</li>
<li><bugzilla>28699</bugzilla> allow Assertion to regard unsuccessful responses - e.g. 404 - as successful</li>
<li><bugzilla>29075</bugzilla> Regex Extractor can now extract data out of http response header as well as the body</li>
<li>__log() functions can now write to stdout and stderr</li>
<li>URL Modifier can now optionally ignore query parameters</li>
</ul>
<h4>Bug fixes:</h4>
<ul>
<li>If controller now works after the first false condition <bugzilla>31390</bugzilla></li>
<li>Regex GUI was losing track of Header/Body checkbox <bugzilla>29853</bugzilla></li>
<li>Display as HTML now handles frames and relative images</li>
<li>Right-click open replaced by merge</li>
<li>Fix some drag and drop problems</li>
<li>Fixed foreach demo example so it works</li>
<li><bugzilla>30741</bugzilla> SSL password prompt now works again </li>
<li>StringFromFile now closes files at end of test; start and end now optional as intended</li>
<li><bugzilla>31342</bugzilla> Fixed text of SOAP Sampler headers</li>
<li>Proxy must now be stopped before it can be removed <bugzilla>25145</bugzilla></li>
<li>Link Parser now supports BASE href <bugzilla>25490</bugzilla></li>
<li><bugzilla>30917</bugzilla> Classfinder ignores duplicate names</li>
<li><bugzilla>22820</bugzilla> Allow Counter value to be cleared</li>
<li><bugzilla>28230</bugzilla> Fix NPE in HTTP Sampler retrieving embedded resources</li>
<li>Improve handling of StopTest; catch and log some more errors</li>
<li>ForEach Controller no longer runs any samples if first variable is not defined</li>
<li><bugzilla>28663</bugzilla> NPE in remote JDBC execution</li>
<li><bugzilla>30110</bugzilla> Deadlock in stopTest processing</li>
<li><bugzilla>31696</bugzilla> Duration not working correctly when using Scheduler</li>
<li>JMeterContext now uses ThreadLocal - should fix some potential NPE errors</li>
</ul>
<h3>Version 2.0.1</h3>
<p>Bug fix release. TBA.</p>
<h3>Version 2.0</h3>
<ul>
    <li>HTML parsing improved; now has choice of 3 parsers, and most embedded elements can now be detected and downloaded.</li>
<li>Redirects can now be delegated to URLConnection by defining the JMeter property HTTPSamper.delegateRedirects=true (default is false) </li>
<li>Stop Thread and Stop Test methods added for Samplers and Assertions etc. Samplers can call setStopThread(true) or setStopTest(true) if they detect an error that needs to stop the thread of the test after the sample has been processed </li>
<li>Thread Group Gui now has an extra pane to specify what happens after a Sampler error: Continue (as now), Stop Thread or Stop Test.
    This needs to be extended to a lower level at some stage. </li>
<li>Added Shutdown to Run Menu. This is the same as Stop except that it lets the Threads finish normally (i.e. after the next sample has been completed) </li>
<li>Remote samples can be cached until the end of a test by defining the property hold_samples=true when running the server.
More work is needed to be able to control this from the GUI </li>
<li>Proxy server has option to skip recording browser headers </li>
<li>Proxy restart works better (stop waits for daemon to finish) </li>
<li>Scheduler ignores start if it has already passed </li>
<li>Scheduler now has delay function </li>
<li>added Summariser test element (mainly for non-GUI) testing. This prints summary statistics to System.out and/or the log file every so often (3 minutes by default). Multiple summarisers can be used; samples are accumulated by summariser name. </li>
<li>Extra Proxy Server options:
Create all samplers with keep-alive disabled
Add Separator markers between sets of samples
Add Response Assertion to first sampler in each set </li>
<li>Test Plan has a comment field</li>

    <li>Help Page can now be pushed to background</li>
    <li>Separate Function help page</li>
    <li>New / amended functions</li>
    <ul>
      <li>__property() and __P() functions</li>
      <li>__log() and __logn() - for writing to the log file</li>
      <li>_StringFromFile can now process a sequence of files, e.g. dir/file01.txt, dir/file02.txt etc </li>
      <li>_StringFromFile() function can now use a variable or function for the file name </li>
    </ul>
    <li>New / amended Assertions</li>
    <ul>
        <li>Response Assertion now works for URLs, and it handles null data better </li>
        <li>Response Assertion can now match on Response Code and Response message as well </li>
        <li>HTML Assertion using JTidy to check for well-formed HTML</li>
    </ul>
    <li>If Controller (not fully functional yet)</li>
    <li>Transaction Controller (aggregates the times of its children)</li>
    <li>New Samplers</li>
        <ul>
            <li>Basic BSF Sampler (optional)</li>
            <li>BeanShell Sampler (optional, needs to be downloaded from www.beanshell.org</li>
            <li>Basic TCP Sampler</li>
        </ul>
     <li>Optionally start BeanShell server (allows remote access to JMeter variables and methods) </li>
</ul>
<h3>Version 1.9.1</h3>
<p>TBA</p>
<h3>Version 1.9</h3>
<ul>
<li>Sample result log files can now be in CSV or XML format</li>
<li>New Event model for notification of iteration events during test plan run</li>
<li>New Javascript function for executing arbitrary javascript statements</li>
<li>Many GUI improvements</li>
<li>New Pre-processors and Post-processors replace Modifiers and Response-Based Modifiers. </li>
<li>Compatible with jdk1.3</li>
<li>JMeter functions are now fully recursive and universal (can use functions as parameters to functions)</li>
<li>Integrated help window now supports hypertext links</li>
<li>New Random Function</li>
<li>New XML Assertion</li>
<li>New LDAP Sampler (alpha code)</li>
<li>New Ant Task to run JMeter (in extras folder)</li>
<li>New Java Sampler test implementation (to assist developers)</li>
<li>More efficient use of memory, faster loading of .jmx files</li>
<li>New SOAP Sampler (alpha code)</li>
<li>New Median calculation in Graph Results visualizer</li>
<li>Default config element added for developer benefit</li>
<li>Various performance enhancements during test run</li>
<li>New Simple File recorder for minimal GUI overhead during test run</li>
<li>New Function: StringFromFile - grabs values from a file</li>
<li>New Function: CSVRead - grabs multiple values from a file</li>
<li>Functions now longer need to be encoded - special values should be escaped
with "\" if they are literal values</li>
<li>New cut/copy/paste functionality</li>
<li>SSL testing should work with less user-fudging, and in non-gui mode</li>
<li>Mailer Model works in non-gui mode</li>
<li>New Throughput Controller</li>
<li>New Module Controller</li>
<li>Tests can now be scheduled to run from a certain time till a certain time</li>
<li>Remote JMeter servers can be started from a non-gui client.  Also, in gui mode, all remote servers can be started with a single click</li>
<li>ThreadGroups can now be run either serially or in parallel (default)</li>
<li>New command line options to override properties</li>
<li>New Size Assertion</li>

</ul>

<h3>Version 1.8.1</h3>
<ul>
<li>Bug Fix Release.  Many bugs were fixed.</li>
<li>Removed redundant "Root" node from test tree.</li>
<li>Re-introduced Icons in test tree.</li>
<li>Some re-organization of code to improve build process.</li>
<li>View Results Tree has added option to view results as web document (still buggy at this point).</li>
<li>New Total line in Aggregate Listener (still buggy at this point).</li>
<li>Improvements to ability to change JMeter's Locale settings.</li>
<li>Improvements to SSL Manager.</li>
</ul>

<h3>Version 1.8</h3>
<ul>
<li>Improvement to Aggregate report's calculations.</li>
<li>Simplified application logging.</li>
<li>New Duration Assertion.</li>
<li>Fixed and improved Mailer Visualizer.</li>
<li>Improvements to HTTP Sampler's recovery of resources (sockets and file handles).</li>
<li>Improving JMeter's internal handling of test start/stop.</li>
<li>Fixing and adding options to behavior of Interleave and Random Controllers.</li>
<li>New Counter config element.</li>
<li>New User Parameters config element.</li>
<li>Improved performance of file opener.</li>
<li>Functions and other elements can access global variables.</li>
<li>Help system available within JMeter's GUI.</li>
<li>Test Elements can be disabled.</li>
<li>Language/Locale can be changed while running JMeter (mostly).</li>
<li>View Results Tree can be configured to record only errors.</li>
<li>Various bug fixes.</li>
</ul>

<h3>Version 1.7.3</h3>
<ul>
<li>New Functions that provide more ability to change requests dynamically during test runs.</li>
<li>New language translations in Japanese and German.</li>
<li>Removed annoying Log4J error messages.</li>
<li>Improved support for loading JMeter 1.7 version test plan files (.jmx files).</li>
<li>JMeter now supports proxy servers that require username/password authentication.</li>
<li>Dialog box indicating test stopping doesn't hang JMeter on problems with stopping test.</li>
<li>GUI can run multiple remote JMeter servers (fixes GUI bug that prevented this).</li>
<li>Dialog box to help created function calls in GUI.</li>
<li>New Keep-alive switch in HTTP Requests to indicate JMeter should or should not use Keep-Alive for sockets.</li>
<li>HTTP Post requests can have GET style arguments in Path field.  Proxy records them correctly now.</li>
<li>New User-defined test-wide static variables.</li>
<li>View Results Tree now displays more information, including name of request (matching the name
in the test tree) and full request and POST data.</li>
<li>Removed obsolete View Results Visualizer (use View Results Tree instead).</li>
<li>Performance enhancements.</li>
<li>Memory use enhancements.</li>
<li>Graph visualizer GUI improvements.</li>
<li>Updates and fixes to Mailer Visualizer.</li>
</ul>

<h3>Version 1.7.2</h3>
<ul>
<li>JMeter now notifies user when test has stopped running.</li>
<li>HTTP Proxy server records HTTP Requests with re-direct turned off.</li>
<li>HTTP Requests can be instructed to either follow redirects or ignore them.</li>
<li>Various GUI improvements.</li>
<li>New Random Controller.</li>
<li>New SOAP/XML-RPC Sampler.</li>
</ul>

<h3>Version 1.7.1</h3>
<ul>
<li>JMeter's architecture revamped for a more complete separation between GUI code and
test engine code.</li>
<li>Use of Avalon code to save test plans to XML as Configuration Objects</li>
<li>All listeners can save data to file and load same data at later date.</li>
</ul>

<h3>Version 1.7Beta</h3>
<ul>
    <li>Better XML support for special characters (Tushar Bhatia) </li>
    <li>Non-GUI functioning  &amp; Non-GUI test plan execution  (Tushar Bhatia)</li>
    <li>Removing Swing dependence from base JMeter classes</li>
    <li>Internationalization (Takashi Okamoto)</li>
    <li>AllTests bug fix (neth6@atozasia.com)</li>
    <li>ClassFinder bug fix (neth6@atozasia.com)</li>
    <li>New Loop Controller</li>
    <li>Proxy Server records HTTP samples from browser
        (and documented in the user manual)</li> <li>Multipart Form support</li>
    <li>HTTP Header class for Header customization</li>
    <li>Extracting HTTP Header information from responses (Jamie Davidson)</li>
    <li>Mailer Visualizer re-added to JMeter</li>
    <li>JMeter now url encodes parameter names and values</li>
    <li>listeners no longer give exceptions if their gui's haven't been initialized</li>
    <li>HTTPS and Authorization working together</li>
    <li>New Http sampling that automatically parses HTML response
        for images to download, and includes the downloading of these
        images in total time for request (Neth neth6@atozasia.com) </li>
    <li>HTTP responses from server can be parsed for links and forms,
        and dynamic data can be extracted and added to test samples
        at run-time (documented)</li>
    <li>New Ramp-up feature (Jonathan O'Keefe)</li>
    <li>New visualizers (Neth)</li>
    <li>New Assertions for functional testing</li>
</ul>

<h3>Version 1.6.1</h3>
<ul>
    <li>Fixed saving and loading of test scripts (no more extra lines)</li>
    <li>Can save and load special characters (such as &quot;&amp;&quot; and &quot;&lt;&quot;).</li>
    <li>Can save and load timers and listeners.</li>
    <li>Minor bug fix for cookies (if you cookie value
        contained an &quot;=&quot;, then it broke).</li>
    <li>URL's can sample ports other than 80, and can test HTTPS,
        provided you have the necessary jars (JSSE)</li>
</ul>

<h3>Version 1.6 Alpha</h3>
<ul>
    <li>New UI</li>
    <li>Separation of GUI and Logic code</li>
    <li>New Plug-in framework for new modules</li>
    <li>Enhanced performance</li>
    <li>Layering of test logic for greater flexibility</li>
    <li>Added support for saving of test elements</li>
    <li>Added support for distributed testing using a single client</li>

</ul>
<h3>Version 1.5.1</h3>
<ul>
    <li>Fixed bug that caused cookies not to be read if header name case not as expected.</li>
    <li>Clone entries before sending to sampler - prevents relocations from messing up
        information across threads</li>
    <li>Minor bug fix to convenience dialog for adding parameters to test sample.
        Bug prevented entries in dialog from appearing in test sample.</li>
    <li>Added xerces.jar to distribution</li>
    <li>Added junit.jar to distribution and created a few tests.</li>
    <li>Started work on new framework.  New files in cvs, but do not effect program yet.</li>
    <li>Fixed bug that prevent HTTPJMeterThread from delaying according to chosen timer.</li>
</ul>
<p>
<h3>Version 1.5</h3>
<ul>
    <li>Abstracted out the concept of the Sampler, SamplerController, and TestSample.
        A Sampler represents code that understands a protocol (such as HTTP,
        or FTP, RMI,   SMTP, etc..).  It is the code that actually makes the
        connection to whatever is   being tested.   A SamplerController
        represents code that understands how to organize and run a group
        of test samples.  It is what binds together a Sampler and its test
        samples and runs them.   A TestSample represents code that understands
        how to gather information from the   user about a particular test.
        For a website, it would represent a URL and any   information to be sent
        with the URL.</li>
    <li>The UI has been updated to make entering test samples more convenient.</li>
    <li>Thread groups have been added, allowing a user to setup multiple test to run
        concurrently, and to allow sharing of test samples between those tests.</li>
    <li>It is now possible to save and load test samples.</li>
    <li>&hellip; and many more minor changes/improvements &hellip;</li>
</ul>
</p>
<p>
<b>Apache JMeter 1.4.1-dev</b>
<ul>
   <li>Cleaned up URLSampler code after tons of patches for better readability. (SM)</li>
   <li>Made JMeter send a special &quot;user-agent&quot; identifier. (SM)</li>
   <li>Fixed problems with redirection not sending cookies and authentication info and removed
     a warning with jikes compilation. Thanks to Wesley Tanaka for the patches (SM)</li>
   <li>Fixed a bug in the URLSampler that caused to skip one URL when testing lists of URLs and
     a problem with Cookie handling. Thanks to Graham Johnson for the patches (SM)</li>
   <li>Fixed a problem with POST actions. Thanks to Stephen Schaub for the patch (SM)</li>
 </ul>
 </p>
 <p>
 <b>Apache JMeter 1.4</b> - Jul 11 1999
  <ul>
   <li>Fixed a problem with POST actions. Thanks to Brendan Burns for the patch (SM)</li>
   <li>Added close button to the About box for those window managers who don't provide it.
     Thanks to Jan-Henrik Haukeland for pointing it out. (SM)</li>
   <li>Added the simple Spline sample visualizer (JPN)</li>
</ul> </p>
  <p><b>Apache JMeter 1.3</b> - Apr 16 1999
<ul>
   <li>Run the Garbage Collector and run finalization before starting to sampling to ensure
     same state every time (SM)</li>
   <li>Fixed some NullPointerExceptions here and there (SM)</li>
   <li>Added HTTP authentication capabilities (RL)</li>
   <li>Added windowed sample visualizer (SM)</li>
   <li>Fixed stupid bug for command line arguments. Thanks to Jorge Bracer for pointing this out (SM)</li>
</ul> </p>
  <p><b>Apache JMeter 1.2</b> - Mar 17 1999
<ul>
   <li>Integrated cookie capabilities with JMeter (SM)</li>
   <li>Added the Cookie manager and Netscape file parser (SD)</li>
   <li>Fixed compilation error for JDK 1.1 (SD)</li> </ul> </p>
<p> <b>Apache JMeter 1.1</b> - Feb 24 1999
<ul>
   <li>Created the opportunity to create URL aliasing from the properties file as well as the
     ability to associate aliases to URL sequences instead of single URLs (SM) Thanks to
     Simon Chatfield for the very nice suggestions
     and code examples.</li>
   <li>Removed the TextVisualizer and replaced it with the much more useful FileVisualizer (SM)</li>
   <li>Added the known bug list (SM)</li>
   <li>Removed the Java Apache logo (SM)</li>
   <li>Fixed a couple of typos (SM)</li>
   <li>Added UNIX makefile (SD)</li> </ul> </p>
<p> <b>Apache JMeter 1.0.1</b> - Jan 25 1999
<ul>
   <li>Removed pending issues doc issues (SM)</li>
   <li>Fixed the unix script (SM)</li>
   <li>Added the possibility of running the JAR directly using &quot;java -jar
     ApacheJMeter.jar&quot; with Java 2 (SM)</li>
   <li>Some small updates: fixed Swing location after Java 2(tm) release, license update and
     small cleanups (SM)</li>
</ul> </p>
<p> <b>Apache JMeter 1.0</b> - Dec 15 1998
<ul>
   <li>Initial version. (SM)</li>
</ul> </p>
</section>
</body>
</document>
